<%- partial('_partial/bg-cover') %>
<style>
  /* .bg-cover {
        background-image: url("/medias/banner/ticktackbg.jpg")!important;
    } */
  .bg-cover::before {
    background-image: url(https://cdn.jsdelivr.net/gh/moezx/cdn@3.1.9/img/Sakura/images/grid.png);
  }

  .card-content {
    padding: 12px !important;
  }

  hr {
    margin: 8px auto 12px;
  }

  @media only screen and (max-width: 601px) {
    #switchspring {
      bottom: 178px !important;
    }
  }

  .miaoshus {
    padding: 12px;
    border: 1px dashed #e6e6e6;
    color: #969696;
    position: relative;
    display: inline-block;
    width: 95%;
    background: #fbfbfb50;
    border-radius: 10px;
    font-size: 16px;
    margin: 12px auto;
  }

  body.dark .miaoshus {
    background: 0 0;
    border: 1px dashed #888;
  }

  .wrap p {
    font-family: 'Architects Daughter', cursive !important;
    font-size: 18px !important;
    margin: 15px auto !important;
  }

  .im0now {
    color: #e96900;
    font-size: 20px !important;
  }

  #switchspring {
    bottom: 223px;
  }

  .HotDate {
    color: #e96900;
    font-size: 26px;
    font-weight: 400;
    text-align: center;
    margin: 10px auto;
  }

  .biaotis {
    margin: 10px auto;
    text-align: center;
  }

  .biaotis span {
    font-family: 'Architects Daughter', cursive;
    font-size: 19px;
    margin: 15px auto;
    padding-bottom: 6px;
  }

  body.dark .biaotis span {
    color: rgba(255, 255, 255, 0.6);
  }

  .biaotis .zhuti {

    border-bottom: 2px solid #e96900;
  }
</style>
<style>
  .shizhongcard {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .clock {
    min-width: 250px;
    width: 250px;
    height: 250px;
    margin-top: 18px;
    background-color: white;
    border: 15px solid white;
    border-radius: 50%;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1),
      0 10px 10px rgba(0, 0, 0, 0.3), 0 0 0 4px white;
    background-image: url("/medias/clock.png");
    background-size: cover;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .clock::before {
    content: "";
    width: 8px;
    height: 8px;
    position: absolute;
    z-index: 999;
    background-color: rgb(58, 58, 58);
    border-radius: 50%;
  }

  .hour,
  .min,
  .sec {
    position: absolute;
  }

  .hour,
  .hr {
    width: 130px;
    height: 130px;
  }

  .min,
  .mn {
    width: 160px;
    height: 160px;
  }

  .sec,
  .sc {
    width: 200px;
    height: 200px;
  }

  .hr,
  .mn,
  .sc {
    display: flex;
    justify-content: center;
    position: absolute;
  }

  .hr::before {
    width: 5px;
    height: 60px;
    background-color: rgba(219, 0, 0, 0.808);
    content: "";
    border-radius: 6px 6px 0 0;
  }

  .mn::before {
    width: 3px;
    height: 80px;
    background-color: rgb(0, 235, 125);
    content: "";
    border-radius: 6px 6px 0 0;
  }

  .sc::before {
    width: 3px;
    height: 120px;
    background-color: rgb(0, 170, 248);
    content: "";
    border-radius: 6px;
  }

  .sc {
    transition: linear 1s;
  }

  .mn {
    transition: linear 0.1s;
  }

  .hr {
    transition: linear 0.1s;
  }
</style>
<main class="content">
  <div class="container">
    <div class="card">
      <!-- 福袋按钮 -->
      <div class="caishendeng">
        <div class="guguxian">
          <img class="caishenpic gugus" src="/medias/spring-img/shanzi.png" />
        </div>
      </div>
      <div class="card-content">
        <div class="tag-title center-align">
          <div class="miaoshus">
            <div class="title center-align">“ Ticktack 滴滴答答~ ”</div>
            “ 人生几何，九百月矣，深深的话，浅浅的说 ”
          </div>
          <hr>

          <!-- 计算时间模块 -->
          <div class="wrap">
            <p>“ 人生只有 900 余月</p>
            <p>过去的，是回忆</p>
            <p>淡淡的约定，浅浅的留影 ”</p>
            <div><canvas class="myLife" width="300px" height="300px"></canvas></div>
            <p>“ 截至此刻，仅剩 '<span class="im0now"></span><span style="color: #e96900;font-size: 20px;">%</span>' 掌握在自己的手中
            </p>
            <p>幸运和安逸还是留给后面的人生吧，我想趁着有梦，豁出一切。 ”</p>
            <script>
              var birthday = new Date(2001, 10, 4);
              var live = (new Date - birthday) / 2592000000;
              var range = [0, live - 1];
              for (var i = 0; 30 > i; i++) {
                for (var j = 0; 30 > j; j++) {
                  var current = 30 * i + j,
                    canvas = document.getElementsByClassName("myLife")[0],
                    ctx = canvas.getContext("2d");
                  current >= range[0] && current <= range[1] ? ctx.fillStyle = "#ccc" : ctx.fillStyle = "#e96900",
                    ctx.fillRect(10 * j + 1, 10 * i + 1, 8, 8), ctx.strokeStyle = "#000",
                    ctx.lineWidth = 1,
                    ctx.strokeRect(10 * j, 10 * i, 10, 10)
                }
              }
              setInterval(function () {
                if ($("span").hasClass("im0now")) {
                  document.getElementsByClassName("im0now")[0].innerHTML = (100 - (new Date - birthday) /
                    2592000000 / 9).toFixed(9)
                }
              }, 300);
            </script>
          </div>
        </div>
      </div>
    </div>

    <!-- 倒计时 -->
    <div class="card">
      <!-- 时钟盘 -->
      <div class="card-content shizhongcard">
        <div class="clock">
          <div class="hour">
            <div class="hr"></div>
          </div>
          <div class="min">
            <div class="mn"></div>
          </div>
          <div class="sec">
            <div class="sc"></div>
          </div>
        </div>
        <script>
          // 获取几个时钟的dom
          var hr = document.querySelector(".hr");
          var mn = document.querySelector(".mn");
          var sc = document.querySelector(".sc");
          var time = document.querySelector(".time_wrap1");
          //根据当前时间初始化表盘时钟
          var date = new Date();
          var hour = date.getHours();
          var min = date.getMinutes();
          var sec = date.getSeconds();
          var i = sec;
          setInterval(() => {
            hour = date.getHours();
            hr.style.transform = `rotateZ(${hour * 30 + min / 2}deg)`;
            mn.style.transform = `rotateZ(${min * 6}deg)`;
            sc.style.transform = `rotateZ(${sec * 6}deg)`;

            i++;
            min = min + parseInt(i / 60);
            sec++;
            if (i === 60) i = 0;

            var startTime = new Date("2019-9-1"); // 开始时间
            var endTime = new Date(); // 结束时间
            var usedTime = endTime - startTime; // 相差的毫秒数
            var days = Math.floor(usedTime / (24 * 3600 * 1000)); // 计算出天数
            var leavel = usedTime % (24 * 3600 * 1000); // 计算天数后剩余的时间
            var hours = Math.floor(leavel / (3600 * 1000)); // 计算剩余的小时数
            var leavel2 = leavel % (3600 * 1000); // 计算剩余小时后剩余的毫秒数
            var minutes = Math.floor(leavel2 / (60 * 1000)); // 计算剩余的分钟数
            var level3 = leavel2 - minutes * 60 * 1000;
            var seconds = Math.floor(level3 / 1000);
          }, 1000);
        </script>
      </div>
      <!-- 倒计时模块 -->
      <div class="card-content">
        <div class="biaotis">
          <span>距离</span>
          <span class="zhuti">2023</span>
          <span>仅有</span>
        </div>
        <div id="CountMsg" class="HotDate">
          <span id="t_d">00天</span>
          <span id="t_h">00时</span>
          <span id="t_m">00分</span>
          <span id="t_s">00秒</span>
        </div>
        <script type="text/javascript">
          function getRTime() {
            var EndTime = new Date('2023/01/01 00:00:00'); //截止时间
            var NowTime = new Date();
            var t = EndTime.getTime() - NowTime.getTime();

            //累减
            // var d=Math.floor(t/1000/60/60/24);
            // t-=d*(1000*60*60*24);
            // var h=Math.floor(t/1000/60/60);
            // t-=h*60*60*1000;
            // var m=Math.floor(t/1000/60);
            // t-=m*60*1000;
            // var s=Math.floor(t/1000);

            //累加
            var d = Math.floor(t / 1000 / 60 / 60 / 24);
            var h = Math.floor(t / 1000 / 60 / 60 % 24);
            var m = Math.floor(t / 1000 / 60 % 60);
            var s = Math.floor(t / 1000 % 60);

            document.getElementById("t_d").innerHTML = d + "天";
            document.getElementById("t_h").innerHTML = h + "时";
            document.getElementById("t_m").innerHTML = m + "分";
            document.getElementById("t_s").innerHTML = s + "秒";
          }
          setInterval(getRTime, 1000);
        </script>

      </div>
    </div>
    <!-- 评论模块 -->
    <div class="card">
      <% if (theme.gitalk && theme.gitalk.enable) { %>
      <%- partial('_partial/gitalk') %>
      <% } %>

      <% if (theme.gitment.enable) { %>
      <%- partial('_partial/gitment') %>
      <% } %>

      <% if (theme.disqus.enable) { %>
      <%- partial('_partial/disqus') %>
      <% } %>

      <% if (theme.livere && theme.livere.enable) { %>
      <%- partial('_partial/livere') %>
      <% } %>

      <% if (theme.valine && theme.valine.enable) { %>
      <%- partial('_partial/valine') %>
      <% } %>

      <% if (theme.minivaline && theme.minivaline.enable) { %>
      <%- partial('_partial/minivaline') %>
      <% } %>
    </div>
  </div>
</main>