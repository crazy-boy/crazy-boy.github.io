<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Laravelå»ºè®®</title>
      <link href="/posts/laravel-tips.html"/>
      <url>/posts/laravel-tips.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="åŠ©æ‰‹æ–¹æ³•blank-å’Œfilled"><a href="#åŠ©æ‰‹æ–¹æ³•blank-å’Œfilled" class="headerlink" title="åŠ©æ‰‹æ–¹æ³•blank()å’Œfilled()"></a>åŠ©æ‰‹æ–¹æ³•<code>blank()</code>å’Œ<code>filled()</code></h4><p>æ‚¨æ˜¯å¦çŸ¥é“ Laravel é™„å¸¦äº†ä¸¤ä¸ªå¾ˆé…·çš„åŠ©æ‰‹æ–¹æ³•<code>blank()</code>å’Œ<code>filled()</code>,ç°åœ¨ï¼Œæ‚¨å¯ä»¥é‡‡ç”¨æ ‡å‡†åŒ–æ–¹æ³•æ¥æµ‹è¯•å˜é‡æ˜¯å¦ä¸ºç©ºï¼Œæ— è®ºå…¶ç±»å‹å¦‚ä½•ï¼Œç”šè‡³æ”¯æŒé›†åˆï¼<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Will return true</span></span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="string">''</span>);</span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="string">'    '</span>);</span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="title function_ invoke__">collect</span>());</span><br><span class="line"><span class="title function_ invoke__">blank</span>([]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Will return false</span></span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="number">0</span>);</span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="string">'string'</span>);</span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">blank</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="title function_ invoke__">blank</span>([<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// For the inverse, you can make use of filled()</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="åŠ©æ‰‹æ–¹æ³•words"><a href="#åŠ©æ‰‹æ–¹æ³•words" class="headerlink" title="åŠ©æ‰‹æ–¹æ³•words()"></a>åŠ©æ‰‹æ–¹æ³•<code>words()</code></h4><p>æœ‰æ—¶ï¼Œä½ å¯èƒ½æƒ³è¦é™åˆ¶å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°é‡ã€‚å¥½å§ï¼ŒLaravel æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„åŠ©æ‰‹æ–¹æ³•<code>words()</code>ï¼ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Str</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Str</span>::<span class="title function_ invoke__">words</span>(<span class="string">"Don't refactor without tests."</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// Don't refactor ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Str</span>::<span class="title function_ invoke__">words</span>(<span class="string">"Don't refactor without tests."</span>, <span class="number">2</span>, <span class="string">' ğŸ‘€'</span>);</span><br><span class="line"><span class="comment">// Don't refactor ğŸ‘€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// You can also use fluent string ğŸ˜</span></span><br><span class="line"><span class="keyword">return</span> <span class="title function_ invoke__">str</span>(<span class="string">"Don't refactor without tests."</span>)-&gt;<span class="title function_ invoke__">words</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// Don't refactor ...</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ•°æ®è¡¨å­—æ®µå€¼å¢åŠ æˆ–è€…å‡å°‘çš„æ–¹æ³•"><a href="#æ•°æ®è¡¨å­—æ®µå€¼å¢åŠ æˆ–è€…å‡å°‘çš„æ–¹æ³•" class="headerlink" title="æ•°æ®è¡¨å­—æ®µå€¼å¢åŠ æˆ–è€…å‡å°‘çš„æ–¹æ³•"></a>æ•°æ®è¡¨å­—æ®µå€¼å¢åŠ æˆ–è€…å‡å°‘çš„æ–¹æ³•</h4><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦é€šè¿‡å¢åŠ æˆ–å‡å°‘å€¼æ¥æ›´æ–°å­—æ®µçš„å€¼ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šç¼–å†™æŸ¥è¯¢æ¥å®ç°ï¼Œä½† Laravel æä¾›äº†ä¼˜é›…çš„æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Increment votes by 1</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">'users'</span>)-&gt;<span class="title function_ invoke__">increment</span>(<span class="string">'votes'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Increment votes by 5</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">'users'</span>)-&gt;<span class="title function_ invoke__">increment</span>(<span class="string">'votes'</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decrement votes by 1</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">'users'</span>)-&gt;<span class="title function_ invoke__">decrement</span>(<span class="string">'votes'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decrement votes by 5</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">'users'</span>)-&gt;<span class="title function_ invoke__">decrement</span>(<span class="string">'votes'</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Increment votes by 1 and set the name to John</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">'users'</span>)-&gt;<span class="title function_ invoke__">increment</span>(<span class="string">'votes'</span>, <span class="number">1</span>, [<span class="string">'name'</span> =&gt; <span class="string">'John'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// You can increment multiple columns at once</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">'users'</span>)-&gt;<span class="title function_ invoke__">incrementEach</span>([</span><br><span class="line">    <span class="string">'votes'</span> =&gt; <span class="number">5</span>,    // Will increment votes by <span class="number">5</span></span><br><span class="line">    <span class="string">'balance'</span> =&gt; <span class="number">100</span>, // Will increment balance by <span class="number">100</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// You can also use them with Eloquent</span></span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">incrementEach</span>([</span><br><span class="line">    <span class="string">'votes'</span> =&gt; <span class="number">5</span>,    // Will increment votes by <span class="number">5</span></span><br><span class="line">    <span class="string">'balance'</span> =&gt; <span class="number">100</span>  // Will increment balance by <span class="number">100</span></span><br><span class="line">]);</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ£€æŸ¥ç»™å®šModelé”®çš„å€¼æ˜¯å¦å·²æ›´æ”¹"><a href="#æ£€æŸ¥ç»™å®šModelé”®çš„å€¼æ˜¯å¦å·²æ›´æ”¹" class="headerlink" title="æ£€æŸ¥ç»™å®šModelé”®çš„å€¼æ˜¯å¦å·²æ›´æ”¹"></a>æ£€æŸ¥ç»™å®šModelé”®çš„å€¼æ˜¯å¦å·²æ›´æ”¹</h4><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æ£€æŸ¥ç»™å®šModelé”®çš„å€¼æ˜¯å¦å‘ç”Ÿæ›´æ”¹ã€‚ Laravel æä¾›äº†<code>originalIsEquivalent()</code>æ–¹æ³•æ¥æ‰§è¡Œæ­¤æ“ä½œ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">firstOrFail</span>(); <span class="comment">// ['name' =&gt; 'old']</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;name = <span class="string">'old'</span>; <span class="comment">// Keep the old value</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">originalIsEquivalent</span>(<span class="string">'name'</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;name = <span class="string">'new'</span>; <span class="comment">// Change the value</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">originalIsEquivalent</span>(<span class="string">'name'</span>); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="äººç±»å¯è¯»çš„æ—¥æœŸ"><a href="#äººç±»å¯è¯»çš„æ—¥æœŸ" class="headerlink" title="äººç±»å¯è¯»çš„æ—¥æœŸ"></a>äººç±»å¯è¯»çš„æ—¥æœŸ</h4><p>æ‚¨æ˜¯å¦æ›¾ç»æƒ³æ˜¾ç¤ºäººæ€§åŒ–æ—¥æœŸè€Œä¸æ˜¯ç¡®åˆ‡æ—¥æœŸï¼Ÿä¾‹å¦‚â€œ1 å¤©å‰â€æˆ–â€œä¸€ä¸ªæœˆå‰â€ï¼ŸLaravel å…è®¸æ‚¨ä½¿ç”¨<code>diffForHumans()</code>æ–¹æ³•å®ç° ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Carbon</span>\<span class="title">Carbon</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 days ago</span></span><br><span class="line"><span class="variable">$post</span>-&gt;created_at-&gt;<span class="title function_ invoke__">diffForHumans</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 days 23 minutes ago</span></span><br><span class="line"><span class="variable">$post</span>-&gt;created_at-&gt;<span class="title function_ invoke__">diffForHumans</span>([<span class="string">'parts'</span> =&gt; <span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 days 24 minutes 36 seconds ago</span></span><br><span class="line"><span class="variable">$post</span>-&gt;created_at-&gt;<span class="title function_ invoke__">diffForHumans</span>([<span class="string">'parts'</span> =&gt; <span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 second ago</span></span><br><span class="line"><span class="title class_">Carbon</span>::<span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">diffForHumans</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="startOfHour-æ–¹æ³•"><a href="#startOfHour-æ–¹æ³•" class="headerlink" title="startOfHour()æ–¹æ³•"></a><code>startOfHour()</code>æ–¹æ³•</h4><p>åœ¨å¤„ç†æ—¶é—´æ—¶ï¼Œæ‚¨å¯èƒ½å¸Œæœ›æœ‰ä¸€ä¸ªå‡†ç¡®çš„æ—¶é—´ï¼Œä¾‹å¦‚ 18:00:00ã€‚ç”±äº Laravel åœ¨åå°ä½¿ç”¨ Carbonï¼Œå› æ­¤æ‚¨å¯ä»¥è®¿é—®<code>startOfHour()</code> ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2024-12-05 09:05:55</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">Carbon</span>::<span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">format</span>(<span class="string">'Y-m-d H:i:s'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2024-12-05 09:00:00</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">Carbon</span>::<span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">startOfHour</span>()-&gt;<span class="title function_ invoke__">format</span>(<span class="string">'Y-m-d H:i:s'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2024-12-05 09:05:00</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">Carbon</span>::<span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">startOfMinute</span>()-&gt;<span class="title function_ invoke__">format</span>(<span class="string">'Y-m-d H:i:s'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2024-12-05 09:05:55</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">Carbon</span>::<span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">startOfSecond</span>()-&gt;<span class="title function_ invoke__">format</span>(<span class="string">'Y-m-d H:i:s'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2024-12-05 00:00:00</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">Carbon</span>::<span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">startOfDay</span>()-&gt;<span class="title function_ invoke__">format</span>(<span class="string">'Y-m-d H:i:s'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2024-12-01 00:00:00</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">Carbon</span>::<span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">startOfMonth</span>()-&gt;<span class="title function_ invoke__">format</span>(<span class="string">'Y-m-d H:i:s'</span>);</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="ä½¿ç”¨â€œwhereIntegerInRawâ€è¿›è¡Œæ›´å¿«çš„æŸ¥è¯¢"><a href="#ä½¿ç”¨â€œwhereIntegerInRawâ€è¿›è¡Œæ›´å¿«çš„æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨â€œwhereIntegerInRawâ€è¿›è¡Œæ›´å¿«çš„æŸ¥è¯¢"></a>ä½¿ç”¨â€œwhereIntegerInRawâ€è¿›è¡Œæ›´å¿«çš„æŸ¥è¯¢</h4><p>å½“ä½¿ç”¨éç”¨æˆ·è¾“å…¥çš„ whereIn æŸ¥è¯¢æ—¶ï¼Œè¯·é€‰æ‹© whereIntegerInRawã€‚è¿™å¯ä»¥é€šè¿‡è·³è¿‡ PDO ç»‘å®šå’Œ Laravel çš„ SQL æ³¨å…¥å®‰å…¨æªæ–½æ¥åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Instead of using whereIn()</span></span><br><span class="line"><span class="title class_">Product</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">whereIn</span>(<span class="string">'id'</span>, <span class="title function_ invoke__">range</span>(<span class="number">1</span>, <span class="number">10000</span>))-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use WhereIntegerInRaw()</span></span><br><span class="line"><span class="title class_">Product</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">whereIntegerInRaw</span>(<span class="string">'id'</span>, <span class="title function_ invoke__">range</span>(<span class="number">1</span>, <span class="number">10000</span>))-&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ²¡æœ‰æ—¶é—´æˆ³åˆ—"><a href="#æ²¡æœ‰æ—¶é—´æˆ³åˆ—" class="headerlink" title="æ²¡æœ‰æ—¶é—´æˆ³åˆ—"></a>æ²¡æœ‰æ—¶é—´æˆ³åˆ—</h4><p>æœ‰æ—¶ï¼Œä½ çš„è¡¨å¯èƒ½æ²¡æœ‰â€œcreated_atâ€å’Œâ€œupdated_atâ€åˆ—ã€‚ä½ å¯ä»¥é€šè¿‡å°†â€œtimestampsâ€è®¾ç½®ä¸º false æ¥æŒ‡ç¤º Laravel ä¸è¦æ›´æ–°å®ƒä»¬ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Models</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Flight</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Indicates if the model should be timestamped.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> bool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$timestamps</span> = <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="Blade-è½¬-HTML"><a href="#Blade-è½¬-HTML" class="headerlink" title="Blade è½¬ HTML"></a>Blade è½¬ HTML</h4><p>ä½ çŸ¥é“å—ï¼Œä½ å¯ä»¥ä½¿ç”¨ Blade å°†è§†å›¾æ¸²æŸ“ä¸ºå­—ç¬¦ä¸²ï¼Œæ— è®ºä½ æƒ³è¦ä»€ä¹ˆï¼Ÿè¿™å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºä½ å¯ä»¥ä½¿ç”¨ Blade æ„å»ºåŠ¨æ€å­—ç¬¦ä¸²ç”šè‡³ shell è„šæœ¬ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// This renders the blade file welcome.blade.php into an HTML string</span></span><br><span class="line"><span class="variable">$rendered</span> = <span class="title function_ invoke__">view</span>(<span class="string">'welcome'</span>, [<span class="string">'foo'</span> =&gt; <span class="string">'bar'</span>])-&gt;<span class="title function_ invoke__">render</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œdoesntExistâ€-æ–¹æ³•"><a href="#â€œdoesntExistâ€-æ–¹æ³•" class="headerlink" title="â€œdoesntExistâ€ æ–¹æ³•"></a>â€œdoesntExistâ€ æ–¹æ³•</h4><p>æœ‰æ—¶æ‚¨å¯èƒ½æƒ³æ£€æŸ¥æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨æŸäº›è®°å½•ã€‚è™½ç„¶æ£€æŸ¥è®¡æ•°æˆ–ä½¿ç”¨existsï¼ˆï¼‰æ–¹æ³•å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†Laravelé™„å¸¦äº†â€œdoesntExistâ€æ–¹æ³•æ¥ä¼˜é›…åœ°å®Œæˆæ­¤æ“ä½œ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// This is okay ğŸ˜Š</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'id'</span>,<span class="string">'='</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">count</span>() === <span class="number">0</span>) {</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is good ğŸ˜Š</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'id'</span>,<span class="string">'='</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">exists</span>()) {</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is better ğŸ˜</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'id'</span>,<span class="string">'='</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">doesntExist</span>()) {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="å…‹éš†æ‚¨çš„æŸ¥è¯¢"><a href="#å…‹éš†æ‚¨çš„æŸ¥è¯¢" class="headerlink" title="å…‹éš†æ‚¨çš„æŸ¥è¯¢"></a>å…‹éš†æ‚¨çš„æŸ¥è¯¢</h4><p>æœ‰æ—¶æ‚¨å¯èƒ½éœ€è¦é‡å¤ä½¿ç”¨ç›¸åŒçš„åŸºæœ¬æŸ¥è¯¢æ¥è¿›è¡Œå¤šæ¬¡è¿‡æ»¤ã€‚Laravel é™„å¸¦äº†â€œå…‹éš†â€æ–¹æ³•æ¥æ‰§è¡Œæ­¤æ“ä½œ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Base query, common conditions</span></span><br><span class="line"><span class="variable">$query</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'created_at'</span>, <span class="string">'&lt;'</span>, <span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">subMonths</span>(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="variable">$verified_users</span> = <span class="variable">$query</span>-&gt;<span class="keyword">clone</span>()-&gt;<span class="title function_ invoke__">whereNotNull</span>(<span class="string">'email_verified_at'</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// This can be customized further if needed</span></span><br><span class="line"><span class="variable">$unverified_users</span> = <span class="variable">$query</span>-&gt;<span class="keyword">clone</span>()-&gt;<span class="title function_ invoke__">whereNull</span>(<span class="string">'email_verified_at'</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="åŠ¨æ€éšè—åˆ—"><a href="#åŠ¨æ€éšè—åˆ—" class="headerlink" title="åŠ¨æ€éšè—åˆ—"></a>åŠ¨æ€éšè—åˆ—</h4><p>æœ‰æ—¶ï¼Œä½ å¯èƒ½æƒ³è¦éšè—æœªåœ¨â€œhiddenâ€æ•°ç»„ä¸­å®šä¹‰çš„æ¨¡å‹å±æ€§ã€‚Laravel å…è®¸ä½ ä½¿ç”¨â€œmakeHiddenâ€æ–¹æ³•åŠ¨æ€æ‰§è¡Œæ­¤æ“ä½œ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$users</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">makeHidden</span>([<span class="string">'address'</span>, <span class="string">'phone_number'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable">$seed</span> = <span class="title class_">Seeds</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">'id'</span>,<span class="string">'='</span>, <span class="number">801</span>)-&gt;<span class="title function_ invoke__">first</span>()-&gt;<span class="title function_ invoke__">makeHidden</span>([<span class="string">'seed'</span>,<span class="string">'type'</span>])-&gt;<span class="title function_ invoke__">toArray</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œdata-getâ€-åŠ©æ‰‹"><a href="#â€œdata-getâ€-åŠ©æ‰‹" class="headerlink" title="â€œdata_getâ€ åŠ©æ‰‹"></a>â€œdata_getâ€ åŠ©æ‰‹</h4><p>ä½¿ç”¨åµŒå¥—æ•°ç»„æ—¶ï¼ŒLaravel æä¾›äº†ä¸€ä¸ªåä¸ºâ€œdata_getâ€çš„é…·åŠ©æ‰‹ã€‚æ­¤åŠ©æ‰‹å…è®¸æ‚¨ä½¿ç”¨<code>.</code>è¯­æ³•å’Œé€šé…ç¬¦æ¥æ£€ç´¢å€¼ï¼›å½“ç„¶ä¹Ÿæœ‰<code>data_set()</code> ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$data</span> = [</span><br><span class="line"><span class="string">'product-one'</span> =&gt; [<span class="string">'name'</span> =&gt; <span class="string">'Desk 1'</span>, <span class="string">'price'</span> =&gt; <span class="number">100</span>],</span><br><span class="line"><span class="string">'product-two'</span> =&gt; [<span class="string">'name'</span> =&gt; <span class="string">'Desk 2'</span>, <span class="string">'price'</span> =&gt; <span class="number">150</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="variable">$res1</span> = <span class="title function_ invoke__">data_get</span>(<span class="variable">$data</span>, <span class="string">'product-one.name'</span>); </span><br><span class="line"><span class="variable">$res2</span> = <span class="title function_ invoke__">data_get</span>(<span class="variable">$data</span>, <span class="string">'*.name'</span>); </span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="variable">$res1</span>);<span class="comment">// 'Desk 1';</span></span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="variable">$res2</span>);<span class="comment">// ['Desk 1', 'Desk 2'];</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">data_set</span>(<span class="variable">$data</span>,<span class="string">'product-two.price'</span>,<span class="number">210.5</span>);</span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="title function_ invoke__">data_get</span>(<span class="variable">$data</span>, <span class="string">'product-two.price'</span>));     <span class="comment">// 210.5</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ›´å¥½åœ°æ£€æŸ¥è¾“å…¥æ˜¯å¦å­˜åœ¨"><a href="#æ›´å¥½åœ°æ£€æŸ¥è¾“å…¥æ˜¯å¦å­˜åœ¨" class="headerlink" title="æ›´å¥½åœ°æ£€æŸ¥è¾“å…¥æ˜¯å¦å­˜åœ¨"></a>æ›´å¥½åœ°æ£€æŸ¥è¾“å…¥æ˜¯å¦å­˜åœ¨</h4><p>æˆ‘ä»¬ç»å¸¸éœ€è¦æ£€æŸ¥è¯·æ±‚æ˜¯å¦åŒ…å«æŸäº›å€¼ã€‚ä½ çŸ¥é“ Laravel é™„å¸¦äº†ä¸¤ç§å¾ˆé…·çš„æ–¹æ³•â€œhasâ€å’Œâ€œhasAnyâ€ï¼Œå¯ä»¥ä¼˜é›…åœ°æ‰§è¡Œè¿™äº›æ£€æŸ¥å—ï¼Ÿ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// True if ALL of the values are present</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">has</span>([<span class="string">'name'</span>, <span class="string">'email'</span>])) {</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// True if ANY of the values are present</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">hasAny</span>([<span class="string">'name'</span>, <span class="string">'email'</span>])) {</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="Arr-has-åŠ©æ‰‹æ–¹æ³•"><a href="#Arr-has-åŠ©æ‰‹æ–¹æ³•" class="headerlink" title="Arr::has()åŠ©æ‰‹æ–¹æ³•"></a><code>Arr::has()</code>åŠ©æ‰‹æ–¹æ³•</h4><p>æˆ‘ä»¬ç»å¸¸éœ€è¦æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦æœ‰æŒ‡å®šçš„é”®ï¼ŒLaravel çš„ArråŠ©æ‰‹ç±»é‡Œæä¾›äº†<code>has()</code>çš„å¤„ç†æ–¹æ³• ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$data</span> = [</span><br><span class="line"><span class="string">'product-one'</span> =&gt; [<span class="string">'name'</span> =&gt; <span class="string">'Desk 1'</span>, <span class="string">'price'</span> =&gt; <span class="number">100</span>],</span><br><span class="line"><span class="string">'product-two'</span> =&gt; [<span class="string">'name'</span> =&gt; <span class="string">'Desk 2'</span>, <span class="string">'price'</span> =&gt; <span class="number">150</span>],</span><br><span class="line"><span class="string">'product-third'</span> =&gt; <span class="literal">null</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="title class_">Arr</span>::<span class="title function_ invoke__">has</span>(<span class="variable">$data</span>, <span class="string">'product-one'</span>));       <span class="comment">// true</span></span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="title class_">Arr</span>::<span class="title function_ invoke__">has</span>(<span class="variable">$data</span>, <span class="string">'product-one.name'</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="title class_">Arr</span>::<span class="title function_ invoke__">has</span>(<span class="variable">$data</span>, <span class="string">'product-third'</span>));     <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="latest-å’Œoldest-æ–¹æ³•"><a href="#latest-å’Œoldest-æ–¹æ³•" class="headerlink" title="latest()å’Œoldest()æ–¹æ³•"></a><code>latest()</code>å’Œ<code>oldest()</code>æ–¹æ³•</h4><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨â€œorderByâ€æ–¹æ³•æŒ‰å‡åºæˆ–é™åºå¯¹æ¨¡å‹è¿›è¡Œæ’åºã€‚ä½†ä½ çŸ¥é“ Laravel é™„å¸¦ä¸¤ç§æ–¹æ³•â€œlatestâ€å’Œâ€œoldestâ€å°±æ˜¯ç”¨æ¥åšè¿™ä¸ªçš„å—ï¼Ÿ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Instead of this ğŸ¥±</span></span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">orderBy</span>(<span class="string">'created_at'</span>, <span class="string">'desc'</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">orderBy</span>(<span class="string">'created_at'</span>, <span class="string">'asc'</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Do this ğŸ˜</span></span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">latest</span>()-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">oldest</span>()-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// You can specify keys other than created_at</span></span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">latest</span>(<span class="string">'id'</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">query</span>()-&gt;<span class="title function_ invoke__">oldest</span>(<span class="string">'id'</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¤„ç†æ•°æ®æ•°æ®ï¼Œå¯æ”¾åœ¨Collectioné‡Œè¿›è¡Œå¤„ç†ï¼Œå› ä¸ºLaravelä¸ºCollectionæä¾›äº†å¾ˆå¤šå¤„ç†æ–¹æ³• ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="variable">$collection</span> = <span class="title function_ invoke__">collect</span>([<span class="string">'price'</span> =&gt; <span class="number">100</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Check and set value if not exists</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">has</span>(<span class="string">'name'</span>)) {</span><br><span class="line">    <span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">put</span>(<span class="string">'name'</span>, <span class="string">'Desk'</span>);</span><br><span class="line">}</span><br><span class="line"><span class="variable">$value</span> = <span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">get</span>(<span class="string">'name'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Or use getOrPut() for the same operation</span></span><br><span class="line"><span class="variable">$value</span> = <span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">getOrPut</span>(<span class="string">'name'</span>, <span class="string">'Desk'</span>);</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œtimesâ€-æ–¹æ³•"><a href="#â€œtimesâ€-æ–¹æ³•" class="headerlink" title="â€œtimesâ€ æ–¹æ³•"></a>â€œtimesâ€ æ–¹æ³•</h4><p>æ‚¨æ˜¯å¦çŸ¥é“ Laravel é™„å¸¦äº†ä¸€ä¸ªå¾ˆé…·çš„é›†åˆæ–¹æ³•â€œtimesâ€ï¼Œå®ƒå…è®¸æ‚¨é€šè¿‡è°ƒç”¨é—­åŒ… N æ¬¡æ¥åˆ›å»ºé›†åˆï¼Ÿè¿™åœ¨å¤„ç†æ—¥æœŸæˆ–ç”Ÿæˆéšæœºå­—ç¬¦ä¸²æ—¶å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ ğŸš€<br></p><figure class="highlight arcade"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$collectio</span>n = Collection::times(<span class="number">10</span>, <span class="keyword">function</span> (<span class="params">int $number</span>) {</span><br><span class="line">    <span class="keyword">return</span> $<span class="built_in">number</span> * <span class="number">9</span>;</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="symbol">$collectio</span>n-&gt;<span class="built_in">all</span>(); </span><br><span class="line"><span class="comment">// [9, 18, 27, 36, 45, 54, 63, 72, 81, 90]</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="è®¿é—®çˆ¶å¾ªç¯å˜é‡"><a href="#è®¿é—®çˆ¶å¾ªç¯å˜é‡" class="headerlink" title="è®¿é—®çˆ¶å¾ªç¯å˜é‡"></a>è®¿é—®çˆ¶å¾ªç¯å˜é‡</h4><p>æœ‰æ—¶ï¼Œåœ¨å¤„ç†åµŒå¥—å¾ªç¯æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›è·Ÿè¸ªçˆ¶çº§çš„è¿­ä»£ã€‚Blade è®©è¿™ä¸€åˆ‡å˜å¾—éå¸¸ç®€å•ï¼Œå› ä¸ºä½ å¯ä»¥è®¿é—®çˆ¶çº§å¾ªç¯å˜é‡ ğŸš€<br></p><figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@foreach</span> ($users as $user)</span><br><span class="line">    <span class="variable">@foreach</span> ($user-&gt;posts as $post)</span><br><span class="line">        <span class="variable">@if</span> ($loop-&gt;parent-&gt;first)</span><br><span class="line">            <span class="comment">// This is the first iteration of the parent loop.</span></span><br><span class="line">        <span class="variable">@endif</span></span><br><span class="line">    <span class="variable">@endforeach</span></span><br><span class="line"><span class="variable">@endforeach</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œforgeâ€-Collectionæ–¹æ³•"><a href="#â€œforgeâ€-Collectionæ–¹æ³•" class="headerlink" title="â€œforgeâ€ Collectionæ–¹æ³•"></a>â€œforgeâ€ Collectionæ–¹æ³•</h4><p>æœ‰æ—¶ï¼Œåœ¨ä½¿ç”¨é›†åˆæ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›é€šè¿‡å…¶é”®åˆ é™¤å…ƒç´ ã€‚å¹¸è¿çš„æ˜¯ï¼Œé›†åˆå¸¦æœ‰â€œå¿˜è®°â€æ–¹æ³•ï¼Œå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span> = <span class="title function_ invoke__">collect</span>([<span class="string">'name'</span> =&gt; <span class="string">'John Doe'</span>, <span class="string">'framework'</span> =&gt; <span class="string">'laravel'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">forget</span>(<span class="string">'name'</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">all</span>(); <span class="comment">// ['framework' =&gt; 'laravel']</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œzipâ€-Collectionæ–¹æ³•"><a href="#â€œzipâ€-Collectionæ–¹æ³•" class="headerlink" title="â€œzipâ€ Collectionæ–¹æ³•"></a>â€œzipâ€ Collectionæ–¹æ³•</h4><p>ä½¿ç”¨é›†åˆæ—¶ï¼Œæ‚¨å¯èƒ½å¸Œæœ›æŒ‰ç´¢å¼•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼Œå…ˆåˆå¹¶ç¬¬ä¸€ä¸ªç´¢å¼•çš„å€¼ï¼Œç„¶ååˆå¹¶ç¬¬äºŒä¸ªç´¢å¼•çš„å€¼ï¼Œä¾æ­¤ç±»æ¨ã€‚å¹¸è¿çš„æ˜¯ï¼ŒLaravel åŒ…å«â€œzipâ€æ–¹æ³•æ¥æ‰§è¡Œæ­¤æ“ä½œğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span> = <span class="title function_ invoke__">collect</span>([<span class="string">'Chair'</span>, <span class="string">'Desk'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// This will merge values by index, so "Chair" with 100, and "Desk" with 200</span></span><br><span class="line"><span class="variable">$zipped</span> = <span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">zip</span>([<span class="number">100</span>, <span class="number">200</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable">$zipped</span>-&gt;<span class="title function_ invoke__">all</span>(); <span class="comment">// [['Chair', 100], ['Desk', 200]]</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œeveryâ€-Collectionæ–¹æ³•"><a href="#â€œeveryâ€-Collectionæ–¹æ³•" class="headerlink" title="â€œeveryâ€ Collectionæ–¹æ³•"></a>â€œeveryâ€ Collectionæ–¹æ³•</h4><p>æœ‰æ—¶ä½ å¯èƒ½æƒ³æ£€æŸ¥é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæ¡ä»¶ã€‚å¹¸è¿çš„æ˜¯ï¼ŒLaravel é™„å¸¦äº†â€œeveryâ€æ–¹æ³•æ¥åšåˆ°è¿™ä¸€ç‚¹ğŸš€<br></p><figure class="highlight xquery"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$result1</span> = collect([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])-&gt;<span class="keyword">every</span>(<span class="keyword">function</span> (int <span class="variable">$value</span>, int <span class="variable">$key</span>) { <span class="keyword">return</span> <span class="variable">$value</span> &gt; <span class="number">2</span>;} );</span><br><span class="line">// <span class="variable">$result</span> will be<span class="built_in"> false</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$result2</span> = collect([])-&gt;<span class="keyword">every</span>(<span class="keyword">function</span> (int <span class="variable">$value</span>, int <span class="variable">$key</span>){ <span class="keyword">return</span> <span class="variable">$value</span> &gt; <span class="number">2</span>;});</span><br><span class="line">// Since the<span class="built_in"> collection</span> <span class="literal">is</span><span class="built_in"> empty</span>, <span class="variable">$result</span> will be<span class="built_in"> true</span></span><br><span class="line">dump(<span class="variable">$result1</span>,<span class="variable">$result2</span>);</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œWhenNotEmptyâ€-Collectionæ–¹æ³•"><a href="#â€œWhenNotEmptyâ€-Collectionæ–¹æ³•" class="headerlink" title="â€œWhenNotEmptyâ€ Collectionæ–¹æ³•"></a>â€œWhenNotEmptyâ€ Collectionæ–¹æ³•</h4><p>åœ¨ä½¿ç”¨é›†åˆæ—¶ï¼Œæ‚¨å¯èƒ½å¸Œæœ›åœ¨é›†åˆä¸ä¸ºç©ºæ—¶æ‰§è¡Œä¸€äº›é€»è¾‘ã€‚Laravel æ— éœ€æ‰‹åŠ¨æ£€æŸ¥ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¾ˆé…·çš„æ–¹æ³•â€œwhenNotEmpty()â€ï¼Œå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span> = <span class="title function_ invoke__">collect</span>([<span class="string">'michael'</span>, <span class="string">'tom'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">whenNotEmpty</span>(function (Collection <span class="variable">$collection</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">push</span>(<span class="string">'adam'</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">all</span>(); <span class="comment">// ['michael', 'tom', 'adam']</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span> = <span class="title function_ invoke__">collect</span>(); <span class="comment">// empty collection</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">whenNotEmpty</span>(function (Collection <span class="variable">$collection</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">push</span>(<span class="string">'adam'</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">all</span>(); <span class="comment">// []</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æœç´¢Collectionå†…å®¹"><a href="#æœç´¢Collectionå†…å®¹" class="headerlink" title="æœç´¢Collectionå†…å®¹"></a>æœç´¢Collectionå†…å®¹</h4><p>ä½ çŸ¥é“ Laravel å…è®¸ä½ æœç´¢é›†åˆé¡¹å—ï¼Ÿä½ ç”šè‡³å¯ä»¥ä¼ é€’ä¸€ä¸ªæ¡ä»¶æ¥æœç´¢æ»¡è¶³è¯¥æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´  ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$collection</span> = <span class="title function_ invoke__">collect</span>([<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">search</span>(<span class="string">'4'</span>); <span class="comment">// 1 (the index)</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">search</span>(<span class="string">'4'</span>, <span class="attr">strict</span>: <span class="literal">true</span>); <span class="comment">// false (not found)</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">search</span>(function (<span class="keyword">int</span> <span class="variable">$item</span>, <span class="keyword">int</span> <span class="variable">$key</span>){<span class="keyword">return</span> <span class="variable">$item</span> &gt; <span class="number">5</span>;}); <span class="comment">// 2 (the index)</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ£€æŸ¥ä½ çš„æ¨¡å‹è‡ªä¸Šæ¬¡æ£€ç´¢ä»¥æ¥æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–"><a href="#æ£€æŸ¥ä½ çš„æ¨¡å‹è‡ªä¸Šæ¬¡æ£€ç´¢ä»¥æ¥æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–" class="headerlink" title="æ£€æŸ¥ä½ çš„æ¨¡å‹è‡ªä¸Šæ¬¡æ£€ç´¢ä»¥æ¥æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–"></a>æ£€æŸ¥ä½ çš„æ¨¡å‹è‡ªä¸Šæ¬¡æ£€ç´¢ä»¥æ¥æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–</h4><p>æ‚¨æ˜¯å¦çŸ¥é“ Laravel é™„å¸¦äº†è¯¥isDirty()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å…è®¸æ‚¨æ£€æŸ¥è‡ªä¸Šæ¬¡æ£€ç´¢æ¨¡å‹ä»¥æ¥ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§æ˜¯å¦å·²æ›´æ”¹ï¼ŸğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Models</span>\<span class="title">User</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">create</span>([</span><br><span class="line">    <span class="string">'first_name'</span> =&gt; <span class="string">'John'</span>,</span><br><span class="line">    <span class="string">'last_name'</span> =&gt; <span class="string">'Doe'</span>,</span><br><span class="line">    <span class="string">'age'</span> =&gt; <span class="number">20</span>,</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;age = <span class="number">21</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">isDirty</span>(); <span class="comment">// true</span></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">isDirty</span>(<span class="string">'age'</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">isDirty</span>(<span class="string">'first_name'</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">isDirty</span>([<span class="string">'first_name'</span>, <span class="string">'age'</span>]); <span class="comment">// true</span></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">isDirty</span>([<span class="string">'first_name'</span>, <span class="string">'last_name'</span>]); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">save</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$user</span>-&gt;<span class="title function_ invoke__">isDirty</span>(); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="è‡ªå®šä¹‰é»˜è®¤æ—¶é—´æˆ³åˆ—"><a href="#è‡ªå®šä¹‰é»˜è®¤æ—¶é—´æˆ³åˆ—" class="headerlink" title="è‡ªå®šä¹‰é»˜è®¤æ—¶é—´æˆ³åˆ—"></a>è‡ªå®šä¹‰é»˜è®¤æ—¶é—´æˆ³åˆ—</h4><p>æœ‰æ—¶ï¼Œæ‚¨å¯èƒ½éœ€è¦è‡ªå®šä¹‰é»˜è®¤æ—¶é—´æˆ³åˆ—ï¼Œæˆ–è€…æ‚¨å¯èƒ½å·²ç»æœ‰ä¸€ä¸ªæ­£åœ¨ä¸ºå…¶åˆ›å»ºæ¨¡å‹çš„æ—§è¡¨ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™æ ·åšéå¸¸ç®€å• ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Flight</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">CREATED_AT</span> = <span class="string">'creation_date'</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">UPDATED_AT</span> = <span class="string">'updated_date'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="åˆ é™¤ï¼ˆé”€æ¯ï¼‰è®°å½•"><a href="#åˆ é™¤ï¼ˆé”€æ¯ï¼‰è®°å½•" class="headerlink" title="åˆ é™¤ï¼ˆé”€æ¯ï¼‰è®°å½•"></a>åˆ é™¤ï¼ˆé”€æ¯ï¼‰è®°å½•</h4><p>æ‚¨æ˜¯å¦çŸ¥é“ Laravel é™„å¸¦äº†destroyå…è®¸æ‚¨é€šè¿‡ä¸»é”®åˆ é™¤è®°å½•çš„æ–¹æ³•ï¼ŸğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Instead of this ğŸ˜¢</span></span><br><span class="line"><span class="title class_">Flight</span>::<span class="title function_ invoke__">find</span>(<span class="number">1</span>)-&gt;<span class="title function_ invoke__">delete</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Do this ğŸ˜</span></span><br><span class="line"><span class="title class_">Flight</span>::<span class="title function_ invoke__">destroy</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Flight</span>::<span class="title function_ invoke__">destroy</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// works with variadic arguments</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Flight</span>::<span class="title function_ invoke__">destroy</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// arrays</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Flight</span>::<span class="title function_ invoke__">destroy</span>(<span class="title function_ invoke__">collect</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])); <span class="comment">// and also collections!</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œlastâ€å’Œâ€œheadâ€åŠ©æ‰‹"><a href="#â€œlastâ€å’Œâ€œheadâ€åŠ©æ‰‹" class="headerlink" title="â€œlastâ€å’Œâ€œheadâ€åŠ©æ‰‹"></a>â€œlastâ€å’Œâ€œheadâ€åŠ©æ‰‹</h4><p>ä½ çŸ¥é“ Laravel é™„å¸¦ä¸¤ä¸ªåŠ©æ‰‹â€œlastâ€å’Œâ€œheadâ€å—ï¼Ÿå®ƒä»¬å…è®¸ä½ æ£€ç´¢æ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´  ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$array</span> = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable">$first</span> = <span class="title function_ invoke__">head</span>(<span class="variable">$array</span>); <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$last</span> = <span class="title function_ invoke__">last</span>(<span class="variable">$array</span>); <span class="comment">// 300</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ£€æŸ¥ä½ çš„åº”ç”¨ç¯å¢ƒ"><a href="#æ£€æŸ¥ä½ çš„åº”ç”¨ç¯å¢ƒ" class="headerlink" title="æ£€æŸ¥ä½ çš„åº”ç”¨ç¯å¢ƒ"></a>æ£€æŸ¥ä½ çš„åº”ç”¨ç¯å¢ƒ</h4><p>æˆ‘ä»¬ç»å¸¸éœ€è¦æ£€æŸ¥åº”ç”¨ç¨‹åºç¯å¢ƒã€‚è™½ç„¶ä½ å¯ä»¥ä½¿ç”¨ environment æ–¹æ³•æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œä½† Laravel é™„å¸¦äº†ä¼˜é›…çš„æ–¹æ³•â€œisProductionâ€å’Œâ€œisLocalâ€æ¥æ‰§è¡Œæ­¤æ“ä½œ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Could be better ğŸ˜«</span></span><br><span class="line"><span class="title function_ invoke__">app</span>()-&gt;<span class="title function_ invoke__">environment</span>() === <span class="string">'production'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Okay ğŸ˜</span></span><br><span class="line"><span class="title function_ invoke__">app</span>()-&gt;<span class="title function_ invoke__">environment</span>(<span class="string">'production'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Better ğŸ˜</span></span><br><span class="line"><span class="title function_ invoke__">app</span>()-&gt;<span class="title function_ invoke__">isProduction</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Also applies for 'local' environment with "isLocal()"</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æˆªæ–­é•¿å­—ç¬¦ä¸²"><a href="#æˆªæ–­é•¿å­—ç¬¦ä¸²" class="headerlink" title="æˆªæ–­é•¿å­—ç¬¦ä¸²"></a>æˆªæ–­é•¿å­—ç¬¦ä¸²</h4><p>æœ‰æ—¶æ‚¨å¯èƒ½å¸Œæœ›æˆªæ–­è¾ƒé•¿çš„æè¿°ä»¥ä¾¿æ˜¾ç¤ºã€‚Laravel é™„å¸¦äº†â€œlimitâ€æ–¹æ³•æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œå¹¶ä¸”åœ¨å³å°†æ¨å‡ºçš„ç‰ˆæœ¬ä¸­ï¼Œæ‚¨å¯ä»¥ä¿ç•™æ•´ä¸ªå•è¯ä»¥è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Str</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">limit</span>(<span class="string">'This will be a long description'</span>, <span class="number">10</span>); <span class="comment">// This will ...</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">limit</span>(<span class="string">'This will be a long description'</span>, <span class="number">10</span>, <span class="string">' ( ... )'</span>); <span class="comment">// This will ( ... )</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="Blade-çš„ç±»å‹æç¤º"><a href="#Blade-çš„ç±»å‹æç¤º" class="headerlink" title="Blade çš„ç±»å‹æç¤º"></a>Blade çš„ç±»å‹æç¤º</h4><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ Bladeï¼Œå¦‚æœè¦æŠ±æ€¨ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯ç±»å‹æç¤ºã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ºæ‰€æœ‰ä½¿ç”¨çš„å˜é‡å®šä¹‰ä¸€ä¸ª @php å—æ¥è§£å†³è¿™ä¸ªé—®é¢˜ ğŸš€<br></p><figure class="highlight gams"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@php</span><br><span class="line">    <span class="comment">/* @var App\Models\Flight $flight */</span></span><br><span class="line">@endphp</span><br><span class="line"></span><br><span class="line">&lt;<span class="built_in">div</span>&gt;</span><br><span class="line">    <span class="comment">// Your IDE will provide type hints for the property</span></span><br><span class="line">    {{ <span class="symbol">$</span>flight-&gt;name }}</span><br><span class="line">&lt;/<span class="built_in">div</span>&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="ä¼˜é›…åœ°è·å–-Bearer-Tokens"><a href="#ä¼˜é›…åœ°è·å–-Bearer-Tokens" class="headerlink" title="ä¼˜é›…åœ°è·å– Bearer Tokens"></a>ä¼˜é›…åœ°è·å– Bearer Tokens</h4><p>ä½¿ç”¨ Laravel æ„å»º APIï¼Ÿæ‚¨å¯ä»¥ä½¿ç”¨è¯·æ±‚å¯¹è±¡ä¸Šçš„â€œbearerTokenâ€æ–¹æ³•æ£€ç´¢ bearer tokenï¼Œè€Œæ— éœ€æ‰‹åŠ¨è§£æå®ƒ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Instead of this ğŸ˜</span></span><br><span class="line"><span class="variable">$token</span> = <span class="title function_ invoke__">substr</span>(<span class="title function_ invoke__">request</span>()-&gt;<span class="title function_ invoke__">header</span>(<span class="string">'Authorization'</span>), <span class="number">7</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Do this ğŸ˜Š</span></span><br><span class="line"><span class="variable">$token</span> = <span class="title function_ invoke__">request</span>()-&gt;<span class="title function_ invoke__">bearerToken</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="è¿‡æ»¤è™šå‡å€¼"><a href="#è¿‡æ»¤è™šå‡å€¼" class="headerlink" title="è¿‡æ»¤è™šå‡å€¼"></a>è¿‡æ»¤è™šå‡å€¼</h4><p>æˆ‘ä»¬éƒ½æ›¾åœ¨é›†åˆä¸Šä½¿ç”¨è¿‡â€œfilterâ€æ–¹æ³•ï¼Œä½†æ‚¨æ˜¯å¦çŸ¥é“ï¼Œå¦‚æœæ²¡æœ‰ä¼ é€’å›è°ƒï¼Œå®ƒå°†è¿‡æ»¤æ‰æ‰€æœ‰è™šå‡å€¼ï¼ŸğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$collection</span> = <span class="title function_ invoke__">collect</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="literal">null</span>, <span class="literal">false</span>, <span class="string">''</span>, <span class="number">0</span>, []]);</span><br><span class="line"><span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">filter</span>()-&gt;<span class="title function_ invoke__">all</span>(); <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ›´å¥½çš„join"><a href="#æ›´å¥½çš„join" class="headerlink" title="æ›´å¥½çš„join"></a>æ›´å¥½çš„join</h4><p>æˆ‘ä»¬éƒ½ä½¿ç”¨è¿‡ PHP çš„â€œimplodeâ€å‡½æ•°ï¼Œä½†ä½ çŸ¥é“â€œjoinâ€åŠ©æ‰‹å—ï¼Ÿå®ƒçš„åŠŸèƒ½ç›¸åŒï¼Œä½†è¿˜å…è®¸ä½ è‡ªå®šä¹‰æœ€åä¸€ä¸ªåˆ†éš”ç¬¦ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// We've all done this, the regular implode()</span></span><br><span class="line"><span class="title function_ invoke__">collect</span>([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])-&gt;<span class="title function_ invoke__">join</span>(<span class="string">', '</span>, <span class="string">''</span>); <span class="comment">// 'a, b, c'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// But did you know you can specify the last separator?</span></span><br><span class="line"><span class="title function_ invoke__">collect</span>([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])-&gt;<span class="title function_ invoke__">join</span>(<span class="string">', '</span>, <span class="string">', and '</span>); <span class="comment">// 'a, b, and c'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// And it's smart enough to handle edge cases</span></span><br><span class="line"><span class="title function_ invoke__">collect</span>([<span class="string">'a'</span>])-&gt;<span class="title function_ invoke__">join</span>(<span class="string">', '</span>, <span class="string">', and '</span>); <span class="comment">// 'a'</span></span><br><span class="line"><span class="title function_ invoke__">collect</span>([])-&gt;<span class="title function_ invoke__">join</span>(<span class="string">', '</span>, <span class="string">', and '</span>); <span class="comment">// ''</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="åœ¨â€œfindâ€ä¸­ä½¿ç”¨å¤šä¸ª-ID-å’Œç‰¹å®šåˆ—"><a href="#åœ¨â€œfindâ€ä¸­ä½¿ç”¨å¤šä¸ª-ID-å’Œç‰¹å®šåˆ—" class="headerlink" title="åœ¨â€œfindâ€ä¸­ä½¿ç”¨å¤šä¸ª ID å’Œç‰¹å®šåˆ—"></a>åœ¨â€œfindâ€ä¸­ä½¿ç”¨å¤šä¸ª ID å’Œç‰¹å®šåˆ—</h4><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨â€œfind()â€ï¼Œä½†ä½ çŸ¥é“ä½ å¯ä»¥ä¼ é€’ ID æ•°ç»„å¹¶é€‰æ‹©ç‰¹å®šçš„åˆ—å—ï¼ŸğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// You can pass an array of ids, an select specific columns</span></span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">find</span>([<span class="number">1</span>, <span class="number">2</span>], [<span class="string">'email'</span>]);</span><br><span class="line"><span class="comment">// select `email` from `users` where `users`.`id` in (1, 2)</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="åœ¨å‘½ä»¤ä¸­è¯·æ±‚ç¡®è®¤"><a href="#åœ¨å‘½ä»¤ä¸­è¯·æ±‚ç¡®è®¤" class="headerlink" title="åœ¨å‘½ä»¤ä¸­è¯·æ±‚ç¡®è®¤"></a>åœ¨å‘½ä»¤ä¸­è¯·æ±‚ç¡®è®¤</h4><p>æ‚¨æ˜¯å¦çŸ¥é“ï¼Œæ‚¨å¯ä»¥åœ¨æ‰§è¡Œæœ‰é£é™©çš„å‘½ä»¤ä¹‹å‰è¯·æ±‚ç¡®è®¤ï¼Ÿæ‚¨å¯ä»¥ä½¿ç”¨â€œç¡®è®¤â€æ–¹æ³•æ‰§è¡Œæ­¤æ“ä½œğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Displays the old Laravel prompt view</span></span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">confirm</span>(<span class="string">'Do you want to continue?'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// With "components", it displays the modern Laravel prompt view</span></span><br><span class="line"><span class="variable language_">$this</span>-&gt;components-&gt;<span class="title function_ invoke__">confirm</span>(<span class="string">'Do you want to continue?'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// In your terminal, you should see</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Do you want to continue? (yes/no) [no]</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ›´å¥½çš„-dd"><a href="#æ›´å¥½çš„-dd" class="headerlink" title="æ›´å¥½çš„ dd()"></a>æ›´å¥½çš„ dd()</h4><p>åœ¨è°ƒè¯• Eloquent æŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨â€œdd()â€æ¥æ£€æŸ¥ç»“æœã€‚ä½ çŸ¥é“ä½ å¯ä»¥ç›´æ¥å°†å…¶é“¾æ¥èµ·æ¥å—ï¼ŸğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// This is okay ğŸ˜Š</span></span><br><span class="line"><span class="variable">$user</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">all</span>();</span><br><span class="line"><span class="title function_ invoke__">dd</span>(<span class="variable">$users</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is better ğŸ”¥</span></span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">dd</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ›´å¥½çš„Pluck"><a href="#æ›´å¥½çš„Pluck" class="headerlink" title="æ›´å¥½çš„Pluck"></a>æ›´å¥½çš„Pluck</h4><p>æˆ‘ä»¬ç»å¸¸éœ€è¦è·å–æŸäº›æ¨¡å‹çš„ IDã€‚è™½ç„¶æ‚¨å¯ä»¥ä½¿ç”¨â€œpluck()â€æ–¹æ³•æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨â€œmodelKeys()â€ï¼Œå®ƒè¯»èµ·æ¥æ›´é¡ºç•…ï¼Œå¹¶ä¸”å¦‚æœæ‚¨åœ¨ä»»ä½•æ—¶å€™æ›´æ”¹ä¸»é”®ä¹Ÿä¸ä¼šä¸­æ–­ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Models</span>\<span class="title">User</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Instead of this</span></span><br><span class="line"><span class="variable">$ids</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">pluck</span>(<span class="string">'id'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// You can do this ğŸ”¥</span></span><br><span class="line"><span class="variable">$ids</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">modelKeys</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="è·å–æŒ‡å®šæ—¥æœŸçš„å¹´é¾„"><a href="#è·å–æŒ‡å®šæ—¥æœŸçš„å¹´é¾„" class="headerlink" title="è·å–æŒ‡å®šæ—¥æœŸçš„å¹´é¾„"></a>è·å–æŒ‡å®šæ—¥æœŸçš„å¹´é¾„</h4><p>ç”±äº Laravel åœ¨åº•å±‚ä½¿ç”¨äº† Carbonï¼Œå› æ­¤æ‚¨å¯ä»¥è½»æ¾è·å–è§£ææ—¥æœŸçš„å¹´é¾„ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Carbon</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the age from a given date</span></span><br><span class="line"><span class="variable">$laravelsAge</span> = <span class="title class_">Carbon</span>::<span class="title function_ invoke__">parse</span>(<span class="string">'01-06-2011'</span>)-&gt;age;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This also works with date columns</span></span><br><span class="line"><span class="variable">$age</span> = <span class="title class_">User</span>::<span class="title function_ invoke__">first</span>()-&gt;birthday-&gt;age;</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="è·å–æœ€è¿‘å’Œæœ€è¿œçš„æ—¥æœŸ"><a href="#è·å–æœ€è¿‘å’Œæœ€è¿œçš„æ—¥æœŸ" class="headerlink" title="è·å–æœ€è¿‘å’Œæœ€è¿œçš„æ—¥æœŸ"></a>è·å–æœ€è¿‘å’Œæœ€è¿œçš„æ—¥æœŸ</h4><p>æ˜¯å¦æ›¾ç»éœ€è¦è·å–ä¸¤ä¸ªæ—¥æœŸä¸­ä¸ç»™å®šæ—¥æœŸæœ€æ¥è¿‘æˆ–æœ€è¿œçš„æ—¥æœŸï¼Ÿç”±äº Laravel åœ¨åº•å±‚ä½¿ç”¨äº† Carbonï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨â€œæœ€è¿‘â€å’Œâ€œæœ€è¿œâ€æ–¹æ³•æ¥å®ç°è¿™ä¸€ç‚¹ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Carbon</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$date</span> = <span class="title class_">Carbon</span>::<span class="title function_ invoke__">parse</span>(<span class="string">'2024-05-15'</span>);</span><br><span class="line"><span class="variable">$date1</span> = <span class="title class_">Carbon</span>::<span class="title function_ invoke__">parse</span>(<span class="string">'2024-01-01'</span>);</span><br><span class="line"><span class="variable">$date2</span> = <span class="title class_">Carbon</span>::<span class="title function_ invoke__">parse</span>(<span class="string">'2024-05-16'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// You can now check the closest or farthest date</span></span><br><span class="line"><span class="variable">$date</span>-&gt;<span class="title function_ invoke__">closest</span>(<span class="variable">$date1</span>, <span class="variable">$date2</span>); <span class="comment">// 2024-05-16</span></span><br><span class="line"><span class="variable">$date</span>-&gt;<span class="title function_ invoke__">farthest</span>(<span class="variable">$date1</span>, <span class="variable">$date2</span>); <span class="comment">// 2024-01-01</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œshortRelativeDiffForHumansâ€æ–¹æ³•"><a href="#â€œshortRelativeDiffForHumansâ€æ–¹æ³•" class="headerlink" title="â€œshortRelativeDiffForHumansâ€æ–¹æ³•"></a>â€œshortRelativeDiffForHumansâ€æ–¹æ³•</h4><p>æˆ‘ç¡®ä¿¡æ‚¨å·²ç»ä½¿ç”¨â€œdiffForHumansâ€æ–¹æ³•æ¥è·å–äººç±»å¯è¯»çš„æ—¥æœŸã€‚ä½†æ‚¨çŸ¥é“å¯ä»¥ä½¿ç”¨â€œshortRelativeDiffForHumansâ€æ–¹æ³•è·å–æ›´çŸ­çš„ç‰ˆæœ¬å—ï¼ŸğŸš€<br></p><figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"><span class="built_in">now</span>()-&gt;<span class="built_in">subDays</span>(<span class="number">5</span>)-&gt;<span class="built_in">diffForHumans</span>(); <span class="comment">// 5 days ago</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Need a shorter version? No problem</span></span><br><span class="line"><span class="built_in">now</span>()-&gt;<span class="built_in">subDays</span>(<span class="number">5</span>)-&gt;<span class="built_in">shortRelativeDiffForHumans</span>(); <span class="comment">// 5d ago</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œfinishâ€åŠ©æ‰‹"><a href="#â€œfinishâ€åŠ©æ‰‹" class="headerlink" title="â€œfinishâ€åŠ©æ‰‹"></a>â€œfinishâ€åŠ©æ‰‹</h4><p>æœ‰æ—¶ï¼Œæ‚¨å¯èƒ½éœ€è¦ç¡®ä¿å­—ç¬¦ä¸²ä»¥ç‰¹å®šå­—ç¬¦ç»“å°¾ï¼Œä¾‹å¦‚æ–œæ æˆ–ç‚¹ã€‚ Laravel é™„å¸¦äº†â€œfinishâ€åŠ©æ‰‹æ¥æ‰§è¡Œæ­¤æ“ä½œ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Str</span>;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">finish</span>(<span class="string">'this/string'</span>, <span class="string">'/'</span>); <span class="comment">// this/string/</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">finish</span>(<span class="string">'this/string/'</span>, <span class="string">'/'</span>); <span class="comment">// this/string/</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="â€œhasHeaderâ€-æ–¹æ³•"><a href="#â€œhasHeaderâ€-æ–¹æ³•" class="headerlink" title="â€œhasHeaderâ€ æ–¹æ³•"></a>â€œhasHeaderâ€ æ–¹æ³•</h4><p>æ‚¨æ˜¯å¦æ›¾ç»éœ€è¦æ£€æŸ¥æ ‡å¤´ï¼Ÿè™½ç„¶æ‚¨å¯ä»¥æ‰‹åŠ¨æ‰§è¡Œæ­¤æ“ä½œï¼Œä½† Laravel é™„å¸¦äº†â€œhasHeaderâ€æ–¹æ³•æ¥æ‰§è¡Œæ­¤æ“ä½œ ğŸš€<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">hasHeader</span>(<span class="string">'X-Header-Name'</span>)) {</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>å‚è€ƒï¼š<a href="https://github.com/OussamaMater/Laravel-Tips">https://github.com/OussamaMater/Laravel-Tips</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> tips </tag>
            
            <tag> Laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå»ºè®®</title>
      <link href="/posts/php-tips.html"/>
      <url>/posts/php-tips.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Tip-1ï¼šisset"><a href="#Tip-1ï¼šisset" class="headerlink" title="Tip 1ï¼šisset()"></a>Tip 1ï¼šisset()</h3><p>ä½ æ˜¯å¦çŸ¥é“å¯ä»¥å‘ isset() å‡½æ•°ä¼ é€’å¤šä¸ªå‚æ•°ï¼Ÿ<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$var1</span>) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$var2</span>)) { ... }</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$var1</span>, <span class="variable">$var2</span>)) { ... }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Tip-2ï¼šisset-å¤±æ•ˆçš„é—®é¢˜"><a href="#Tip-2ï¼šisset-å¤±æ•ˆçš„é—®é¢˜" class="headerlink" title="Tip 2ï¼šisset()å¤±æ•ˆçš„é—®é¢˜"></a>Tip 2ï¼šisset()å¤±æ•ˆçš„é—®é¢˜</h3><p>å½“isset()ç”¨äºåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ª key æ—¶ï¼Œå®ƒæœ‰ä¸€ä¸ªé‡è¦çš„é™åˆ¶ï¼š<strong>å¦‚æœ key å­˜åœ¨ä½†å¯¹åº”çš„å€¼ä¸º nullï¼Œisset() ä¼šè¿”å› false</strong>ã€‚<br>å¦‚æœæ˜ç¡®æŒ‡å®škeyçš„å€¼å¯ä»¥ä¸ºnullï¼Œéœ€è¦ä½¿ç”¨<strong>array_key_exists()</strong> æ¥åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®š keyã€‚<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$array</span> = [<span class="string">'name'</span> =&gt; <span class="literal">null</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="keyword">isset</span>(<span class="variable">$array</span>[<span class="string">'name'</span>]));<span class="comment">// false</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">is_null</span>(<span class="variable">$array</span>[<span class="string">'name'</span>]));<span class="comment">// true</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">array_key_exists</span>(<span class="string">'name'</span>,<span class="variable">$array</span>));<span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> tips </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HMACç®—æ³•ï¼šä¿éšœæ•°æ®å®Œæ•´æ€§å’ŒçœŸå®æ€§</title>
      <link href="/posts/hmac.html"/>
      <url>/posts/hmac.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯HMACï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯HMACï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯HMACï¼Ÿ"></a>ä»€ä¹ˆæ˜¯HMACï¼Ÿ</h3><p>HMACï¼ˆHash-based Message Authentication Codeï¼‰æ˜¯ä¸€ç§åŸºäºå“ˆå¸Œå‡½æ•°çš„æ¶ˆæ¯è®¤è¯ç ï¼Œç”¨äºéªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‚å®ƒé€šè¿‡å°†å…±äº«å¯†é’¥ä¸æ¶ˆæ¯æ··åˆï¼Œç”Ÿæˆä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ ‡ç­¾ï¼Œæ¥å®ç°æ¶ˆæ¯è®¤è¯ã€‚</p><h3 id="HMACçš„å·¥ä½œåŸç†"><a href="#HMACçš„å·¥ä½œåŸç†" class="headerlink" title="HMACçš„å·¥ä½œåŸç†"></a>HMACçš„å·¥ä½œåŸç†</h3><ol><li><strong>å¯†é’¥æ··åˆï¼š</strong> å°†å…±äº«å¯†é’¥å’Œæ¶ˆæ¯è¿›è¡Œç‰¹å®šçš„ç»„åˆã€‚</li><li><strong>å“ˆå¸Œè®¡ç®—ï¼š</strong> ä½¿ç”¨ä¸€ä¸ªåŠ å¯†å®‰å…¨çš„å“ˆå¸Œå‡½æ•°ï¼ˆå¦‚SHA-256ã€SHA-512ï¼‰å¯¹æ··åˆåçš„æ•°æ®è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œç”Ÿæˆä¸€ä¸ªæ¶ˆæ¯è®¤è¯ç ã€‚</li><li><strong>éªŒè¯ï¼š</strong> æ¥æ”¶æ–¹ä½¿ç”¨ç›¸åŒçš„å¯†é’¥å’Œç›¸åŒçš„å“ˆå¸Œå‡½æ•°å¯¹æ”¶åˆ°çš„æ¶ˆæ¯è¿›è¡Œç›¸åŒçš„è®¡ç®—ï¼Œå¹¶å°†è®¡ç®—ç»“æœä¸æ”¶åˆ°çš„æ¶ˆæ¯è®¤è¯ç è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œåˆ™è®¤ä¸ºæ¶ˆæ¯æ˜¯å®Œæ•´çš„ä¸”æœªè¢«ç¯¡æ”¹ã€‚</li></ol><h3 id="HMACçš„ä¼˜ç‚¹"><a href="#HMACçš„ä¼˜ç‚¹" class="headerlink" title="HMACçš„ä¼˜ç‚¹"></a>HMACçš„ä¼˜ç‚¹</h3><ul><li><strong>å®‰å…¨æ€§é«˜ï¼š</strong> HMACçš„å®‰å…¨æ€§ä¾èµ–äºæ‰€ä½¿ç”¨çš„å“ˆå¸Œå‡½æ•°çš„å®‰å…¨æ€§ä»¥åŠå…±äº«å¯†é’¥çš„ä¿å¯†æ€§ã€‚</li><li><strong>ç®€å•é«˜æ•ˆï¼š</strong> HMACçš„å®ç°ç›¸å¯¹ç®€å•ï¼Œè®¡ç®—æ•ˆç‡é«˜ã€‚</li><li><strong>å¹¿æ³›åº”ç”¨ï¼š</strong> HMACè¢«å¹¿æ³›åº”ç”¨äºå„ç§åè®®ä¸­ï¼Œå¦‚IPsecã€TLSã€SSHç­‰ã€‚</li></ul><h3 id="HMACçš„åº”ç”¨åœºæ™¯"><a href="#HMACçš„åº”ç”¨åœºæ™¯" class="headerlink" title="HMACçš„åº”ç”¨åœºæ™¯"></a>HMACçš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>æ¶ˆæ¯è®¤è¯ï¼š</strong> éªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ï¼Œé˜²æ­¢æ¶ˆæ¯è¢«ç¯¡æ”¹æˆ–ä¼ªé€ ã€‚</li><li><strong>æ•°æ®å®Œæ•´æ€§ä¿æŠ¤ï¼š</strong> ä¿æŠ¤æ•°æ®çš„å®Œæ•´æ€§ï¼Œç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æœªè¢«ä¿®æ”¹ã€‚</li><li><strong>å®ä½“è®¤è¯ï¼š</strong> é€šè¿‡éªŒè¯æ¶ˆæ¯è®¤è¯ç ï¼Œæ¥éªŒè¯æ¶ˆæ¯å‘é€æ–¹çš„èº«ä»½ã€‚</li></ul><h3 id="HMACçš„ç®—æ³•æµç¨‹"><a href="#HMACçš„ç®—æ³•æµç¨‹" class="headerlink" title="HMACçš„ç®—æ³•æµç¨‹"></a>HMACçš„ç®—æ³•æµç¨‹</h3><ol><li><strong>å¯†é’¥æ‰©å±•ï¼š</strong> å°†å…±äº«å¯†é’¥æ‰©å±•æˆå†…éƒ¨å¯†é’¥å’Œå¤–éƒ¨å¯†é’¥ã€‚</li><li><strong>å†…éƒ¨å¯†é’¥ä¸æ¶ˆæ¯å¼‚æˆ–ï¼š</strong> å°†å†…éƒ¨å¯†é’¥ä¸æ¶ˆæ¯è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚</li><li><strong>å“ˆå¸Œè®¡ç®—ï¼š</strong> ä½¿ç”¨å“ˆå¸Œå‡½æ•°å¯¹å¼‚æˆ–ç»“æœè¿›è¡Œå“ˆå¸Œè®¡ç®—ã€‚</li><li><strong>å¤–éƒ¨å¯†é’¥ä¸å“ˆå¸Œå€¼å¼‚æˆ–ï¼š</strong> å°†å¤–éƒ¨å¯†é’¥ä¸å“ˆå¸Œå€¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¾—åˆ°æœ€ç»ˆçš„æ¶ˆæ¯è®¤è¯ç ã€‚</li></ol><h3 id="HMACçš„å®‰å…¨æ€§"><a href="#HMACçš„å®‰å…¨æ€§" class="headerlink" title="HMACçš„å®‰å…¨æ€§"></a>HMACçš„å®‰å…¨æ€§</h3><ul><li><strong>å¯†é’¥çš„ä¿å¯†æ€§ï¼š</strong> å…±äº«å¯†é’¥å¿…é¡»ä¿å¯†ï¼Œä¸èƒ½æ³„éœ²ç»™æœªæˆæƒçš„ç¬¬ä¸‰æ–¹ã€‚</li><li><strong>å“ˆå¸Œå‡½æ•°çš„å®‰å…¨æ€§ï¼š</strong> é€‰æ‹©ä¸€ä¸ªå®‰å…¨çš„å“ˆå¸Œå‡½æ•°ï¼Œå¦‚SHA-256ã€SHA-512ã€‚</li><li><strong>å¯†é’¥çš„é•¿åº¦ï¼š</strong> å¯†é’¥é•¿åº¦åº”è¶³å¤Ÿé•¿ï¼Œä»¥æŠµæŠ—æš´åŠ›ç ´è§£æ”»å‡»ã€‚</li></ul><h3 id="HMACçš„å®ç°"><a href="#HMACçš„å®ç°" class="headerlink" title="HMACçš„å®ç°"></a>HMACçš„å®ç°</h3><p>HMACçš„å®ç°æ–¹å¼å¤šç§å¤šæ ·ï¼Œä¸åŒçš„ç¼–ç¨‹è¯­è¨€å’ŒåŠ å¯†åº“æä¾›äº†ä¸åŒçš„å®ç°æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨PHPä¸­ï¼Œå¯ä»¥ä½¿ç”¨OpenSSLæ‰©å±•æ¥å®ç°HMACã€‚</p><h3 id="PHPå®ç°HMAC"><a href="#PHPå®ç°HMAC" class="headerlink" title="PHPå®ç°HMAC"></a>PHPå®ç°HMAC</h3><p>PHPæä¾›äº†<code>hash_hmac</code>å‡½æ•°æ¥æ–¹ä¾¿åœ°ç”ŸæˆHMACã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li><strong>ç®—æ³•ï¼š</strong> è¦ä½¿ç”¨çš„å“ˆå¸Œç®—æ³•ï¼Œä¾‹å¦‚ <code>sha256</code>ã€<code>sha512</code> ç­‰ã€‚</li><li><strong>æ•°æ®ï¼š</strong> éœ€è¦ç”ŸæˆHMACçš„æ¶ˆæ¯ã€‚</li><li><strong>å¯†é’¥ï¼š</strong> å…±äº«å¯†é’¥ã€‚</li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$data</span> = <span class="string">'Hello, world!'</span>;</span><br><span class="line"><span class="variable">$key</span> = <span class="string">'your_secret_key'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”ŸæˆHMAC-SHA256</span></span><br><span class="line"><span class="variable">$hmac</span> = <span class="title function_ invoke__">hash_hmac</span>(<span class="string">'sha256'</span>, <span class="variable">$data</span>, <span class="variable">$key</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$hmac</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="ç¤ºä¾‹ï¼šä½¿ç”¨HMACéªŒè¯è¯·æ±‚"><a href="#ç¤ºä¾‹ï¼šä½¿ç”¨HMACéªŒè¯è¯·æ±‚" class="headerlink" title="ç¤ºä¾‹ï¼šä½¿ç”¨HMACéªŒè¯è¯·æ±‚"></a>ç¤ºä¾‹ï¼šä½¿ç”¨HMACéªŒè¯è¯·æ±‚</h3><p>åœ¨Webåº”ç”¨ä¸­ï¼ŒHMACå¸¸ç”¨äºéªŒè¯è¯·æ±‚çš„åˆæ³•æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨APIæ¥å£ä¸­ï¼Œå¯ä»¥å°†HMACä½œä¸ºè¯·æ±‚å‚æ•°çš„ä¸€éƒ¨åˆ†ï¼Œæ¥é˜²æ­¢è¯·æ±‚è¢«ç¯¡æ”¹ã€‚</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// æ¥æ”¶è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="variable">$data</span> = <span class="variable">$_POST</span>[<span class="string">'data'</span>];</span><br><span class="line"><span class="variable">$client_hmac</span> = <span class="variable">$_POST</span>[<span class="string">'hmac'</span>];</span><br><span class="line"><span class="variable">$secret_key</span> = <span class="string">'your_secret_key'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—æœåŠ¡å™¨ç«¯çš„HMAC</span></span><br><span class="line"><span class="variable">$server_hmac</span> = <span class="title function_ invoke__">hash_hmac</span>(<span class="string">'sha256'</span>, <span class="variable">$data</span>, <span class="variable">$secret_key</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯HMAC</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$server_hmac</span> === <span class="variable">$client_hmac</span>) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'è¯·æ±‚åˆæ³•'</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'è¯·æ±‚éæ³•'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li><strong>å¯†é’¥å®‰å…¨ï¼š</strong> å¯†é’¥å¿…é¡»ä¿å¯†ï¼Œä¸èƒ½æ³„éœ²ç»™ç¬¬ä¸‰æ–¹ã€‚</li><li><strong>ç®—æ³•é€‰æ‹©ï¼š</strong> é€‰æ‹©åˆé€‚çš„å“ˆå¸Œç®—æ³•ï¼Œä¸€èˆ¬æ¨èä½¿ç”¨SHA-256æˆ–SHA-512ã€‚</li><li><strong>ç¼–ç ï¼š</strong> ç¡®ä¿æ•°æ®å’Œå¯†é’¥çš„ç¼–ç ä¸€è‡´ï¼Œé€šå¸¸ä½¿ç”¨UTF-8ç¼–ç ã€‚</li><li><strong>å¯†é’¥é•¿åº¦ï¼š</strong> å¯†é’¥é•¿åº¦åº”è¶³å¤Ÿé•¿ï¼Œä»¥å¢å¼ºå®‰å…¨æ€§ã€‚</li><li><strong>HMACä¸åŠ å¯†çš„åŒºåˆ«ï¼š</strong> HMACç”¨äºéªŒè¯æ•°æ®çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ï¼Œè€ŒåŠ å¯†ç”¨äºä¿æŠ¤æ•°æ®ä¸è¢«çªƒå¬ã€‚</li></ul><h3 id="å®Œæ•´ç¤ºä¾‹ï¼šHMACéªŒè¯APIè¯·æ±‚"><a href="#å®Œæ•´ç¤ºä¾‹ï¼šHMACéªŒè¯APIè¯·æ±‚" class="headerlink" title="å®Œæ•´ç¤ºä¾‹ï¼šHMACéªŒè¯APIè¯·æ±‚"></a>å®Œæ•´ç¤ºä¾‹ï¼šHMACéªŒè¯APIè¯·æ±‚</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">'Content-Type: application/json'</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$data</span> = <span class="variable">$_POST</span>[<span class="string">'data'</span>];</span><br><span class="line"><span class="variable">$client_hmac</span> = <span class="variable">$_POST</span>[<span class="string">'hmac'</span>];</span><br><span class="line"><span class="variable">$secret_key</span> = <span class="string">'your_secret_key'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯è¯·æ±‚</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$data</span>) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$client_hmac</span>)) {</span><br><span class="line">    <span class="variable">$server_hmac</span> = <span class="title function_ invoke__">hash_hmac</span>(<span class="string">'sha256'</span>, <span class="variable">$data</span>, <span class="variable">$secret_key</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$server_hmac</span> === <span class="variable">$client_hmac</span>) {</span><br><span class="line">        <span class="comment">// éªŒè¯é€šè¿‡ï¼Œå¤„ç†è¯·æ±‚</span></span><br><span class="line">        <span class="variable">$response</span> = [<span class="string">'status'</span> =&gt; <span class="string">'success'</span>, <span class="string">'message'</span> =&gt; <span class="string">'è¯·æ±‚åˆæ³•'</span>];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="variable">$response</span> = [<span class="string">'status'</span> =&gt; <span class="string">'error'</span>, <span class="string">'message'</span> =&gt; <span class="string">'è¯·æ±‚éæ³•'</span>];</span><br><span class="line">    }</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="variable">$response</span> = [<span class="string">'status'</span> =&gt; <span class="string">'error'</span>, <span class="string">'message'</span> =&gt; <span class="string">'ç¼ºå°‘å‚æ•°'</span>];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>(<span class="variable">$response</span>);</span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>HMACæ˜¯ä¸€ç§ç®€å•ã€é«˜æ•ˆã€å®‰å…¨çš„è®¤è¯æœºåˆ¶ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§åè®®ä¸­ã€‚é€šè¿‡å°†å…±äº«å¯†é’¥ä¸æ¶ˆæ¯æ··åˆï¼Œå¹¶ä½¿ç”¨å“ˆå¸Œå‡½æ•°ç”Ÿæˆæ¶ˆæ¯è®¤è¯ç ï¼ŒHMACå¯ä»¥æœ‰æ•ˆåœ°éªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ³¨æ„å¯†é’¥çš„å®‰å…¨æ€§ã€ç®—æ³•çš„é€‰æ‹©ä»¥åŠç¼–ç é—®é¢˜ã€‚</p><h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><ul><li><strong>HMACä¸æ•°å­—ç­¾åçš„åŒºåˆ«ï¼Ÿ</strong><ul><li>HMACä½¿ç”¨å…±äº«å¯†é’¥ï¼Œè€Œæ•°å­—ç­¾åä½¿ç”¨ç§é’¥ã€‚</li><li>HMACä¸»è¦ç”¨äºæ¶ˆæ¯è®¤è¯ï¼Œæ•°å­—ç­¾åä¸»è¦ç”¨äºèº«ä»½è®¤è¯å’Œä¸å¯å¦è®¤æ€§ã€‚</li></ul></li><li><strong>HMACçš„å®‰å…¨æ€§å¦‚ä½•ä¿è¯ï¼Ÿ</strong><ul><li>å¯†é’¥çš„ä¿å¯†æ€§ã€å“ˆå¸Œå‡½æ•°çš„å®‰å…¨æ€§ä»¥åŠå¯†é’¥çš„é•¿åº¦æ˜¯ä¿è¯HMACå®‰å…¨æ€§çš„å…³é”®ã€‚</li><li>å¯†é’¥ç®¡ç†ï¼šå¯†é’¥çš„ç”Ÿæˆã€å­˜å‚¨å’Œåˆ†å‘éœ€è¦è°¨æ…è€ƒè™‘ï¼Œå¯ä»¥ä½¿ç”¨å¯†é’¥ç®¡ç†ç³»ç»Ÿæ¥è¿›è¡Œç®¡ç†ã€‚</li><li>å¯†é’¥è½®æ¢ï¼šå®šæœŸæ›´æ¢å¯†é’¥ï¼Œä»¥æé«˜å®‰å…¨æ€§ã€‚</li><li>ç»“åˆå…¶ä»–å®‰å…¨æªæ–½ï¼šHMACå¯ä»¥ä¸å…¶ä»–å®‰å…¨æªæ–½ï¼ˆå¦‚HTTPSã€æ•°å­—è¯ä¹¦ï¼‰ç»“åˆä½¿ç”¨ï¼Œæä¾›æ›´å…¨é¢çš„å®‰å…¨ä¿æŠ¤ã€‚</li></ul></li><li><strong>HMACçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</strong><ul><li>HMACå¹¿æ³›åº”ç”¨äºå„ç§åè®®ä¸­ï¼Œå¦‚IPsecã€TLSã€SSHç­‰ã€‚</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> HMACç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Boyer-Mooreç®—æ³•</title>
      <link href="/posts/boyer-moore.html"/>
      <url>/posts/boyer-moore.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Boyer-Mooreç®—æ³•ç®€ä»‹"><a href="#Boyer-Mooreç®—æ³•ç®€ä»‹" class="headerlink" title="Boyer-Mooreç®—æ³•ç®€ä»‹"></a>Boyer-Mooreç®—æ³•ç®€ä»‹</h3><p>Boyer-Mooreç®—æ³•æ˜¯ä¸€ç§é«˜æ•ˆçš„å­—ç¬¦ä¸²æœç´¢ç®—æ³•ï¼Œå®ƒé€šè¿‡è·³è¿‡æ–‡æœ¬ä¸­æ˜æ˜¾ä¸åŒ¹é…çš„éƒ¨åˆ†ï¼Œæ˜¾è‘—æé«˜äº†æœç´¢æ•ˆç‡ã€‚ç›¸è¾ƒäºä¼ ç»Ÿçš„æš´åŠ›åŒ¹é…ç®—æ³•ï¼ŒBoyer-Mooreç®—æ³•åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ€§èƒ½æ›´ä½³ï¼Œå°¤å…¶æ˜¯åœ¨æœç´¢è¾ƒé•¿çš„æ¨¡å¼ä¸²æ—¶ã€‚</p><p><strong>ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼š</strong></p><ul><li><strong>åå­—ç¬¦è§„åˆ™ï¼š</strong> å½“æ¨¡å¼ä¸²çš„ä¸€ä¸ªå­—ç¬¦ä¸æ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸åŒ¹é…æ—¶ï¼Œæ¨¡å¼ä¸²å‘å³æ»‘åŠ¨ï¼Œä½¿å¾—ä¸åŒ¹é…çš„å­—ç¬¦ä¸æ–‡æœ¬ä¸­å¯¹åº”çš„å­—ç¬¦å¯¹é½ã€‚</li><li><strong>å¥½åç¼€è§„åˆ™ï¼š</strong> å½“æ¨¡å¼ä¸²çš„åç¼€ä¸æ–‡æœ¬ä¸­çš„éƒ¨åˆ†åŒ¹é…æ—¶ï¼Œæ¨¡å¼ä¸²å‘å³æ»‘åŠ¨ï¼Œä½¿å¾—åŒ¹é…çš„åç¼€ä¸æ–‡æœ¬ä¸­å¯¹åº”çš„åç¼€å¯¹é½ã€‚</li></ul><h3 id="ç®—æ³•å®ç°æ­¥éª¤"><a href="#ç®—æ³•å®ç°æ­¥éª¤" class="headerlink" title="ç®—æ³•å®ç°æ­¥éª¤"></a>ç®—æ³•å®ç°æ­¥éª¤</h3><ol><li><strong>æ„å»ºåå­—ç¬¦è¡¨:</strong><ul><li>å¯¹äºæ¨¡å¼ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œè®°å½•å®ƒåœ¨æ¨¡å¼ä¸²ä¸­æœ€åå‡ºç°çš„ä½ç½®ã€‚</li><li>å¦‚æœå­—ç¬¦ä¸åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°ï¼Œåˆ™å…¶ä½ç½®ä¸ºæ¨¡å¼ä¸²çš„é•¿åº¦ã€‚</li></ul></li><li><strong>æ„å»ºå¥½åç¼€è¡¨:</strong><ul><li>è®¡ç®—æ¨¡å¼ä¸²çš„åç¼€ä¸è‡ªèº«åŒ¹é…çš„æœ€é•¿é•¿åº¦ã€‚</li></ul></li><li><strong>æœç´¢è¿‡ç¨‹:</strong><ul><li>ä»æ¨¡å¼ä¸²çš„æœ«å°¾å¼€å§‹ä¸æ–‡æœ¬è¿›è¡Œæ¯”è¾ƒã€‚</li><li>å¦‚æœä¸åŒ¹é…ï¼Œåˆ™æ ¹æ®åå­—ç¬¦è§„åˆ™æˆ–å¥½åç¼€è§„åˆ™è®¡ç®—æ»‘åŠ¨è·ç¦»ï¼Œå°†æ¨¡å¼ä¸²å‘å³æ»‘åŠ¨ã€‚</li><li>é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…æˆ–åˆ°è¾¾æ–‡æœ¬æœ«å°¾ã€‚</li></ul></li></ol><h3 id="PHPå®ç°Boyer-Mooreç®—æ³•"><a href="#PHPå®ç°Boyer-Mooreç®—æ³•" class="headerlink" title="PHPå®ç°Boyer-Mooreç®—æ³•"></a>PHPå®ç°Boyer-Mooreç®—æ³•</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">boyerMooreSearch</span>(<span class="params"><span class="variable">$text</span>, <span class="variable">$pattern</span></span>) </span>{</span><br><span class="line">    <span class="variable">$m</span> = <span class="title function_ invoke__">strlen</span>(<span class="variable">$pattern</span>);</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">strlen</span>(<span class="variable">$text</span>);</span><br><span class="line">    <span class="variable">$badChar</span> = [];</span><br><span class="line">    <span class="variable">$goodSuffix</span> = [];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–åå­—ç¬¦è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">256</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="variable">$badChar</span>[<span class="variable">$i</span>] = <span class="variable">$m</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$m</span> - <span class="number">1</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="variable">$badChar</span>[<span class="title function_ invoke__">ord</span>(<span class="variable">$pattern</span>[<span class="variable">$i</span>])] = <span class="variable">$m</span> - <span class="variable">$i</span> - <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å¥½åç¼€è¡¨ï¼ˆç®€åŒ–ç‰ˆï¼‰</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œä½¿ç”¨ä¸€ä¸ªç®€å•çš„å®ç°ï¼Œå®é™…åº”ç”¨ä¸­å¯ä»¥ä¼˜åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$m</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="variable">$goodSuffix</span>[<span class="variable">$i</span>] = <span class="variable">$m</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="variable">$m</span> - <span class="number">2</span>; <span class="variable">$i</span> &gt;= <span class="number">0</span>; <span class="variable">$i</span>--) {</span><br><span class="line">        <span class="variable">$j</span> = <span class="variable">$i</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="variable">$j</span> &gt;= <span class="number">0</span> &amp;&amp; <span class="variable">$pattern</span>[<span class="variable">$j</span>] === <span class="variable">$pattern</span>[<span class="variable">$m</span> - <span class="number">1</span> - <span class="variable">$i</span> + <span class="variable">$j</span>]) {</span><br><span class="line">            <span class="variable">$goodSuffix</span>[<span class="variable">$j</span>] = <span class="variable">$i</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="variable">$j</span>--;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="variable">$i</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="variable">$i</span> &lt;= <span class="variable">$n</span> - <span class="variable">$m</span>) {</span><br><span class="line">        <span class="variable">$j</span> = <span class="variable">$m</span> - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="variable">$j</span> &gt;= <span class="number">0</span> &amp;&amp; <span class="variable">$pattern</span>[<span class="variable">$j</span>] === <span class="variable">$text</span>[<span class="variable">$i</span> + <span class="variable">$j</span>]) {</span><br><span class="line">            <span class="variable">$j</span>--;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$j</span> &lt; <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$i</span>; <span class="comment">// åŒ¹é…æˆåŠŸ</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="variable">$i</span> += <span class="title function_ invoke__">max</span>(<span class="variable">$badChar</span>[<span class="title function_ invoke__">ord</span>(<span class="variable">$text</span>[<span class="variable">$i</span> + <span class="variable">$j</span>])] - <span class="variable">$m</span> + <span class="number">1</span> + <span class="variable">$j</span>, <span class="variable">$goodSuffix</span>[<span class="variable">$j</span>]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">// æœªæ‰¾åˆ°åŒ¹é…</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><strong>ä»£ç è§£é‡Š</strong></li></ul><ol><li><strong>åå­—ç¬¦è¡¨:</strong> è®°å½•æ¯ä¸ªå­—ç¬¦åœ¨æ¨¡å¼ä¸²ä¸­æœ€åå‡ºç°çš„ä½ç½®ã€‚</li><li><strong>å¥½åç¼€è¡¨:</strong> è®°å½•æ¨¡å¼ä¸²çš„åç¼€ä¸è‡ªèº«åŒ¹é…çš„æœ€é•¿é•¿åº¦ã€‚</li><li><strong>åŒ¹é…è¿‡ç¨‹:</strong> ä»æ¨¡å¼ä¸²æœ«å°¾å¼€å§‹ä¸æ–‡æœ¬æ¯”è¾ƒï¼Œè‹¥ä¸åŒ¹é…ï¼Œåˆ™æ ¹æ®åå­—ç¬¦è§„åˆ™æˆ–å¥½åç¼€è§„åˆ™è®¡ç®—æ»‘åŠ¨è·ç¦»ã€‚</li></ol><h3 id="ç®—æ³•ä¼˜åŒ–"><a href="#ç®—æ³•ä¼˜åŒ–" class="headerlink" title="ç®—æ³•ä¼˜åŒ–"></a>ç®—æ³•ä¼˜åŒ–</h3><ul><li><strong>åå­—ç¬¦è¡¨ä¼˜åŒ–:</strong> å¯ä»¥ä½¿ç”¨æ›´å¤æ‚çš„ç®—æ³•æ¥è®¡ç®—åå­—ç¬¦è¡¨ï¼Œä»¥æé«˜ç®—æ³•æ•ˆç‡ã€‚</li><li><strong>å¥½åç¼€è¡¨ä¼˜åŒ–:</strong> å¯ä»¥ä½¿ç”¨KMPç®—æ³•çš„æ€æƒ³æ¥è®¡ç®—å¥½åç¼€è¡¨ã€‚</li><li><strong>å¤šæ¨¡å¼åŒ¹é…:</strong> å¯ä»¥å°†Boyer-Mooreç®—æ³•æ‰©å±•ä¸ºå¤šæ¨¡å¼åŒ¹é…ç®—æ³•ã€‚</li></ul><h3 id="ç®—æ³•åº”ç”¨åœºæ™¯"><a href="#ç®—æ³•åº”ç”¨åœºæ™¯" class="headerlink" title="ç®—æ³•åº”ç”¨åœºæ™¯"></a>ç®—æ³•åº”ç”¨åœºæ™¯</h3><ul><li><strong>æ–‡æœ¬æœç´¢:</strong> åœ¨å¤§æ–‡æœ¬ä¸­å¿«é€ŸæŸ¥æ‰¾å­ä¸²ã€‚</li><li><strong>å­—ç¬¦ä¸²åŒ¹é…:</strong> åœ¨ç”Ÿç‰©ä¿¡æ¯å­¦ã€ä¿¡æ¯æ£€ç´¢ç­‰é¢†åŸŸæœ‰å¹¿æ³›åº”ç”¨ã€‚</li><li><strong>æ•°æ®å‹ç¼©:</strong> åœ¨å‹ç¼©ç®—æ³•ä¸­ç”¨äºæŸ¥æ‰¾é‡å¤æ¨¡å¼ã€‚</li></ul><h3 id="ç®—æ³•ä¼˜ç‚¹"><a href="#ç®—æ³•ä¼˜ç‚¹" class="headerlink" title="ç®—æ³•ä¼˜ç‚¹"></a>ç®—æ³•ä¼˜ç‚¹</h3><ul><li><strong>æ•ˆç‡é«˜:</strong> é€šè¿‡è·³è¿‡ä¸åŒ¹é…çš„éƒ¨åˆ†ï¼Œå¤§å¤§æé«˜äº†æœç´¢é€Ÿåº¦ã€‚</li><li><strong>é€‚ç”¨äºé•¿æ¨¡å¼ä¸²:</strong> å°¤å…¶åœ¨æœç´¢è¾ƒé•¿çš„æ¨¡å¼ä¸²æ—¶ï¼Œæ€§èƒ½ä¼˜åŠ¿æ›´åŠ æ˜æ˜¾ã€‚</li></ul><h3 id="ç®—æ³•ç¼ºç‚¹"><a href="#ç®—æ³•ç¼ºç‚¹" class="headerlink" title="ç®—æ³•ç¼ºç‚¹"></a>ç®—æ³•ç¼ºç‚¹</h3><ul><li><strong>å®ç°å¤æ‚:</strong> ç®—æ³•çš„å®ç°ç›¸å¯¹å¤æ‚ï¼Œç‰¹åˆ«æ˜¯å¥½åç¼€è¡¨çš„è®¡ç®—ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Boyer-Mooreç®—æ³•æ˜¯ä¸€ç§é«˜æ•ˆçš„å­—ç¬¦ä¸²æœç´¢ç®—æ³•ï¼Œé€šè¿‡å·§å¦™çš„è·³è·ƒæœºåˆ¶ï¼Œå¯ä»¥æ˜¾è‘—æé«˜æœç´¢æ•ˆç‡ã€‚PHPå®ç°ç›¸å¯¹ç®€å•ï¼Œä½†è¦æ·±å…¥ç†è§£ç®—æ³•çš„åŸç†æ‰èƒ½è¿›è¡Œä¼˜åŒ–å’Œæ‰©å±•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> Boyer-Moore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è¯„åˆ¤ä¸€æ®µç¨‹åºçš„å¥½åï¼šå¤æ‚åº¦åˆ†æ</title>
      <link href="/posts/complexity-analysis.html"/>
      <url>/posts/complexity-analysis.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¯„åˆ¤ä¸€æ®µç¨‹åºçš„å¥½åï¼Œé™¤äº†åŠŸèƒ½çš„æ­£ç¡®æ€§ä¹‹å¤–ï¼Œ<strong>ç®—æ³•çš„æ•ˆç‡</strong>ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ã€‚è€Œ<strong>å¤æ‚åº¦åˆ†æ</strong>å°±æ˜¯ç”¨æ¥è¡¡é‡ç®—æ³•æ•ˆç‡çš„ä¸€ç§æ–¹æ³•ã€‚</p><h3 id="å¤æ‚åº¦åˆ†ææ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å¤æ‚åº¦åˆ†ææ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å¤æ‚åº¦åˆ†ææ˜¯ä»€ä¹ˆï¼Ÿ"></a>å¤æ‚åº¦åˆ†ææ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>å¤æ‚åº¦åˆ†ææ˜¯å¯¹ç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€æ—¶é—´èµ„æºå’Œç©ºé—´èµ„æºçš„æ•°é‡çš„ä¼°ç®—ã€‚</p><ul><li><strong>æ—¶é—´å¤æ‚åº¦:</strong> è¡¨ç¤ºç®—æ³•æ‰§è¡Œæ—¶é—´éšè¾“å…¥è§„æ¨¡å¢é•¿çš„å˜åŒ–è¶‹åŠ¿ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦:</strong> è¡¨ç¤ºç®—æ³•æ‰€éœ€è¦çš„é¢å¤–ç©ºé—´åœ¨è¾“å…¥è§„æ¨¡å¢é•¿æ—¶å˜åŒ–çš„è¶‹åŠ¿ã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æï¼Ÿ</h3><ul><li><strong>é€‰æ‹©æœ€ä¼˜ç®—æ³•:</strong> åœ¨æœ‰å¤šç§ç®—æ³•å¯ä»¥è§£å†³åŒä¸€ä¸ªé—®é¢˜æ—¶ï¼Œé€šè¿‡å¤æ‚åº¦åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½è¾ƒä½çš„ç®—æ³•ã€‚</li><li><strong>ä¼˜åŒ–ç®—æ³•:</strong> å¯¹äºå·²ç»å­˜åœ¨çš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†æå…¶å¤æ‚åº¦ç“¶é¢ˆï¼Œæœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œä¼˜åŒ–ã€‚</li><li><strong>è¯„ä¼°ç®—æ³•æ€§èƒ½:</strong> åœ¨å¤§è§„æ¨¡æ•°æ®å¤„ç†ä¸­ï¼Œç®—æ³•çš„æ•ˆç‡è‡³å…³é‡è¦ã€‚å¤æ‚åº¦åˆ†æå¯ä»¥å¸®åŠ©æˆ‘ä»¬é¢„æµ‹ç®—æ³•åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶çš„æ€§èƒ½ã€‚</li></ul><h3 id="å¦‚ä½•è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ"><a href="#å¦‚ä½•è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ" class="headerlink" title="å¦‚ä½•è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ"></a>å¦‚ä½•è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ</h3><h4 id="1-å¤§Oè¡¨ç¤ºæ³•"><a href="#1-å¤§Oè¡¨ç¤ºæ³•" class="headerlink" title="1. å¤§Oè¡¨ç¤ºæ³•:"></a>1. <strong>å¤§Oè¡¨ç¤ºæ³•:</strong></h4><ul><li><strong>å®šä¹‰:</strong> ç”¨æ¥æè¿°ç®—æ³•å¤æ‚åº¦çš„ä¸€ç§æ¸è¿›è¡¨ç¤ºæ³•ã€‚</li><li><strong>æ„ä¹‰:</strong> è¡¨ç¤ºéšç€è¾“å…¥è§„æ¨¡çš„å¢å¤§ï¼Œç®—æ³•æ‰§è¡Œæ—¶é—´çš„å¢é•¿é€Ÿåº¦ã€‚</li><li><strong>å¸¸è§çš„å¤§Oè¡¨ç¤ºæ³•:</strong><ul><li>O(1): å¸¸æ•°æ—¶é—´å¤æ‚åº¦</li><li>O(logn): å¯¹æ•°æ—¶é—´å¤æ‚åº¦</li><li>O(n): çº¿æ€§æ—¶é—´å¤æ‚åº¦</li><li>O(nlogn): çº¿æ€§å¯¹æ•°æ—¶é—´å¤æ‚åº¦</li><li>O(nÂ²): å¹³æ–¹æ—¶é—´å¤æ‚åº¦</li><li>O(2^n): æŒ‡æ•°æ—¶é—´å¤æ‚åº¦</li></ul></li></ul><h4 id="2-åˆ†ææ–¹æ³•"><a href="#2-åˆ†ææ–¹æ³•" class="headerlink" title="2. åˆ†ææ–¹æ³•:"></a>2. <strong>åˆ†ææ–¹æ³•:</strong></h4><ul><li><strong>æœ€å¥½ã€æœ€åã€å¹³å‡æƒ…å†µ:</strong><ul><li><strong>æœ€å¥½æƒ…å†µ:</strong> ç®—æ³•åœ¨æœ€ç†æƒ³æƒ…å†µä¸‹è¿è¡Œçš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li><strong>æœ€åæƒ…å†µ:</strong> ç®—æ³•åœ¨æœ€åæƒ…å†µä¸‹è¿è¡Œçš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li><strong>å¹³å‡æƒ…å†µ:</strong> ç®—æ³•åœ¨æ‰€æœ‰å¯èƒ½è¾“å…¥ä¸‹çš„å¹³å‡è¿è¡Œæ—¶é—´å¤æ‚åº¦ã€‚</li></ul></li><li><strong>å¾ªç¯åµŒå¥—:</strong> åµŒå¥—å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ˜¯å„å±‚å¾ªç¯å¤æ‚åº¦çš„ä¹˜ç§¯ã€‚</li><li><strong>å‡½æ•°è°ƒç”¨:</strong> å‡½æ•°è°ƒç”¨çš„æ—¶é—´å¤æ‚åº¦å–å†³äºå‡½æ•°æœ¬èº«çš„å¤æ‚åº¦å’Œè°ƒç”¨æ¬¡æ•°ã€‚</li><li><strong>é€’å½’:</strong> é€’å½’ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸ä¸é€’å½’æ ‘çš„æ·±åº¦æœ‰å…³ã€‚</li></ul><h4 id="3-ç©ºé—´å¤æ‚åº¦åˆ†æ"><a href="#3-ç©ºé—´å¤æ‚åº¦åˆ†æ" class="headerlink" title="3. ç©ºé—´å¤æ‚åº¦åˆ†æ:"></a>3. <strong>ç©ºé—´å¤æ‚åº¦åˆ†æ:</strong></h4><ul><li><strong>é¢å¤–ç©ºé—´:</strong> æŒ‡ç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­é™¤äº†è¾“å…¥æ•°æ®ä¹‹å¤–ï¼Œé¢å¤–ä½¿ç”¨çš„å­˜å‚¨ç©ºé—´ã€‚</li><li><strong>åˆ†ææ–¹æ³•:</strong> ä¸æ—¶é—´å¤æ‚åº¦åˆ†æç±»ä¼¼ï¼Œä¸»è¦è€ƒè™‘ç®—æ³•ä¸­ä½¿ç”¨çš„è¾…åŠ©æ•°æ®ç»“æ„çš„å¤§å°ã€‚</li></ul><h3 id="å®ä¾‹ï¼š"><a href="#å®ä¾‹ï¼š" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">linear_search</span>(<span class="params">arr, target</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(arr)):</span><br><span class="line">        <span class="keyword">if</span> arr[i] == target:</span><br><span class="line">            <span class="keyword">return</span> i</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><ul><li><strong>æ—¶é—´å¤æ‚åº¦:</strong> O(n)ï¼Œå› ä¸ºæœ€åæƒ…å†µä¸‹éœ€è¦éå†æ•´ä¸ªæ•°ç»„ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦:</strong> O(1)ï¼Œé™¤äº†è¾“å…¥æ•°ç»„å¤–ï¼Œæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„ç©ºé—´ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¤æ‚åº¦åˆ†ææ˜¯è¡¡é‡ç®—æ³•æ•ˆç‡çš„é‡è¦å·¥å…·ï¼Œé€šè¿‡å¯¹ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ›´é€‚åˆçš„ç®—æ³•ï¼Œä¼˜åŒ–ç®—æ³•æ€§èƒ½ï¼Œæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</p><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li><strong>å¤æ‚åº¦åˆ†ææ˜¯ä¸€ä¸ªä¼°ç®—è¿‡ç¨‹:</strong> å®é™…è¿è¡Œæ—¶é—´è¿˜å—åˆ°ç¡¬ä»¶ã€è½¯ä»¶ã€ç¼–è¯‘å™¨ç­‰å› ç´ çš„å½±å“ã€‚</li><li><strong>ä¸åŒç®—æ³•åœ¨ä¸åŒæ•°æ®é›†ä¸Šçš„è¡¨ç°å¯èƒ½ä¸åŒ:</strong> é€‰æ‹©ç®—æ³•æ—¶éœ€è¦ç»¼åˆè€ƒè™‘æ•°æ®é›†çš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ã€‚</li><li><strong>å¤æ‚åº¦åˆ†æåªæ˜¯ç®—æ³•è¯„ä»·çš„ä¸€ä¸ªæ–¹é¢:</strong> ç®—æ³•çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ç­‰å› ç´ ä¹Ÿéœ€è¦è€ƒè™‘ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> å¤æ‚åº¦åˆ†æ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é©¬æ‹‰è½¦ç®—æ³•ï¼ˆManacher&#39;s Algorithmï¼‰è¯¦è§£</title>
      <link href="/posts/manacher-algorithm.html"/>
      <url>/posts/manacher-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯é©¬æ‹‰è½¦ç®—æ³•ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é©¬æ‹‰è½¦ç®—æ³•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é©¬æ‹‰è½¦ç®—æ³•ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é©¬æ‹‰è½¦ç®—æ³•ï¼Ÿ</h3><p>é©¬æ‹‰è½¦ç®—æ³•æ˜¯ä¸€ç§é«˜æ•ˆæŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²çš„çº¿æ€§æ—¶é—´å¤æ‚åº¦ç®—æ³•ã€‚å®ƒé€šè¿‡å·§å¦™çš„é¢„å¤„ç†å’ŒåŠ¨æ€è§„åˆ’ï¼Œé¿å…äº†å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œä½¿å¾—ç®—æ³•çš„æ•ˆç‡å¾—åˆ°äº†æå¤§çš„æå‡ã€‚<br>æ³¨ï¼šå›æ–‡ï¼ˆPalindromeï¼‰æ˜¯æŒ‡æ­£è¯»å’Œåè¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ï¼Œå³å·¦å³å¯¹ç§°çš„å­—ç¬¦ä¸²ï¼Œå¦‚ï¼šlevelï¼Œnoonï¼Œ232â€¦</p><h3 id="ç®—æ³•æ ¸å¿ƒæ€æƒ³"><a href="#ç®—æ³•æ ¸å¿ƒæ€æƒ³" class="headerlink" title="ç®—æ³•æ ¸å¿ƒæ€æƒ³"></a>ç®—æ³•æ ¸å¿ƒæ€æƒ³</h3><ul><li><strong>é¢„å¤„ç†:</strong><ul><li>åœ¨å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ä¹‹é—´æ’å…¥ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚#ï¼‰ï¼Œä½¿å¾—åŸå­—ç¬¦ä¸²å˜ä¸ºå¥‡æ•°é•¿åº¦ã€‚è¿™æ ·ï¼Œæ— è®ºæ˜¯å¥‡æ•°é•¿åº¦è¿˜æ˜¯å¶æ•°é•¿åº¦çš„å›æ–‡å­ä¸²ï¼Œéƒ½å¯ä»¥ç»Ÿä¸€å¤„ç†æˆå¥‡æ•°é•¿åº¦çš„å›æ–‡å­ä¸²ã€‚</li></ul></li><li><strong>ä¸­å¿ƒæ‰©å±•:</strong><ul><li>ä»å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼Œæ‰¾åˆ°ä»¥å½“å‰å­—ç¬¦ä¸ºä¸­å¿ƒçš„å›æ–‡å­ä¸²çš„æœ€é•¿é•¿åº¦ã€‚</li></ul></li><li><strong>åˆ©ç”¨å¯¹ç§°æ€§:</strong><ul><li>ç®—æ³•çš„å…³é”®åœ¨äºåˆ©ç”¨å·²ç»è®¡ç®—è¿‡çš„å›æ–‡å­ä¸²çš„ä¿¡æ¯ï¼Œæ¥åŠ é€Ÿåç»­å›æ–‡å­ä¸²çš„æŸ¥æ‰¾ã€‚é€šè¿‡å¯¹ç§°æ€§ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦çš„å­—ç¬¦æ¯”è¾ƒã€‚</li></ul></li></ul><h3 id="ç®—æ³•å®ç°æ­¥éª¤"><a href="#ç®—æ³•å®ç°æ­¥éª¤" class="headerlink" title="ç®—æ³•å®ç°æ­¥éª¤"></a>ç®—æ³•å®ç°æ­¥éª¤</h3><ol><li><strong>é¢„å¤„ç†:</strong> å°†åŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œåœ¨æ¯ä¸ªå­—ç¬¦ä¹‹é—´æ’å…¥ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€‚</li><li><strong>åˆå§‹åŒ–æ•°ç»„P:</strong> æ•°ç»„Pç”¨æ¥å­˜å‚¨ä»¥æ¯ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²çš„åŠå¾„ã€‚</li><li><strong>éå†é¢„å¤„ç†åçš„å­—ç¬¦ä¸²:</strong><ul><li>ç»´æŠ¤ä¸€ä¸ªä¸­å¿ƒidå’Œæœ€å³è¾¹ç•Œmxã€‚</li><li>å¯¹äºå½“å‰å­—ç¬¦iï¼Œåˆ©ç”¨å¯¹ç§°æ€§ï¼Œå¯ä»¥å¿«é€Ÿå¾—åˆ°ä¸€ä¸ªåˆå§‹çš„å›æ–‡åŠå¾„ã€‚</li><li>ç„¶åï¼Œä»¥iä¸ºä¸­å¿ƒï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼Œç›´åˆ°é‡åˆ°ä¸åŒ¹é…çš„å­—ç¬¦æˆ–è€…åˆ°è¾¾è¾¹ç•Œã€‚</li><li>æ›´æ–°P[i]ï¼Œä»¥åŠä¸­å¿ƒidå’Œæœ€å³è¾¹ç•Œmxã€‚</li></ul></li></ol><h3 id="ä»£ç ç¤ºä¾‹ï¼ˆphpï¼‰"><a href="#ä»£ç ç¤ºä¾‹ï¼ˆphpï¼‰" class="headerlink" title="ä»£ç ç¤ºä¾‹ï¼ˆphpï¼‰"></a>ä»£ç ç¤ºä¾‹ï¼ˆphpï¼‰</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">longestPalindrome</span>(<span class="params"><span class="variable">$s</span></span>) </span>{</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">strlen</span>(<span class="variable">$s</span>);</span><br><span class="line">    <span class="variable">$T</span> = <span class="string">'#'</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$n</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="variable">$T</span> .= <span class="variable">$s</span>[<span class="variable">$i</span>] . <span class="string">'#'</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">strlen</span>(<span class="variable">$T</span>);</span><br><span class="line">    <span class="variable">$p</span> = <span class="title function_ invoke__">array_fill</span>(<span class="number">0</span>, <span class="variable">$n</span>, <span class="number">0</span>);<span class="comment">// åˆ›å»ºæ•°ç»„ pï¼Œç”¨äºå­˜å‚¨ä»¥æ¯ä¸ªä½ç½®ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡åŠå¾„ã€‚</span></span><br><span class="line">    <span class="variable">$center</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable">$right</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">1</span>; <span class="variable">$i</span> &lt; <span class="variable">$n</span> - <span class="number">1</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="variable">$mirror</span> = <span class="number">2</span> * <span class="variable">$center</span> - <span class="variable">$i</span>;</span><br><span class="line">        <span class="variable">$p</span>[<span class="variable">$i</span>] = (<span class="variable">$i</span> &lt; <span class="variable">$right</span>) ? <span class="title function_ invoke__">min</span>(<span class="variable">$right</span> - <span class="variable">$i</span>, <span class="variable">$p</span>[<span class="variable">$mirror</span>]) : <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="variable">$i</span> + <span class="variable">$p</span>[<span class="variable">$i</span>] &lt; <span class="variable">$n</span> &amp;&amp; <span class="variable">$i</span> - <span class="variable">$p</span>[<span class="variable">$i</span>] &gt; <span class="number">0</span> &amp;&amp; <span class="variable">$T</span>[<span class="variable">$i</span> + <span class="variable">$p</span>[<span class="variable">$i</span>]] == <span class="variable">$T</span>[<span class="variable">$i</span> - <span class="variable">$p</span>[<span class="variable">$i</span>]]) {</span><br><span class="line">            <span class="variable">$p</span>[<span class="variable">$i</span>]++;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$i</span> + <span class="variable">$p</span>[<span class="variable">$i</span>] - <span class="number">1</span> &gt; <span class="variable">$right</span>) {</span><br><span class="line">            <span class="variable">$center</span> = <span class="variable">$i</span>;</span><br><span class="line">            <span class="variable">$right</span> = <span class="variable">$i</span> + <span class="variable">$p</span>[<span class="variable">$i</span>] - <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æœ€é•¿å›æ–‡å­ä¸²çš„ä¸­å¿ƒå’Œé•¿åº¦</span></span><br><span class="line">    <span class="variable">$maxLen</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable">$centerIndex</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">1</span>; <span class="variable">$i</span> &lt; <span class="variable">$n</span> - <span class="number">1</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$p</span>[<span class="variable">$i</span>] &gt; <span class="variable">$maxLen</span>) {</span><br><span class="line">            <span class="variable">$maxLen</span> = <span class="variable">$p</span>[<span class="variable">$i</span>];</span><br><span class="line">            <span class="variable">$centerIndex</span> = <span class="variable">$i</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»é¢„å¤„ç†åçš„å­—ç¬¦ä¸²ä¸­è¿˜åŸå‡ºåŸå§‹å­—ç¬¦ä¸²ä¸­çš„æœ€é•¿å›æ–‡å­ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">substr</span>(<span class="variable">$s</span>, (<span class="variable">$centerIndex</span> - <span class="variable">$maxLen</span>) / <span class="number">2</span>, <span class="variable">$maxLen</span> - <span class="number">1</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="ç®—æ³•å¤æ‚åº¦"><a href="#ç®—æ³•å¤æ‚åº¦" class="headerlink" title="ç®—æ³•å¤æ‚åº¦"></a>ç®—æ³•å¤æ‚åº¦</h3><p>é©¬æ‹‰è½¦ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿä¸ºO(n)ã€‚</p><h3 id="ç®—æ³•ä¼˜ç‚¹"><a href="#ç®—æ³•ä¼˜ç‚¹" class="headerlink" title="ç®—æ³•ä¼˜ç‚¹"></a>ç®—æ³•ä¼˜ç‚¹</h3><ul><li><strong>çº¿æ€§æ—¶é—´å¤æ‚åº¦:</strong> æ•ˆç‡æé«˜ã€‚</li><li><strong>å®ç°ç›¸å¯¹ç®€å•:</strong> æ ¸å¿ƒæ€æƒ³æ¸…æ™°æ˜“æ‡‚ã€‚</li><li><strong>åº”ç”¨å¹¿æ³›:</strong> åœ¨å­—ç¬¦ä¸²å¤„ç†ã€ç”Ÿç‰©ä¿¡æ¯å­¦ç­‰é¢†åŸŸæœ‰å¹¿æ³›åº”ç”¨ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é©¬æ‹‰è½¦ç®—æ³•æ˜¯ä¸€ç§éå¸¸ä¼˜ç§€çš„ç®—æ³•ï¼Œå®ƒé€šè¿‡å·§å¦™çš„é¢„å¤„ç†å’Œåˆ©ç”¨å¯¹ç§°æ€§ï¼Œå®ç°äº†çº¿æ€§æ—¶é—´å¤æ‚åº¦æŸ¥æ‰¾æœ€é•¿å›æ–‡å­ä¸²ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé©¬æ‹‰è½¦ç®—æ³•å…·æœ‰å¾ˆé«˜çš„æ•ˆç‡å’Œå®ç”¨æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> é©¬æ‹‰è½¦ç®—æ³• </tag>
            
            <tag> Manacher </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŠ¶æ€æœºï¼šä¸€ç§ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ</title>
      <link href="/posts/finite-state-machine.html"/>
      <url>/posts/finite-state-machine.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯çŠ¶æ€æœºï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯çŠ¶æ€æœºï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯çŠ¶æ€æœºï¼Ÿ"></a>ä»€ä¹ˆæ˜¯çŠ¶æ€æœºï¼Ÿ</h3><p>çŠ¶æ€æœºæ˜¯ä¸€ç§æ•°å­¦æ¨¡å‹ï¼Œç”¨äºæè¿°ä¸€ä¸ªå¯¹è±¡åœ¨ä¸åŒçŠ¶æ€ä¹‹é—´çš„è½¬æ¢ã€‚åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼ŒçŠ¶æ€æœºè¢«å¹¿æ³›ç”¨äºè¡¨ç¤ºå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¾‹å¦‚è®¢å•çš„çŠ¶æ€ï¼ˆå¾…æ”¯ä»˜ã€å·²æ”¯ä»˜ã€å·²å‘è´§ï¼‰ã€ç”¨æˆ·çš„çŠ¶æ€ï¼ˆæœªæ¿€æ´»ã€æ¿€æ´»ã€ç¦ç”¨ï¼‰ç­‰ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨çŠ¶æ€æœºï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨çŠ¶æ€æœºï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨çŠ¶æ€æœºï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨çŠ¶æ€æœºï¼Ÿ</h3><ul><li><strong>æ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘ï¼š</strong> çŠ¶æ€æœºå°†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘åˆ†è§£ä¸ºå¤šä¸ªçŠ¶æ€å’ŒçŠ¶æ€ä¹‹é—´çš„è½¬æ¢ï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚</li><li><strong>æé«˜ä»£ç å¯è¯»æ€§ï¼š</strong> çŠ¶æ€æœºä½¿ç”¨çŠ¶æ€å’Œäº‹ä»¶æ¥æè¿°ç³»ç»Ÿçš„è¡Œä¸ºï¼Œä½¿å¾—ä»£ç æ›´åŠ ç›´è§‚ã€‚</li><li><strong>å‡å°‘æ¡ä»¶åˆ¤æ–­ï¼š</strong> é€šè¿‡çŠ¶æ€æœºï¼Œå¯ä»¥å‡å°‘å¤§é‡çš„if-elseåˆ¤æ–­ï¼Œæé«˜ä»£ç çš„ç®€æ´æ€§ã€‚</li><li><strong>å¢å¼ºç³»ç»Ÿå¥å£®æ€§ï¼š</strong> çŠ¶æ€æœºå¯ä»¥æœ‰æ•ˆåœ°é˜²æ­¢ç³»ç»Ÿè¿›å…¥éæ³•çŠ¶æ€ã€‚</li></ul><h3 id="PHPå®ç°çŠ¶æ€æœºçš„æ–¹æ³•"><a href="#PHPå®ç°çŠ¶æ€æœºçš„æ–¹æ³•" class="headerlink" title="PHPå®ç°çŠ¶æ€æœºçš„æ–¹æ³•"></a>PHPå®ç°çŠ¶æ€æœºçš„æ–¹æ³•</h3><h4 id="1-åŸºäºæ•°ç»„æˆ–å¯¹è±¡çš„çŠ¶æ€æœº"><a href="#1-åŸºäºæ•°ç»„æˆ–å¯¹è±¡çš„çŠ¶æ€æœº" class="headerlink" title="1. åŸºäºæ•°ç»„æˆ–å¯¹è±¡çš„çŠ¶æ€æœº"></a>1. <strong>åŸºäºæ•°ç»„æˆ–å¯¹è±¡çš„çŠ¶æ€æœº</strong></h4><ul><li><strong>ç®€å•å®ç°ï¼š</strong> ä½¿ç”¨æ•°ç»„æˆ–å¯¹è±¡æ¥å­˜å‚¨å½“å‰çŠ¶æ€å’ŒçŠ¶æ€è½¬æ¢è§„åˆ™ã€‚</li><li><strong>ç¼ºç‚¹ï¼š</strong> ä»£ç å¯è¯»æ€§è¾ƒå·®ï¼Œæ‰©å±•æ€§æœ‰é™ã€‚</li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Order</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$status</span> = <span class="string">'pending'</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$transitions</span> = [</span><br><span class="line">        <span class="string">'pending'</span> =&gt; [<span class="string">'paid'</span>],</span><br><span class="line">        <span class="string">'paid'</span> =&gt; [<span class="string">'shipped'</span>, <span class="string">'canceled'</span>],</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">transitionTo</span>(<span class="params"><span class="variable">$newState</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">in_array</span>(<span class="variable">$newState</span>, <span class="variable">$this</span>-&gt;transitions[<span class="variable">$this</span>-&gt;status])) {</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;status = <span class="variable">$newState</span>;</span><br><span class="line">            <span class="comment">// æ‰§è¡ŒçŠ¶æ€è½¬æ¢åçš„æ“ä½œ</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">InvalidStateException</span>(<span class="string">'Invalid transition'</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="2-ä½¿ç”¨çŠ¶æ€æ¨¡å¼"><a href="#2-ä½¿ç”¨çŠ¶æ€æ¨¡å¼" class="headerlink" title="2. ä½¿ç”¨çŠ¶æ€æ¨¡å¼"></a>2. <strong>ä½¿ç”¨çŠ¶æ€æ¨¡å¼</strong></h4><ul><li><strong>é¢å‘å¯¹è±¡å®ç°ï¼š</strong> å°†æ¯ä¸ªçŠ¶æ€å°è£…æˆä¸€ä¸ªç±»ï¼ŒçŠ¶æ€çš„è½¬æ¢é€šè¿‡è°ƒç”¨ç›¸åº”çš„æ–¹æ³•æ¥å®ç°ã€‚</li><li><strong>ä¼˜ç‚¹ï¼š</strong> ä»£ç ç»“æ„æ¸…æ™°ï¼Œå¯æ‰©å±•æ€§å¼ºã€‚</li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">State</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$context</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Context <span class="variable">$context</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;context = <span class="variable">$context</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PendingState</span> <span class="keyword">extends</span> <span class="title">State</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// å¤„ç†å¾…æ”¯ä»˜çŠ¶æ€</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...å…¶ä»–çŠ¶æ€ç±»</span></span><br></pre></td></tr></tbody></table></figure><h4 id="3-ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“"><a href="#3-ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="3. ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“"></a>3. <strong>ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“</strong></h4><ul><li><strong>åŠŸèƒ½ä¸°å¯Œï¼š</strong> å¾ˆå¤šç¬¬ä¸‰æ–¹åº“æä¾›äº†æ›´å®Œå–„çš„çŠ¶æ€æœºå®ç°ï¼ŒåŒ…æ‹¬çŠ¶æ€å›¾å¯è§†åŒ–ã€äº‹ä»¶é©±åŠ¨ç­‰åŠŸèƒ½ã€‚</li><li><strong>æµè¡Œåº“ï¼š</strong> Workflowyã€Finiteã€StateMachineç­‰ã€‚</li></ul><h4 id="4-ä½¿ç”¨PHPçš„Traits"><a href="#4-ä½¿ç”¨PHPçš„Traits" class="headerlink" title="4. ä½¿ç”¨PHPçš„Traits"></a>4. <strong>ä½¿ç”¨PHPçš„Traits</strong></h4><ul><li><strong>ä»£ç å¤ç”¨ï¼š</strong> å°†çŠ¶æ€æœºç›¸å…³çš„ä»£ç å°è£…æˆTraitsï¼Œæ–¹ä¾¿åœ¨å¤šä¸ªç±»ä¸­å¤ç”¨ã€‚</li></ul><h3 id="çŠ¶æ€æœºçš„æ ¸å¿ƒè¦ç´ "><a href="#çŠ¶æ€æœºçš„æ ¸å¿ƒè¦ç´ " class="headerlink" title="çŠ¶æ€æœºçš„æ ¸å¿ƒè¦ç´ "></a>çŠ¶æ€æœºçš„æ ¸å¿ƒè¦ç´ </h3><ul><li><strong>çŠ¶æ€ï¼š</strong> ç³»ç»Ÿå¯èƒ½å­˜åœ¨çš„å„ç§çŠ¶æ€ã€‚</li><li><strong>äº‹ä»¶ï¼š</strong> è§¦å‘çŠ¶æ€è½¬æ¢çš„äº‹ä»¶ã€‚</li><li><strong>è½¬æ¢ï¼š</strong> çŠ¶æ€ä¹‹é—´çš„è½¬æ¢è§„åˆ™ã€‚</li><li><strong>åŠ¨ä½œï¼š</strong> çŠ¶æ€è½¬æ¢æ—¶æ‰§è¡Œçš„åŠ¨ä½œã€‚</li></ul><h3 id="ç¤ºä¾‹ï¼šè®¢å•çŠ¶æ€æœº"><a href="#ç¤ºä¾‹ï¼šè®¢å•çŠ¶æ€æœº" class="headerlink" title="ç¤ºä¾‹ï¼šè®¢å•çŠ¶æ€æœº"></a>ç¤ºä¾‹ï¼šè®¢å•çŠ¶æ€æœº</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Order</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">use</span> <span class="title">StateMachineTrait</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$states</span> = [<span class="string">'pending'</span>, <span class="string">'paid'</span>, <span class="string">'shipped'</span>, <span class="string">'canceled'</span>];</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$initial</span> = <span class="string">'pending'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pay</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">transitionTo</span>(<span class="string">'paid'</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...å…¶ä»–æ–¹æ³•</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>çŠ¶æ€æœºæ˜¯ä¸€ç§å¼ºå¤§çš„è®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´æ¸…æ™°ã€æ›´å¥å£®çš„åº”ç”¨ç¨‹åºã€‚åœ¨PHPä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°çŠ¶æ€æœºï¼Œé€‰æ‹©é€‚åˆè‡ªå·±é¡¹ç›®çš„æ–¹å¼å³å¯ã€‚</p><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li><strong>çŠ¶æ€å›¾ï¼š</strong> åœ¨è®¾è®¡çŠ¶æ€æœºä¹‹å‰ï¼Œç»˜åˆ¶çŠ¶æ€å›¾å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£ç³»ç»Ÿçš„è¡Œä¸ºã€‚</li><li><strong>é”™è¯¯å¤„ç†ï¼š</strong> å¯¹äºéæ³•çŠ¶æ€è½¬æ¢ï¼Œéœ€è¦è¿›è¡Œé€‚å½“çš„é”™è¯¯å¤„ç†ã€‚</li><li><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong> å¦‚æœçŠ¶æ€æœºéå¸¸å¤æ‚ï¼Œéœ€è¦è€ƒè™‘æ€§èƒ½ä¼˜åŒ–çš„é—®é¢˜ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç³»ç»Ÿè®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çŠ¶æ€æœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶è®¾è®¡ä¸­çš„é˜²è…å±‚ï¼šä¿æŠ¤ä½ çš„ç³»ç»Ÿ</title>
      <link href="/posts/anti-corruption-layer.html"/>
      <url>/posts/anti-corruption-layer.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯é˜²è…å±‚ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é˜²è…å±‚ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é˜²è…å±‚ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é˜²è…å±‚ï¼Ÿ</h3><p>åœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œå°¤å…¶æ˜¯é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ä¸­ï¼Œé˜²è…å±‚ï¼ˆAnti-corruption Layerï¼ŒACLï¼‰æ˜¯ä¸€ç§é‡è¦çš„æ¨¡å¼ï¼Œç”¨äºéš”ç¦»ç³»ç»Ÿä¸åŒçš„éƒ¨åˆ†ï¼Œé˜²æ­¢ä¸€ä¸ªéƒ¨åˆ†çš„å˜åŒ–å½±å“åˆ°å…¶ä»–éƒ¨åˆ†ã€‚å®ƒå°±åƒä¸€ä¸ªç¿»è¯‘å®˜ï¼Œå°†ä¸åŒé¢†åŸŸæ¨¡å‹ä¹‹é—´çš„å·®å¼‚è¿›è¡Œè½¬æ¢ï¼Œä»è€Œä¿æŠ¤ç³»ç»Ÿçš„æ ¸å¿ƒé¢†åŸŸæ¨¡å‹ã€‚</p><h3 id="é˜²è…å±‚é€‚ç”¨åœºæ™¯"><a href="#é˜²è…å±‚é€‚ç”¨åœºæ™¯" class="headerlink" title="é˜²è…å±‚é€‚ç”¨åœºæ™¯"></a>é˜²è…å±‚é€‚ç”¨åœºæ™¯</h3><ul><li><strong>éš”ç¦»å¤–éƒ¨ç³»ç»Ÿï¼š</strong> å½“ç³»ç»Ÿéœ€è¦ä¸å…¶ä»–ç³»ç»Ÿï¼ˆå¦‚ç¬¬ä¸‰æ–¹APIã€é—ç•™ç³»ç»Ÿï¼‰äº¤äº’æ—¶ï¼Œé˜²è…å±‚å¯ä»¥å°†å¤–éƒ¨ç³»ç»Ÿçš„å¤æ‚æ€§å°è£…èµ·æ¥ï¼Œä¿æŠ¤æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚</li><li><strong>é€‚é…ä¸åŒæ•°æ®æ¨¡å‹ï¼š</strong> å½“ä¸åŒç³»ç»Ÿçš„æ•°æ®æ¨¡å‹ä¸ä¸€è‡´æ—¶ï¼Œé˜²è…å±‚å¯ä»¥è¿›è¡Œæ•°æ®è½¬æ¢ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li><li><strong>éšè—æŠ€æœ¯ç»†èŠ‚ï¼š</strong> é˜²è…å±‚å¯ä»¥éšè—åº•å±‚æŠ€æœ¯å®ç°çš„ç»†èŠ‚ï¼Œæä¾›ä¸€ä¸ªé«˜å±‚æ¬¡çš„æŠ½è±¡æ¥å£ã€‚</li></ul><h3 id="PHPå®ç°é˜²è…å±‚"><a href="#PHPå®ç°é˜²è…å±‚" class="headerlink" title="PHPå®ç°é˜²è…å±‚"></a>PHPå®ç°é˜²è…å±‚</h3><p><strong>1. è¯†åˆ«éœ€è¦éš”ç¦»çš„éƒ¨åˆ†</strong></p><ul><li><strong>ç¡®å®šè¾¹ç•Œï¼š</strong> æ˜ç¡®ç³»ç»Ÿä¸­éœ€è¦éš”ç¦»çš„éƒ¨åˆ†ï¼Œé€šå¸¸æ˜¯ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’çš„éƒ¨åˆ†ã€‚</li><li><strong>å®šä¹‰æ¥å£ï¼š</strong> ä¸ºéš”ç¦»çš„éƒ¨åˆ†å®šä¹‰ä¸€ä¸ªæ¸…æ™°çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£å°±æ˜¯é˜²è…å±‚çš„å¯¹å¤–æ¥å£ã€‚</li></ul><p><strong>2. åˆ›å»ºé˜²è…å±‚ç±»</strong></p><ul><li><strong>å°è£…é€»è¾‘ï¼š</strong> å°†ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’çš„é€»è¾‘å°è£…åˆ°è¿™ä¸ªç±»ä¸­ã€‚</li><li><strong>æ•°æ®è½¬æ¢ï¼š</strong> å°†å¤–éƒ¨ç³»ç»Ÿçš„æ•°æ®è½¬æ¢ä¸ºå†…éƒ¨ç³»ç»Ÿå¯ä»¥ç†è§£çš„æ•°æ®ã€‚</li><li><strong>é”™è¯¯å¤„ç†ï¼š</strong> å¤„ç†å¤–éƒ¨ç³»ç»Ÿè¿”å›çš„é”™è¯¯ã€‚</li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”µå•†ç³»ç»Ÿï¼Œéœ€è¦ä¸ä¸€ä¸ªå¤–éƒ¨æ”¯ä»˜ç³»ç»Ÿäº¤äº’ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ”¯ä»˜é˜²è…å±‚ï¼š</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PaymentGateway</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$client</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">PaymentGatewayClient <span class="variable">$client</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;client = <span class="variable">$client</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makePayment</span>(<span class="params">Order <span class="variable">$order</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// å°†è®¢å•ä¿¡æ¯è½¬æ¢ä¸ºæ”¯ä»˜ç³»ç»Ÿéœ€è¦çš„æ ¼å¼</span></span><br><span class="line">        <span class="variable">$paymentRequest</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">convertToPaymentRequest</span>(<span class="variable">$order</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨æ”¯ä»˜ç³»ç»Ÿçš„æ¥å£</span></span><br><span class="line">        <span class="variable">$paymentResponse</span> = <span class="variable language_">$this</span>-&gt;client-&gt;<span class="title function_ invoke__">makePayment</span>(<span class="variable">$paymentRequest</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†æ”¯ä»˜ç³»ç»Ÿçš„å“åº”è½¬æ¢ä¸ºå†…éƒ¨ç³»ç»Ÿå¯ä»¥ç†è§£çš„æ ¼å¼</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">convertToPaymentResponse</span>(<span class="variable">$paymentResponse</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... å…¶ä»–æ–¹æ³•</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>3. ä½¿ç”¨é˜²è…å±‚</strong></p><p>åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œé€šè¿‡è°ƒç”¨é˜²è…å±‚çš„æ¥å£æ¥ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ï¼Œè€Œä¸éœ€è¦ç›´æ¥äº†è§£å¤–éƒ¨ç³»ç»Ÿçš„ç»†èŠ‚ã€‚</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OrderService</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$paymentGateway</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">completeOrder</span>(<span class="params">Order <span class="variable">$order</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// ... å…¶ä»–ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;paymentGateway-&gt;<span class="title function_ invoke__">makePayment</span>(<span class="variable">$order</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ... å…¶ä»–ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="é˜²è…å±‚çš„ä¼˜ç‚¹"><a href="#é˜²è…å±‚çš„ä¼˜ç‚¹" class="headerlink" title="é˜²è…å±‚çš„ä¼˜ç‚¹"></a>é˜²è…å±‚çš„ä¼˜ç‚¹</h3><ul><li><strong>æé«˜ç³»ç»Ÿå¯ç»´æŠ¤æ€§ï¼š</strong> éš”ç¦»äº†å¤–éƒ¨ç³»ç»Ÿçš„å˜åŒ–ï¼Œé™ä½äº†ç³»ç»Ÿè€¦åˆåº¦ã€‚</li><li><strong>å¢å¼ºç³»ç»Ÿå¯æµ‹è¯•æ€§ï¼š</strong> å¯ä»¥å¯¹é˜²è…å±‚è¿›è¡Œå•ç‹¬æµ‹è¯•ã€‚</li><li><strong>æé«˜ç³»ç»Ÿå¯æ‰©å±•æ€§ï¼š</strong> å¯ä»¥åœ¨ä¸å½±å“æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„æƒ…å†µä¸‹ï¼Œæ›´æ¢å¤–éƒ¨ç³»ç»Ÿã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é˜²è…å±‚æ˜¯PHPå¼€å‘ä¸­ä¸€ç§éå¸¸æœ‰ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´åŠ çµæ´»ã€å¯ç»´æŠ¤å’Œå¯æ‰©å±•çš„ç³»ç»Ÿã€‚é€šè¿‡åˆç†åœ°ä½¿ç”¨é˜²è…å±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°åº”å¯¹ç³»ç»Ÿå¤æ‚æ€§çš„æŒ‘æˆ˜ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç³»ç»Ÿè®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜²è…å±‚ </tag>
            
            <tag> è½¯ä»¶è®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ»‘åŠ¨çª—å£ç®—æ³•</title>
      <link href="/posts/sliding-window.html"/>
      <url>/posts/sliding-window.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ç®—æ³•ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ç®—æ³•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ç®—æ³•ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ç®—æ³•ï¼Ÿ</h3><p>æ»‘åŠ¨çª—å£ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šç»´æŠ¤ä¸€ä¸ªå›ºå®šå¤§å°çš„çª—å£ï¼Œéšç€æ•°æ®çš„ä¸æ–­è¾“å…¥ï¼Œçª—å£ä¸æ–­å‘åæ»‘åŠ¨ï¼Œä»è€Œè¾¾åˆ°å¯¹æ•°æ®æµè¿›è¡Œå±€éƒ¨ç»Ÿè®¡æˆ–è®¡ç®—çš„ç›®çš„ã€‚</p><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><ul><li>å­—ç¬¦ä¸²å¤„ç†: æŸ¥æ‰¾æœ€é•¿æ— é‡å¤å­ä¸²ã€å­—ç¬¦ä¸²çš„æ’åˆ—ç­‰ã€‚</li><li>æ•°ç»„å¤„ç†: å¯»æ‰¾æ•°ç»„ä¸­æ»¡è¶³ä¸€å®šæ¡ä»¶çš„å­æ•°ç»„ã€æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼/æœ€å°å€¼ç­‰ã€‚</li><li>æ•°æ®æµå¤„ç†: å®æ—¶å¤„ç†æ•°æ®æµï¼Œç»Ÿè®¡çª—å£å†…çš„ç»Ÿè®¡é‡ï¼›è¿›è€Œè¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ï¼Œå¦‚ï¼šé™æµ(åœ¨ä¸€å®šæ—¶é—´çª—å£å†…é™åˆ¶è¯·æ±‚çš„æ¬¡æ•°)ã€é™æƒ(å¦‚æœååˆ†é’Ÿçš„è®¢å•æ•°è¶…è¿‡100ï¼Œä¸”å¤±è´¥ç‡é«˜äº40%ï¼Œå°±æŠŠè¯¥å……å€¼æ¸ é“çš„ä¼˜å…ˆçº§é™åˆ°æœ€ä½)ç­‰ã€‚</li></ul><h3 id="PHPå®ç°æ»‘åŠ¨çª—å£ç®—æ³•"><a href="#PHPå®ç°æ»‘åŠ¨çª—å£ç®—æ³•" class="headerlink" title="PHPå®ç°æ»‘åŠ¨çª—å£ç®—æ³•"></a>PHPå®ç°æ»‘åŠ¨çª—å£ç®—æ³•</h3><h4 id="1-åŸºäºæ•°ç»„å®ç°çš„æ»‘åŠ¨çª—å£"><a href="#1-åŸºäºæ•°ç»„å®ç°çš„æ»‘åŠ¨çª—å£" class="headerlink" title="1. åŸºäºæ•°ç»„å®ç°çš„æ»‘åŠ¨çª—å£"></a>1. åŸºäºæ•°ç»„å®ç°çš„æ»‘åŠ¨çª—å£</h4><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥æ‰¾æ•°ç»„ä¸­æ»‘åŠ¨çª—å£å†…çš„æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * æ•´ä½“æ€è·¯æ˜¯ï¼š</span></span><br><span class="line"><span class="comment"> *     1. ä½¿ç”¨ä¸€ä¸ªå•è°ƒé€’å‡é˜Ÿåˆ—æ¥å­˜å‚¨ç´¢å¼•ï¼Œé˜Ÿåˆ—å¤´éƒ¨å§‹ç»ˆæ˜¯å½“å‰çª—å£çš„æœ€å¤§å€¼å¯¹åº”çš„ç´¢å¼•ã€‚</span></span><br><span class="line"><span class="comment"> *     2. æ¯æ¬¡å¾ªç¯ï¼Œå°†å½“å‰å…ƒç´ ä¸é˜Ÿåˆ—å°¾éƒ¨çš„å…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ æ›´å¤§ï¼Œåˆ™å°†é˜Ÿåˆ—å°¾éƒ¨çš„å…ƒç´ å¼¹å‡ºï¼Œ</span></span><br><span class="line"><span class="comment"> *          ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–å½“å‰å…ƒç´ å°äºç­‰äºé˜Ÿåˆ—å°¾éƒ¨çš„å…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment"> *     3. å½“çª—å£æ»‘åŠ¨æ—¶ï¼Œå¦‚æœé˜Ÿåˆ—å¤´éƒ¨çš„ç´¢å¼•å¯¹åº”çš„å…ƒç´ å·²ç»ä¸åœ¨çª—å£å†…ï¼Œåˆ™å°†å…¶å¼¹å‡ºã€‚</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $k</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findMaxSlidingWindow</span>(<span class="params"><span class="variable">$nums</span>, <span class="variable">$k</span></span>): <span class="title">array</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$nums</span>);&amp;&amp;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$n</span> == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="variable">$q</span> = []; <span class="comment">// å•è°ƒé€’å‡é˜Ÿåˆ—ï¼Œå­˜å‚¨ç´¢å¼•  é˜Ÿåˆ—å¤´éƒ¨å§‹ç»ˆæ˜¯å½“å‰çª—å£çš„æœ€å¤§å€¼å¯¹åº”çš„ç´¢å¼•ã€‚</span></span><br><span class="line">    <span class="variable">$res</span> = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$n</span>; <span class="variable">$i</span>++) {</span><br><span class="line">        <span class="comment">// ä¿è¯é˜Ÿåˆ—ä¸­åªä¿ç•™ç´¢å¼•å¯¹åº”çš„å€¼å¤§äºç­‰äºnums[i]çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (<span class="variable">$q</span> &amp;&amp; <span class="variable">$nums</span>[<span class="variable">$q</span>[<span class="title function_ invoke__">count</span>(<span class="variable">$q</span>) - <span class="number">1</span>]] &lt; <span class="variable">$nums</span>[<span class="variable">$i</span>]) {</span><br><span class="line">            <span class="title function_ invoke__">array_pop</span>(<span class="variable">$q</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$q</span>[] = <span class="variable">$i</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœçª—å£å·²æ»¡ï¼Œä¸”çª—å£é¦–å…ƒç´ å·²è¿‡æœŸï¼Œåˆ™å¼¹å‡º</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$i</span> &gt;= <span class="variable">$k</span> - <span class="number">1</span>) {</span><br><span class="line">            <span class="variable">$res</span>[] = <span class="variable">$nums</span>[<span class="variable">$q</span>[<span class="number">0</span>]];      <span class="comment">// çª—å£æœ€å¤§å€¼å°±æ˜¯é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ </span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$q</span>[<span class="number">0</span>] === <span class="variable">$i</span> - <span class="variable">$k</span> + <span class="number">1</span>) {    <span class="comment">// åˆ¤æ–­çª—å£å·¦è¾¹ç•Œå…ƒç´ æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">                <span class="title function_ invoke__">array_shift</span>(<span class="variable">$q</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$res</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$nums</span> = [<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">10</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>];</span><br><span class="line"><span class="variable">$res</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">findMaxSlidingWindow</span>(<span class="variable">$nums</span>,<span class="number">3</span>);</span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="title function_ invoke__">json_encode</span>(<span class="variable">$res</span>));        <span class="comment">// [5,5,5,5,6,6,6,4,10,10,10,2]</span></span><br></pre></td></tr></tbody></table></figure><h4 id="2-åŸºäºåŒæŒ‡é’ˆå®ç°çš„æ»‘åŠ¨çª—å£"><a href="#2-åŸºäºåŒæŒ‡é’ˆå®ç°çš„æ»‘åŠ¨çª—å£" class="headerlink" title="2. åŸºäºåŒæŒ‡é’ˆå®ç°çš„æ»‘åŠ¨çª—å£"></a>2. åŸºäºåŒæŒ‡é’ˆå®ç°çš„æ»‘åŠ¨çª—å£</h4><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥æ‰¾æœ€é•¿æ— é‡å¤å­ä¸²</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $s</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> int|mixed</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lengthOfLongestSubstring</span>(<span class="params"><span class="variable">$s</span></span>) </span>{</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">strlen</span>(<span class="variable">$s</span>);</span><br><span class="line">    <span class="variable">$ans</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// å·¦å³æŒ‡é’ˆ: ç”¨ä¸¤ä¸ªæŒ‡é’ˆleftå’Œrightæ¥è¡¨ç¤ºæ»‘åŠ¨çª—å£çš„å·¦å³è¾¹ç•Œã€‚</span></span><br><span class="line">    <span class="variable">$left</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable">$right</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable">$set</span> = [];      <span class="comment">// å“ˆå¸Œè¡¨: ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®°å½•çª—å£ä¸­å‡ºç°çš„å­—ç¬¦ã€‚</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="variable">$right</span> &lt; <span class="variable">$n</span>) {</span><br><span class="line">        <span class="variable">$c</span> = <span class="variable">$s</span>[<span class="variable">$right</span>];</span><br><span class="line">        <span class="comment">// çª—å£æ»‘åŠ¨: å½“é‡åˆ°é‡å¤å­—ç¬¦æ—¶ï¼Œå·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œç›´åˆ°çª—å£ä¸­ä¸å†åŒ…å«é‡å¤å­—ç¬¦ã€‚</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">isset</span>(<span class="variable">$set</span>[<span class="variable">$c</span>])) {</span><br><span class="line">            <span class="keyword">unset</span>(<span class="variable">$set</span>[<span class="variable">$s</span>[<span class="variable">$left</span>]]);</span><br><span class="line">            <span class="variable">$left</span>++;</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$set</span>[<span class="variable">$c</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="variable">$ans</span> = <span class="title function_ invoke__">max</span>(<span class="variable">$ans</span>, <span class="variable">$right</span> - <span class="variable">$left</span> + <span class="number">1</span>);</span><br><span class="line">        <span class="variable">$right</span>++;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$ans</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$str</span> = <span class="string">'sdf233rdfekdfkkdfkdkgkdfgggegfgmffdfdfeer343ferrfe'</span>;</span><br><span class="line"><span class="variable">$res</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">lengthOfLongestSubstring</span>(<span class="variable">$str</span>);</span><br><span class="line"><span class="title function_ invoke__">dump</span>(<span class="variable">$res</span>);        <span class="comment">// 6</span></span><br></pre></td></tr></tbody></table></figure><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li>çª—å£å¤§å°: æ»‘åŠ¨çª—å£çš„å¤§å°æ˜¯æ ¹æ®å…·ä½“é—®é¢˜æ¥ç¡®å®šçš„ã€‚</li><li>æ•°æ®ç±»å‹: æ»‘åŠ¨çª—å£å¯ä»¥å¤„ç†å„ç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ç­‰ã€‚</li><li>æ—¶é—´å¤æ‚åº¦: æ»‘åŠ¨çª—å£ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ˜¯O(n)ï¼Œå…¶ä¸­næ˜¯è¾“å…¥æ•°æ®çš„é•¿åº¦ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ»‘åŠ¨çª—å£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå®ç°ç†”æ–­æœºåˆ¶</title>
      <link href="/posts/php-circuit-breaker.html"/>
      <url>/posts/php-circuit-breaker.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯ç†”æ–­æœºåˆ¶ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç†”æ–­æœºåˆ¶ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç†”æ–­æœºåˆ¶ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç†”æ–­æœºåˆ¶ï¼Ÿ</h3><p>ç†”æ–­æœºåˆ¶æ˜¯ä¸€ç§åº”å¯¹ç³»ç»Ÿæ•…éšœã€é˜²æ­¢çº§è”æ•…éšœçš„ä¿æŠ¤æœºåˆ¶ã€‚å½“æŸä¸ªæœåŠ¡å‡ºç°æ•…éšœæ—¶ï¼Œé€šè¿‡ç†”æ–­æœºåˆ¶ï¼Œå¯ä»¥å¿«é€Ÿéš”ç¦»æ•…éšœæœåŠ¡ï¼Œé˜²æ­¢æ•…éšœè”“å»¶åˆ°æ•´ä¸ªç³»ç»Ÿï¼Œä»è€Œä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</p><h3 id="ç†”æ–­æœºåˆ¶çš„æ ¸å¿ƒè¦ç´ "><a href="#ç†”æ–­æœºåˆ¶çš„æ ¸å¿ƒè¦ç´ " class="headerlink" title="ç†”æ–­æœºåˆ¶çš„æ ¸å¿ƒè¦ç´ "></a>ç†”æ–­æœºåˆ¶çš„æ ¸å¿ƒè¦ç´ </h3><ul><li>å¿«é€Ÿå¤±è´¥ï¼š å½“æœåŠ¡ä¸å¯ç”¨æ—¶ï¼Œç«‹å³è¿”å›é”™è¯¯ï¼Œé˜²æ­¢è¯·æ±‚ç§¯å‹ã€‚</li><li>éš”ç¦»ï¼š å°†æ•…éšœæœåŠ¡éš”ç¦»ï¼Œé˜²æ­¢å½±å“å…¶ä»–æœåŠ¡ã€‚</li><li>è‡ªæ¢å¤ï¼š ç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œè‡ªåŠ¨å°è¯•æ¢å¤æœåŠ¡ï¼Œå¹¶é€æ­¥å¢åŠ æµé‡ã€‚</li><li>ç›‘æ§ï¼š å®æ—¶ç›‘æ§æœåŠ¡çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸ã€‚</li></ul><h3 id="ç†”æ–­æœºåˆ¶çš„åº”ç”¨åœºæ™¯"><a href="#ç†”æ–­æœºåˆ¶çš„åº”ç”¨åœºæ™¯" class="headerlink" title="ç†”æ–­æœºåˆ¶çš„åº”ç”¨åœºæ™¯"></a>ç†”æ–­æœºåˆ¶çš„åº”ç”¨åœºæ™¯</h3><ul><li>å¾®æœåŠ¡æ¶æ„ï¼š é˜²æ­¢å•ä¸ªæœåŠ¡çš„æ•…éšœå½±å“æ•´ä¸ªç³»ç»Ÿã€‚</li><li>åˆ†å¸ƒå¼ç³»ç»Ÿï¼š æé«˜ç³»ç»Ÿçš„å®¹é”™æ€§ã€‚</li><li>é«˜å¹¶å‘ç³»ç»Ÿï¼š ä¿æŠ¤ç³»ç»Ÿåœ¨é«˜å¹¶å‘ä¸‹çš„ç¨³å®šæ€§ã€‚</li></ul><h3 id="å®ç°ç†”æ–­å™¨çš„åŸºæœ¬æ€è·¯"><a href="#å®ç°ç†”æ–­å™¨çš„åŸºæœ¬æ€è·¯" class="headerlink" title="å®ç°ç†”æ–­å™¨çš„åŸºæœ¬æ€è·¯"></a>å®ç°ç†”æ–­å™¨çš„åŸºæœ¬æ€è·¯</h3><ul><li>å®šä¹‰çŠ¶æ€: é—­åˆçŠ¶æ€ï¼ˆæ­£å¸¸è°ƒç”¨ï¼‰ã€åŠå¼€çŠ¶æ€ï¼ˆéƒ¨åˆ†è°ƒç”¨ï¼‰ã€æ‰“å¼€çŠ¶æ€ï¼ˆå®Œå…¨é˜»æ–­ï¼‰ã€‚</li><li>ç»Ÿè®¡è¯·æ±‚: è®°å½•æˆåŠŸå’Œå¤±è´¥çš„è¯·æ±‚æ¬¡æ•°ã€‚</li><li>è®¾ç½®é˜ˆå€¼: å½“å¤±è´¥æ¬¡æ•°è¾¾åˆ°ä¸€å®šé˜ˆå€¼æ—¶ï¼Œè§¦å‘ç†”æ–­ã€‚</li><li>çŠ¶æ€åˆ‡æ¢: æ ¹æ®å½“å‰çŠ¶æ€å’Œç»Ÿè®¡æ•°æ®ï¼Œå®ç°çŠ¶æ€ä¹‹é—´çš„åˆ‡æ¢ã€‚</li></ul><h3 id="PHPä»£ç å®ç°ç†”æ–­å™¨"><a href="#PHPä»£ç å®ç°ç†”æ–­å™¨" class="headerlink" title="PHPä»£ç å®ç°ç†”æ–­å™¨"></a>PHPä»£ç å®ç°ç†”æ–­å™¨</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CircuitBreaker</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">const</span> <span class="variable constant_">CLOSED</span> = <span class="string">'CLOSED'</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">const</span> <span class="variable constant_">OPEN</span> = <span class="string">'OPEN'</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">const</span> <span class="variable constant_">HALF_OPEN</span> = <span class="string">'HALF_OPEN'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$state</span> = <span class="built_in">self</span>::<span class="variable constant_">CLOSED</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$failureThreshold</span> = <span class="number">0.5</span>;      <span class="comment">// å¤±è´¥ç‡é˜ˆå€¼</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$windowSize</span> = <span class="number">10</span>;           <span class="comment">// æ»‘åŠ¨çª—å£å¤§å°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$timeout</span> = <span class="number">3</span>;               <span class="comment">// åŠå¼€çŠ¶æ€è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$window</span> = [];</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$lastCheckedAt</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">call</span>(<span class="params"><span class="variable">$callback</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;state === <span class="built_in">self</span>::<span class="variable constant_">OPEN</span> &amp;&amp; <span class="title function_ invoke__">time</span>() - <span class="variable language_">$this</span>-&gt;lastCheckedAt &lt; <span class="variable language_">$this</span>-&gt;timeout) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;       <span class="comment">//ç›´æ¥è¿”å›å¤±è´¥</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="variable">$result</span> = <span class="variable">$callback</span>();</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">recordSuccess</span>();</span><br><span class="line">        } <span class="keyword">catch</span> (\<span class="built_in">Exception</span> <span class="variable">$e</span>) {</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">recordFailure</span>();</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">isTripped</span>()){</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;state = <span class="built_in">self</span>::<span class="variable constant_">OPEN</span>;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;lastCheckedAt = <span class="title function_ invoke__">time</span>();</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;state === <span class="built_in">self</span>::<span class="variable constant_">HALF_OPEN</span>) {</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;state = (<span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">isTripped</span>()) ? <span class="built_in">self</span>::<span class="variable constant_">OPEN</span> : <span class="built_in">self</span>::<span class="variable constant_">CLOSED</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">recordSuccess</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;window[] = <span class="string">'success'</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$this</span>-&gt;window) &gt; <span class="variable language_">$this</span>-&gt;windowSize) {</span><br><span class="line">            <span class="title function_ invoke__">array_shift</span>(<span class="variable">$this</span>-&gt;window);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">recordFailure</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;window[] = <span class="string">'failure'</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$this</span>-&gt;window) &gt; <span class="variable language_">$this</span>-&gt;windowSize) {</span><br><span class="line">            <span class="title function_ invoke__">array_shift</span>(<span class="variable">$this</span>-&gt;window);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">isTripped</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="variable">$failures</span> = <span class="title function_ invoke__">array_count_values</span>(<span class="variable">$this</span>-&gt;window)[<span class="string">'failure'</span>] ?? <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$failures</span> / <span class="variable language_">$this</span>-&gt;windowSize &gt; <span class="variable language_">$this</span>-&gt;failureThreshold;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getSystemLoad</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">sys_getloadavg</span>()[<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªé€‚åº”é˜ˆå€¼ç¤ºä¾‹ï¼ˆåŸºäºè´Ÿè½½ï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">adjustThreshold</span>(<span class="params"><span class="variable">$load</span></span>)</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// æ ¹æ®è´Ÿè½½è°ƒæ•´é˜ˆå€¼ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$load</span> &gt; <span class="number">80</span>) {</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;failureThreshold = <span class="number">0.3</span>; <span class="comment">// è´Ÿè½½é«˜æ—¶ï¼Œé™ä½é˜ˆå€¼</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;failureThreshold = <span class="number">0.5</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$circuitBreaker</span> = <span class="keyword">new</span> <span class="title class_">CircuitBreaker</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">    <span class="comment">// å®šæœŸè·å–ç³»ç»Ÿè´Ÿè½½å¹¶è°ƒæ•´é˜ˆå€¼</span></span><br><span class="line">    <span class="variable">$load</span> = <span class="variable">$circuitBreaker</span>-&gt;<span class="title function_ invoke__">getSystemLoad</span>();</span><br><span class="line">    <span class="variable">$circuitBreaker</span>-&gt;<span class="title function_ invoke__">adjustThreshold</span>(<span class="variable">$load</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨æœåŠ¡</span></span><br><span class="line">    <span class="variable">$result</span> = <span class="variable">$circuitBreaker</span>-&gt;<span class="title function_ invoke__">call</span>(function () {</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    });</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... å…¶ä»–é€»è¾‘</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li>é˜ˆå€¼è®¾ç½®ï¼š é˜ˆå€¼è®¾ç½®è¿‡é«˜ï¼Œå¯èƒ½å¯¼è‡´æœåŠ¡é•¿æ—¶é—´ä¸å¯ç”¨ï¼›è®¾ç½®è¿‡ä½ï¼Œå¯èƒ½é¢‘ç¹è§¦å‘ç†”æ–­ã€‚</li><li>è¶…æ—¶æ—¶é—´: è¶…æ—¶æ—¶é—´è¿‡çŸ­ï¼Œå¯èƒ½å¯¼è‡´æœåŠ¡é¢‘ç¹åˆ‡æ¢çŠ¶æ€ï¼›è¿‡é•¿ï¼Œå¯èƒ½å½±å“æœåŠ¡æ¢å¤ã€‚</li><li>é™çº§ç­–ç•¥ï¼š ç†”æ–­æ—¶ï¼Œéœ€è¦æœ‰åˆé€‚çš„é™çº§ç­–ç•¥ï¼Œæ¯”å¦‚è¿”å›ç¼“å­˜æ•°æ®ã€è¿”å›é»˜è®¤å€¼ç­‰ï¼Œä¿è¯ç”¨æˆ·ä½“éªŒã€‚</li><li>ç›‘æ§å‘Šè­¦ï¼š éœ€è¦å®æ—¶ç›‘æ§ç†”æ–­çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°é—®é¢˜ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç³»ç»Ÿè®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> ç†”æ–­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpStormé…ç½®xdebug</title>
      <link href="/posts/phpstorm-setting-xdebug.html"/>
      <url>/posts/phpstorm-setting-xdebug.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">åœ¨phpå¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œä¸€æ—¶åŠä¼šå„¿æ’æŸ¥ä¸å‡ºåŸå› ï¼›è¿™æ—¶å€™å°±éœ€è¦è¿›è¡Œæ–­ç‚¹è°ƒè¯•ï¼Œxdebugå°±æ˜¯å¸¸ç”¨çš„ä¸€ç§æ–­ç‚¹è°ƒè¯•å·¥å…·ï¼Œä¸‹é¢ä»‹ç»ä¸‹å¦‚ä½•è®¾ç½®çš„ã€‚</div><h3 id="xdebugè®¾ç½®"><a href="#xdebugè®¾ç½®" class="headerlink" title="xdebugè®¾ç½®"></a>xdebugè®¾ç½®</h3><ol><li>å¼€å¯xdebugæ‰©å±•ï¼Œå¹¶é…ç½®php.iniï¼Œé‡å¯php<figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Xdebug]</span></span><br><span class="line"><span class="attr">zend_extension</span>=D:/phpstudy_pro/Extensions/php/php7.<span class="number">1.9</span>nts/ext/php_xdebug.dll</span><br><span class="line"><span class="attr">xdebug.collect_params</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.collect_return</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.auto_trace</span>=<span class="literal">Off</span></span><br><span class="line"><span class="attr">xdebug.trace_output_dir</span>=D:/phpstudy_pro/Extensions/php_log/php7.<span class="number">1.9</span>nts.xdebug.trace</span><br><span class="line"><span class="attr">xdebug.profiler_enable</span>=<span class="literal">Off</span></span><br><span class="line"><span class="attr">xdebug.profiler_output_dir</span>=D:/phpstudy_pro/Extensions/php_log/php7.<span class="number">1.9</span>nts.xdebug.profiler</span><br><span class="line"><span class="attr">xdebug.remote_enable</span>=<span class="literal">On</span></span><br><span class="line"><span class="attr">xdebug.remote_autostart</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.remote_host</span>=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">xdebug.remote_port</span>=<span class="number">9003</span></span><br><span class="line"><span class="attr">xdebug.remote_handler</span>=dbgp</span><br><span class="line"><span class="attr">xdebug.remote_connect_back</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">xdebug.idekey</span>=PHPSTORM</span><br></pre></td></tr></tbody></table></figure></li><li><p>é…ç½®phpStorm<br><img src="/images/xdebug_1.png" alt=""><br><img src="/images/xdebug_2.png" alt=""><br><img src="/images/xdebug_3.png" alt=""><br><img src="/images/xdebug_4.png" alt=""></p></li><li><p>å¼€å¯xdebug<br><img src="/images/xdebug_5.png" alt=""></p></li><li><p>é‡å¯phpStormï¼Œå¯ä»¥æ„‰å¿«åœ°ä½¿ç”¨äº†</p></li></ol><h3 id="é—®é¢˜æ’æŸ¥"><a href="#é—®é¢˜æ’æŸ¥" class="headerlink" title="é—®é¢˜æ’æŸ¥"></a>é—®é¢˜æ’æŸ¥</h3><p>å¦‚æœxdebugä¸ç”Ÿæ•ˆï¼Œå¯ä»¥æ£€æŸ¥ä¸‹é…ç½®æ˜¯å¦æ­£ç¡®<br><img src="/images/xdebug_6.png" alt=""></p><h3 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h3><p>åœ¨ PHPStorm ä¸­ä½¿ç”¨ Xdebug è¿›è¡Œå‘½ä»¤è¡Œè°ƒè¯•æ—¶ï¼Œè™½ç„¶æ²¡æœ‰å›¾å½¢ç•Œé¢é‚£ä¹ˆç›´è§‚ï¼Œä½†é€šè¿‡ä¸€äº›å¿«æ·é”®ï¼Œæˆ‘ä»¬å¯ä»¥é«˜æ•ˆåœ°æ§åˆ¶è°ƒè¯•è¿‡ç¨‹ã€‚<br><strong>æ³¨æ„ï¼š</strong> å…·ä½“çš„å¿«æ·é”®å¯èƒ½å›  PHPStorm ç‰ˆæœ¬å’Œæ“ä½œç³»ç»Ÿè€Œç•¥æœ‰ä¸åŒã€‚å¯ä»¥é€šè¿‡ <strong>Help -&gt; Keymap Reference</strong> æŸ¥çœ‹å½“å‰é…ç½®çš„å¿«æ·é”®ã€‚</p><ul><li><strong>Step Over (F8)ï¼š</strong> æ‰§è¡Œå½“å‰è¡Œï¼Œå¦‚æœå½“å‰è¡Œæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™ä¸è¿›å…¥å‡½æ•°å†…éƒ¨ã€‚</li><li><strong>Step Into (F7)ï¼š</strong> æ‰§è¡Œå½“å‰è¡Œï¼Œå¦‚æœå½“å‰è¡Œæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥å‡½æ•°å†…éƒ¨ã€‚</li><li><strong>Step Out (Shift+F8)ï¼š</strong> ä»å½“å‰å‡½æ•°è¿”å›ã€‚</li><li><strong>Run to Cursor (Alt+F9)ï¼š</strong> æ‰§è¡Œä»£ç ç›´åˆ°å…‰æ ‡æ‰€åœ¨è¡Œã€‚</li><li><strong>Evaluate Expression (Alt+F8)ï¼š</strong> è®¡ç®—è¡¨è¾¾å¼å¹¶æ˜¾ç¤ºç»“æœã€‚</li><li><strong>Toggle Line Breakpoint (Ctrl+F8)ï¼š</strong> åœ¨å½“å‰è¡Œè®¾ç½®æˆ–å–æ¶ˆæ–­ç‚¹ã€‚</li><li><p><strong>View Breakpoints (Ctrl+Shift+F8)ï¼š</strong> æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹ã€‚</p></li><li><p><strong>Resume Program (F9)ï¼š</strong> ç»§ç»­æ‰§è¡Œç¨‹åºç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ã€‚</p></li><li><strong>Pause Program (Ctrl+F2)ï¼š</strong> æš‚åœç¨‹åºæ‰§è¡Œã€‚</li><li><strong>Mute Breakpoints (Ctrl+Shift+N)ï¼š</strong> ç¦ç”¨æ‰€æœ‰æ–­ç‚¹ã€‚</li><li><strong>Show Execution Point (Ctrl+Alt+F10)ï¼š</strong> è·³è½¬åˆ°å½“å‰æ‰§è¡Œè¡Œã€‚</li></ul><h3 id="ç¤ºä¾‹ï¼šè°ƒè¯•ä¸€ä¸ª-PHP-å‘½ä»¤è¡Œè„šæœ¬"><a href="#ç¤ºä¾‹ï¼šè°ƒè¯•ä¸€ä¸ª-PHP-å‘½ä»¤è¡Œè„šæœ¬" class="headerlink" title="ç¤ºä¾‹ï¼šè°ƒè¯•ä¸€ä¸ª PHP å‘½ä»¤è¡Œè„šæœ¬"></a>ç¤ºä¾‹ï¼šè°ƒè¯•ä¸€ä¸ª PHP å‘½ä»¤è¡Œè„šæœ¬</h3><ol><li><strong>è®¾ç½®æ–­ç‚¹ï¼š</strong> åœ¨è¦è°ƒè¯•çš„ä»£ç è¡Œè®¾ç½®æ–­ç‚¹ã€‚</li><li><strong>é…ç½®è¿è¡Œé…ç½®ï¼š</strong> åœ¨ PHPStorm ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„è¿è¡Œé…ç½®ï¼Œé€‰æ‹© PHPï¼Œé…ç½®å¥½è„šæœ¬è·¯å¾„ã€å‚æ•°ç­‰ã€‚</li><li><strong>å¯åŠ¨è°ƒè¯•ï¼š</strong> ç‚¹å‡»è¿è¡Œé…ç½®æ—è¾¹çš„è°ƒè¯•æŒ‰é’®ã€‚</li><li><strong>ä½¿ç”¨å¿«æ·é”®æ§åˆ¶è°ƒè¯•è¿‡ç¨‹ï¼š</strong> æ ¹æ®éœ€è¦ä½¿ç”¨ä¸Šè¿°å¿«æ·é”®è¿›è¡Œå•æ­¥æ‰§è¡Œã€è·³è¿‡ã€è¿›å…¥å‡½æ•°ç­‰æ“ä½œã€‚</li></ol><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><ul><li><strong>Xdebug é…ç½®ï¼š</strong> ç¡®ä¿ Xdebug å·²æ­£ç¡®é…ç½®ï¼Œå¹¶ä¸” PHPStorm çš„é…ç½®ä¸ Xdebug çš„é…ç½®ä¸€è‡´ã€‚</li><li><strong>å‘½ä»¤è¡Œå‚æ•°ï¼š</strong> å¦‚æœè„šæœ¬éœ€è¦å‘½ä»¤è¡Œå‚æ•°ï¼Œå¯ä»¥åœ¨è¿è¡Œé…ç½®ä¸­è®¾ç½®ã€‚</li><li><strong>è¿œç¨‹è°ƒè¯•ï¼š</strong> å¦‚æœéœ€è¦è°ƒè¯•è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»£ç ï¼Œéœ€è¦é…ç½®è¿œç¨‹è°ƒè¯•ã€‚</li></ul><p><strong>é€šè¿‡ç†Ÿç»ƒæŒæ¡è¿™äº›å¿«æ·é”®ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æœ‰æ•ˆåœ°è¿›è¡Œ PHP å‘½ä»¤è¡Œè°ƒè¯•ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</strong></p><p><strong>æ¸©é¦¨æç¤ºï¼š</strong></p><ul><li><strong>å…·ä½“æ“ä½œå¯èƒ½å›  PHPStorm ç‰ˆæœ¬å’Œæ“ä½œç³»ç»Ÿè€Œç•¥æœ‰å·®å¼‚ï¼Œè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</strong></li><li><strong>Xdebug çš„é…ç½®éå¸¸é‡è¦ï¼Œé…ç½®ä¸æ­£ç¡®ä¼šå¯¼è‡´è°ƒè¯•æ— æ³•è¿›è¡Œã€‚</strong></li><li><strong>å–„ç”¨ PHPStorm çš„è°ƒè¯•åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½å¹¶è§£å†³é—®é¢˜ã€‚</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> phpStorm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> phpStorm </tag>
            
            <tag> xdebug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå‘½ä»¤è¡Œä¸­çš„å¿«æ·é”®</title>
      <link href="/posts/linux-short-cut-keys.html"/>
      <url>/posts/linux-short-cut-keys.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Linux å‘½ä»¤è¡Œä¸­çš„å¿«æ·é”®éå¸¸ä¸°å¯Œï¼Œå¯ä»¥å¤§å¤§æé«˜ç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»ä¸€äº›å¸¸ç”¨çš„å¿«æ·é”®ï¼Œå¹¶åˆ†ç±»è¯´æ˜ï¼š</p><h4 id="ç§»åŠ¨å…‰æ ‡"><a href="#ç§»åŠ¨å…‰æ ‡" class="headerlink" title="ç§»åŠ¨å…‰æ ‡"></a>ç§»åŠ¨å…‰æ ‡</h4><ul><li>Ctrl+A: å°†å…‰æ ‡ç§»åŠ¨åˆ°è¡Œé¦–</li><li>Ctrl+E: å°†å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾</li><li>Ctrl+B: å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</li><li>Ctrl+F: å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</li><li>Ctrl+L: æ¸…å±</li><li>Ctrl+K: åˆ é™¤å…‰æ ‡åˆ°è¡Œå°¾çš„å†…å®¹</li><li>Ctrl+U: åˆ é™¤å…‰æ ‡åˆ°è¡Œé¦–çš„å†…å®¹</li><li>Alt+F: å…‰æ ‡å‘å‰ç§»åŠ¨ä¸€ä¸ªå•è¯</li><li>Alt+B: å…‰æ ‡å‘åç§»åŠ¨ä¸€ä¸ªå•è¯</li></ul><h4 id="åˆ é™¤å­—ç¬¦"><a href="#åˆ é™¤å­—ç¬¦" class="headerlink" title="åˆ é™¤å­—ç¬¦"></a>åˆ é™¤å­—ç¬¦</h4><ul><li>Backspace: åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</li><li>Delete: åˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</li><li>Ctrl+W: åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå•è¯</li></ul><h4 id="å†å²å‘½ä»¤"><a href="#å†å²å‘½ä»¤" class="headerlink" title="å†å²å‘½ä»¤"></a>å†å²å‘½ä»¤</h4><ul><li>Ctrl+P: å‘ä¸Šç¿»æ‰¾å†å²å‘½ä»¤</li><li>Ctrl+N: å‘ä¸‹ç¿»æ‰¾å†å²å‘½ä»¤</li><li>Ctrl+R: æœç´¢å†å²å‘½ä»¤ï¼ˆè¾“å…¥éƒ¨åˆ†å‘½ä»¤ï¼Œç„¶åæŒ‰Ctrl+Rï¼Œå†è¾“å…¥æœç´¢å†…å®¹ï¼‰</li></ul><h4 id="å…¶ä»–å¸¸ç”¨å¿«æ·é”®"><a href="#å…¶ä»–å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å…¶ä»–å¸¸ç”¨å¿«æ·é”®"></a>å…¶ä»–å¸¸ç”¨å¿«æ·é”®</h4><ul><li>Tab: è‡ªåŠ¨è¡¥å…¨å‘½ä»¤æˆ–æ–‡ä»¶å</li><li>Ctrl+D: é€€å‡ºå½“å‰ç»ˆç«¯</li><li>Ctrl+C: ä¸­æ–­å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤</li><li>Ctrl+Z: å°†å½“å‰è¿›ç¨‹æŒ‚èµ·è‡³åå°</li></ul><h4 id="å‘½ä»¤è¡Œç¼–è¾‘"><a href="#å‘½ä»¤è¡Œç¼–è¾‘" class="headerlink" title="å‘½ä»¤è¡Œç¼–è¾‘"></a>å‘½ä»¤è¡Œç¼–è¾‘</h4><ul><li>Ctrl+T: äº¤æ¢å…‰æ ‡å‰ä¸¤ä¸ªå­—ç¬¦</li><li>Ctrl+Y: ç²˜è´´ä¹‹å‰åˆ é™¤çš„æ–‡æœ¬</li><li>Alt+D: åˆ é™¤å…‰æ ‡åçš„ä¸€ä¸ªå•è¯ï¼Œå¹¶å°†å…¶å¤åˆ¶åˆ°å‰ªè´´æ¿</li></ul><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p>å‡è®¾ä½ è¾“å…¥äº†ä¸€æ¡å¾ˆé•¿çš„å‘½ä»¤ï¼Œä½†å‘ç°ä¸­é—´æœ‰ä¸ªåœ°æ–¹æ‹¼é”™äº†ã€‚æˆ‘ä»¬å¯ä»¥ï¼š</p><ul><li>Ctrl+A ç§»åŠ¨åˆ°è¡Œé¦–</li><li>Ctrl+E ç§»åŠ¨åˆ°è¡Œå°¾</li><li>Ctrl+B æˆ– Ctrl+F å°†å…‰æ ‡ç§»åŠ¨åˆ°é”™è¯¯çš„ä½ç½®</li><li>ä½¿ç”¨åˆ é™¤é”®æˆ– Ctrl+W åˆ é™¤é”™è¯¯çš„å­—ç¬¦</li><li>è¾“å…¥æ­£ç¡®çš„å­—ç¬¦</li><li>Ctrl+P æˆ– Ctrl+N ç¿»æ‰¾å†å²å‘½ä»¤ï¼Œæ‰¾åˆ°ä¹‹å‰è¾“å…¥è¿‡çš„ç±»ä¼¼å‘½ä»¤ï¼Œè¿›è¡Œä¿®æ”¹<br>å°æŠ€å·§<br>åˆ©ç”¨Tabé”®ï¼šTabé”®å¯ä»¥è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ã€æ–‡ä»¶åæˆ–è·¯å¾„ï¼Œå¤§å¤§èŠ‚çœè¾“å…¥æ—¶é—´ã€‚<br>ç»“åˆCtrl+Ræœç´¢ï¼šé€šè¿‡Ctrl+Ræœç´¢å†å²å‘½ä»¤ï¼Œå¯ä»¥å¿«é€Ÿæ‰¾åˆ°ä¹‹å‰æ‰§è¡Œè¿‡çš„å‘½ä»¤ã€‚</li></ul><h4 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h4><ul><li>å¿«æ·é”®çš„å…·ä½“æ•ˆæœå¯èƒ½å› ç»ˆç«¯é…ç½®çš„ä¸åŒè€Œæœ‰æ‰€å·®å¼‚ï¼Œä½†å¤§å¤šæ•°å¿«æ·é”®éƒ½æ˜¯é€šç”¨çš„ã€‚</li><li>æœ‰äº›å¿«æ·é”®å¯èƒ½è¢«ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºé‡æ–°å®šä¹‰ã€‚</li><li>é€šè¿‡ç†Ÿç»ƒæŒæ¡è¿™äº›å¿«æ·é”®ï¼Œå¯ä»¥å¤§å¤§æé«˜åœ¨Linuxå‘½ä»¤è¡Œä¸‹çš„å·¥ä½œæ•ˆç‡ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹å¦‚ä½•å®ç°ä¸Internetæ—¶é—´åŒæ­¥</title>
      <link href="/posts/38c1.html"/>
      <url>/posts/38c1.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>åœ¨é¡¹ç›®ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦ä¿®æ”¹æœåŠ¡å™¨æ—¶é—´æ¥æ¨¡æ‹ŸæŸäº›åœºæ™¯ï¼Œæˆ–è€…æ ¡å‡†æœåŠ¡å™¨æ—¶é—´ï¼›é‚£ä¹ˆå¦‚ä½•åœ¨Linuxç³»ç»Ÿä¸‹å®ç°ä¸Internetæ—¶é—´åŒæ­¥å‘¢ã€‚</p><h3 id="ä¸€ã€å®‰è£…ntp"><a href="#ä¸€ã€å®‰è£…ntp" class="headerlink" title="ä¸€ã€å®‰è£…ntp"></a>ä¸€ã€å®‰è£…ntp</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@pb ~]<span class="comment"># yum install -y ntpdate</span></span><br></pre></td></tr></tbody></table></figure><h3 id="äºŒã€åŒæ­¥æ—¶é—´"><a href="#äºŒã€åŒæ­¥æ—¶é—´" class="headerlink" title="äºŒã€åŒæ­¥æ—¶é—´"></a>äºŒã€åŒæ­¥æ—¶é—´</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æ–¹å¼ä¸€ã€ä½¿ç”¨åŸŸåè¿æ¥ï¼Œè¦ç»è¿‡DNSè§£æï¼Œé€Ÿåº¦æ…¢ã€‚</span><br><span class="line">[root@pb ~]<span class="comment"># ntpdate pool.ntp.org</span></span><br><span class="line">// æ–¹å¼äºŒã€ä½¿ç”¨IPè¿æ¥ï¼Œè¶…çº§å¿«ã€‚</span><br><span class="line">[root@pb ~]<span class="comment"># ntpdate 120.24.81.91</span></span><br></pre></td></tr></tbody></table></figure><p><a href="http://www.pool.ntp.orgæ˜¯NTPçš„å®˜æ–¹ç½‘ç«™,åœ¨è¿™ä¸Šé¢æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ç¦»æˆ‘ä»¬å›½å®¶çš„NTP">http://www.pool.ntp.orgæ˜¯NTPçš„å®˜æ–¹ç½‘ç«™,åœ¨è¿™ä¸Šé¢æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ç¦»æˆ‘ä»¬å›½å®¶çš„NTP</a> Server cn.pool.ntp.org.å®ƒæœ‰3ä¸ªæœåŠ¡å™¨åœ°å€ï¼š<br>æœåŠ¡å™¨ä¸€ï¼š 1.cn.pool.ntp.org<br>æœåŠ¡å™¨äºŒï¼š 2.asia.pool.ntp.org<br>æœåŠ¡å™¨ä¸‰ï¼š 3.asia.pool.ntp.org<br>ï¼ˆç›´æ¥ç”¨åŸŸåæœ‰æ—¶æœ‰é—®é¢˜ï¼Œå¯ä»¥å…ˆPingå‡ºä»–ä»¬çš„IPï¼Œç„¶åç”¨IPåœ°å€åŒæ­¥ï¼‰</p><p> å‡ºç°ä»¥ä¸‹ä¿¡æ¯è¯´æ˜æˆåŠŸ<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Feb 21:23:06 ntpdate[62910]: step time server 182.92.12.11 offset -40.589470 sec</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="ä¸‰ã€å°†ç³»ç»Ÿæ—¶é—´å†™å…¥åˆ°ç³»ç»Ÿç¡¬ä»¶å½“ä¸­ï¼Œé¿å…é‡å¯æœåŠ¡å™¨æ—¶é—´è¦†ç›–"><a href="#ä¸‰ã€å°†ç³»ç»Ÿæ—¶é—´å†™å…¥åˆ°ç³»ç»Ÿç¡¬ä»¶å½“ä¸­ï¼Œé¿å…é‡å¯æœåŠ¡å™¨æ—¶é—´è¦†ç›–" class="headerlink" title="ä¸‰ã€å°†ç³»ç»Ÿæ—¶é—´å†™å…¥åˆ°ç³»ç»Ÿç¡¬ä»¶å½“ä¸­ï¼Œé¿å…é‡å¯æœåŠ¡å™¨æ—¶é—´è¦†ç›–"></a>ä¸‰ã€å°†ç³»ç»Ÿæ—¶é—´å†™å…¥åˆ°ç³»ç»Ÿç¡¬ä»¶å½“ä¸­ï¼Œé¿å…é‡å¯æœåŠ¡å™¨æ—¶é—´è¦†ç›–</h3><p>// æ˜¾ç¤ºhardwareclockç³»ç»Ÿç¡¬ä»¶æ—¶é—´<br></p><figure class="highlight autoit"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@pb</span> ~]<span class="meta"># hwclock</span></span><br></pre></td></tr></tbody></table></figure><br>// å°†ç³»ç»Ÿæ—¶é—´å†™å…¥åˆ°ç³»ç»Ÿç¡¬ä»¶å½“ä¸­<br><figure class="highlight autoit"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@pb</span> ~]<span class="meta"># hwclock -w</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="å››ã€è®¾å®šè®¡åˆ’ä»»åŠ¡åŒæ­¥ç½‘ç»œæ—¶é—´"><a href="#å››ã€è®¾å®šè®¡åˆ’ä»»åŠ¡åŒæ­¥ç½‘ç»œæ—¶é—´" class="headerlink" title="å››ã€è®¾å®šè®¡åˆ’ä»»åŠ¡åŒæ­¥ç½‘ç»œæ—¶é—´"></a>å››ã€è®¾å®šè®¡åˆ’ä»»åŠ¡åŒæ­¥ç½‘ç»œæ—¶é—´</h3><h4 id="æ–¹å¼1ï¼šå†™åœ¨-etc-crontabé‡Œ"><a href="#æ–¹å¼1ï¼šå†™åœ¨-etc-crontabé‡Œ" class="headerlink" title="æ–¹å¼1ï¼šå†™åœ¨/etc/crontabé‡Œ"></a>æ–¹å¼1ï¼šå†™åœ¨/etc/crontabé‡Œ</h4><p>ä»£ç :<br></p><figure class="highlight basic"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">11 </span>* * * root ntpdate <span class="number">210.72</span>.<span class="number">145.44</span></span><br></pre></td></tr></tbody></table></figure><br>æ¯å¤©11ç‚¹ä¸ä¸­å›½å›½å®¶æˆæ—¶ä¸­å¿ƒåŒæ­¥æ—¶é—´<br>æ¯å¤©11ç‚¹ä¸ä¸­å›½å›½å®¶æˆæ—¶ä¸­å¿ƒåŒæ­¥æ—¶é—´<br>å½“ç„¶å‰ææ˜¯<br><figure class="highlight routeros"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="built_in">get</span> install ntpdate</span><br></pre></td></tr></tbody></table></figure><br>ä»£ç ä¹Ÿå¯æ˜¯<br><figure class="highlight basic"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">11 </span>* * * root ntpdate us.pool.ntp.org</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ–¹å¼2ï¼šä½¿ç”¨å‘½ä»¤crontab-e"><a href="#æ–¹å¼2ï¼šä½¿ç”¨å‘½ä»¤crontab-e" class="headerlink" title="æ–¹å¼2ï¼šä½¿ç”¨å‘½ä»¤crontab -e"></a>æ–¹å¼2ï¼šä½¿ç”¨å‘½ä»¤crontab -e</h4><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">crontab</span> -e</span><br><span class="line"><span class="number">10</span> <span class="number">5</span> * * * root ntpdate us.pool.ntp.org;<span class="attribute">hwclock</span> -w</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·æ¯å¤©5:10è‡ªåŠ¨è¿›è¡Œç½‘ç»œæ ¡æ—¶ï¼Œå¹¶åŒæ—¶æ›´æ–°BIOSçš„æ—¶é—´</p>]]></content>
      
      
      <categories>
          
          <category> ntpdate </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> ntpdate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SystemD</title>
      <link href="/posts/2b4a.html"/>
      <url>/posts/2b4a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="SystemD"><a href="#SystemD" class="headerlink" title="SystemD"></a>SystemD</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>SystemD æ˜¯ Linux çš„ç³»ç»Ÿç®¡ç†å™¨ï¼Œå®ƒçš„ä¸»è¦æ¥å£æ˜¯ systemctlï¼ˆå³ç”¨æˆ·æ‰§è¡Œçš„å‘½ä»¤ï¼‰ã€‚</p><p>é€šè¿‡ systemctl æ¥å£ï¼Œå¯ä»¥å¯åŠ¨/åœæ­¢â€œå•å…ƒâ€ï¼ˆunitï¼‰ï¼Œæœ€å¸¸ç”¨çš„å•å…ƒæ˜¯â€œæœåŠ¡å•å…ƒâ€ï¼ˆserviceï¼‰ï¼Œå³ç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚å…¶ä»–å•å…ƒè¿˜æœ‰å¥—æ¥å­—å•å…ƒï¼ˆnetwork socketï¼‰ã€å®šæ—¶å™¨å•å…ƒï¼ˆtimerï¼‰ç­‰ç­‰ã€‚</p><p>æœåŠ¡å•å…ƒä¼šæœ‰ä¸€ä¸ªæœåŠ¡æè¿°æ–‡ä»¶ï¼Œé‡Œé¢è®¾ç½®å¯åŠ¨è¯¥æœåŠ¡éœ€è¦çŸ¥é“çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ sshd çš„æœåŠ¡æè¿°æ˜¯â€œåœ¨å¤šç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œç­‰å¾…ç½‘ç»œå¯ç”¨åï¼Œè¿è¡Œ SSH æœåŠ¡å™¨ã€‚â€ ä¿®æ”¹æœåŠ¡æè¿°æ–‡ä»¶ä»¥åï¼Œå¿…é¡»é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œä¿®æ”¹æ‰ä¼šç”Ÿæ•ˆã€‚</p><h2 id="æœåŠ¡æè¿°æ–‡ä»¶"><a href="#æœåŠ¡æè¿°æ–‡ä»¶" class="headerlink" title="æœåŠ¡æè¿°æ–‡ä»¶"></a>æœåŠ¡æè¿°æ–‡ä»¶</h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæœåŠ¡æè¿°æ–‡ä»¶çš„ç¤ºä¾‹ã€‚å®ƒæœ‰å¾ˆå¤šè®¾ç½®ï¼Œä½†æ˜¯å¸¸ç”¨çš„å°±æ˜¯é‚£ä¹ˆå‡ ä¸ªã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=OpenBSD Secure Shell server</span><br><span class="line">Documentation=man:sshd(8) man:sshd_config(5)</span><br><span class="line">After=network.target auditd.service</span><br><span class="line">ConditionPathExists=!/etc/ssh/sshd_not_to_be_run</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">EnvironmentFile=-/etc/default/ssh</span><br><span class="line">ExecStartPre=/usr/sbin/sshd -t</span><br><span class="line">ExecStart=/usr/sbin/sshd -D <span class="variable">$SSHD_OPTS</span></span><br><span class="line">ExecReload=/usr/sbin/sshd -t</span><br><span class="line">ExecReload=/bin/kill -HUP <span class="variable">$MAINPID</span></span><br><span class="line">KillMode=process</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartPreventExitStatus=255</span><br><span class="line">Type=notify</span><br><span class="line">RuntimeDirectory=sshd</span><br><span class="line">RuntimeDirectoryMode=0755</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">Alias=sshd.service</span><br></pre></td></tr></tbody></table></figure><p>ç½‘ä¸Šæœ‰ä¸€äº›<a href="https://mysystemd.talos.sh/">æè¿°æ–‡ä»¶ç”Ÿæˆå™¨</a>ï¼Œå¯ä»¥ä½¿ç”¨ã€‚</p><p>ç³»ç»Ÿçš„å•å…ƒæè¿°æ–‡ä»¶ï¼Œä¸€èˆ¬æ”¾åœ¨ç›®å½•<code>/etc/systemd/system</code>ã€‚ç”¨æˆ·çš„å•å…ƒæè¿°æ–‡ä»¶æ”¾åœ¨ç›®å½•<code>/etc/systemd/user</code>ã€‚å‘½ä»¤<code>systemctl status xxx.service</code>ä¼šæ˜¾ç¤ºå•å…ƒæè¿°æ–‡ä»¶çš„ä½ç½®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> SystemD </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> SystemD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xargs å‘½ä»¤</title>
      <link href="/posts/85ed.html"/>
      <url>/posts/85ed.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="xargs-å‘½ä»¤"><a href="#xargs-å‘½ä»¤" class="headerlink" title="xargs å‘½ä»¤"></a>xargs å‘½ä»¤</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>xargs ç”¨äºå°†æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰ï¼Œè½¬æˆå…¶åå‘½ä»¤çš„å­—ç¬¦ä¸²å‚æ•°ã€‚å®ƒé€šå¸¸è·Ÿç®¡é“å‘½ä»¤ï¼ˆ<code>|</code>ï¼‰ç»“åˆä½¿ç”¨ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ {{command1}} | xargs {{command2}}</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢æ˜¯ xargs çš„ç”¨æ³•ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªå‘½ä»¤<code>command1</code>ä¼šè¾“å‡ºç»“æœåˆ°æ§åˆ¶å°ï¼ˆå³æ ‡å‡†è¾“å‡º<code>stdout</code>ï¼‰ï¼Œä½†æ˜¯ç®¡é“å‘½ä»¤ï¼ˆ<code>|</code>ï¼‰ä¼šæ‹¦æˆª<code>command1</code>çš„æ ‡å‡†è¾“å‡ºï¼Œå°†å…¶è½¬ä¸ºåé¢å‘½ä»¤çš„æ ‡å‡†è¾“å…¥ï¼ˆ<code>stdin</code>ï¼‰ï¼Œå³<code>xargs</code>å‘½ä»¤ä¼šæ¥æ”¶åˆ°æ ‡å‡†è¾“å…¥ï¼Œå®ƒå†å°†å…¶è½¬ä¸º<code>command2</code>çš„å­—ç¬¦ä¸²å‚æ•°æ¥è¿è¡Œã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œæ–‡æœ¬æ–‡ä»¶<code>list.txt</code>çš„å†…å®¹æ˜¯ä¸€ç»„æ–‡ä»¶åã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.txt</span><br><span class="line">b.txt</span><br><span class="line">c.txt</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä¼šå°†è¿™ç»„æ–‡ä»¶å…¨éƒ¨åˆ é™¤ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤ a.txt b.txt c.txt</span></span><br><span class="line">$ <span class="built_in">cat</span> list.txt | xargs <span class="built_in">rm</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>cat</code>å‘½ä»¤å°†<code>list.txt</code>çš„å†…å®¹è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œä½†æ˜¯è¢«ç®¡é“å‘½ä»¤æ‹¦æˆªï¼Œè½¬ä¸º<code>xargs</code>çš„æ ‡å‡†è¾“å…¥ï¼Œåè€…å†å°†æ ‡å‡†è¾“å…¥è½¬æˆ<code>rm</code>å‘½ä»¤çš„å­—ç¬¦ä¸²å‚æ•°ï¼Œå³å®é™…æ‰§è¡Œçš„æ˜¯ä¸‹é¢çš„å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">rm</span> a.txt b.txt c.txt</span><br></pre></td></tr></tbody></table></figure><p>é€šå¸¸æ¥è¯´ï¼ŒLinux å‘½ä»¤åˆ†æˆä¸¤ç§ï¼Œä¸€ç§æ¥å—æ ‡å‡†è¾“å…¥ï¼ˆä¸€èˆ¬æ˜¯é”®ç›˜ï¼‰ä½œä¸ºå‚æ•°ï¼Œå¦ä¸€ç§æ¥å—å‘½ä»¤è¡Œçš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ã€‚è¿™ä¸¤ç§å‚æ•°çš„æ€§è´¨æœ‰å¾ˆå¤§çš„ä¸åŒï¼šæ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰æ˜¯æ–‡æœ¬æµï¼ˆstreamï¼‰ï¼Œç†è®ºä¸Šåªè¦ä¸ç»ˆæ­¢ï¼Œå°±æ˜¯æ— é™çš„ï¼›å‘½ä»¤è¡Œå‚æ•°åˆ™æ˜¯ä¸€ä¸ªæœ‰å›ºå®šé•¿åº¦çš„æ–‡æœ¬æ•°ç»„ã€‚xargs çš„ ä½œç”¨å°±æ˜¯æ¥å—æ ‡å‡†è¾“å…¥ï¼Œå°†å…¶è½¬æˆå‘½ä»¤è¡Œå‚æ•°ã€‚</p><p>xargs æœ‰ç‚¹åƒ echo å‘½ä»¤çš„é€†æ“ä½œã€‚echo å‘½ä»¤æ˜¯å°†å‘½ä»¤è¡Œå‚æ•°è½¬ä¸ºæ ‡å‡†è¾“å‡ºã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> abc</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ<code>abc</code>æ˜¯å‘½ä»¤è¡Œå‚æ•°ï¼Œ<code>echo</code>å‘½ä»¤å°†å…¶è½¬ä¸ºæ ‡å‡†è¾“å…¥ã€‚</p><p>è‡³äºç®¡é“å‘½ä»¤<code>|</code>ï¼Œåˆ™æ˜¯å°†å‰ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºï¼Œè½¬æˆåä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å…¥ã€‚ä½†æ˜¯ï¼Œå¤§å¤šæ•°å‘½ä»¤åªæ¥å—å‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰€ä»¥ç®¡é“å‘½ä»¤å°±éœ€è¦ è·Ÿ xargs ç»“åˆä½¿ç”¨ï¼Œè¿™æ˜¯ Linux çš„å¸¸è§æ“ä½œã€‚</p><h2 id="xargs-çš„å•ç‹¬ä½¿ç”¨"><a href="#xargs-çš„å•ç‹¬ä½¿ç”¨" class="headerlink" title="xargs çš„å•ç‹¬ä½¿ç”¨"></a>xargs çš„å•ç‹¬ä½¿ç”¨</h2><p>xargs å‘½ä»¤ä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œè¿™æ—¶ç­‰åŒäºæ‰§è¡Œ<code>xargs echo</code>ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ xargs</span><br><span class="line"><span class="comment"># ç­‰åŒäº</span></span><br><span class="line">$ xargs <span class="built_in">echo</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å…¥<code>xargs</code>åæŒ‰ä¸‹å›è½¦ï¼Œå‘½ä»¤è¡Œå°±ä¼šç­‰å¾…æ ‡å‡†è¾“å…¥ï¼ˆå³ç”¨æˆ·çš„é”®ç›˜è¾“å…¥ï¼‰ã€‚ä½ å¯ä»¥è¾“å…¥ä»»æ„å†…å®¹ï¼Œç„¶åæŒ‰ä¸‹ Ctrl+dï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸï¼Œè¿™æ—¶<code>echo</code>å‘½ä»¤å°±ä¼šæŠŠå‰é¢çš„è¾“å…¥æ‰“å°å‡ºæ¥ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ xargs</span><br><span class="line">hello (Ctrl + d)</span><br><span class="line">hello</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ‰§è¡Œ<code>xargs</code>åï¼Œä»é”®ç›˜è¾“å…¥<code>hello</code>ï¼Œç„¶åæŒ‰ä¸‹ Ctrl+dï¼Œå°±ä¼šè‡ªåŠ¨æ‰§è¡Œ<code>echo hello</code>ã€‚</p><p>å†çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ xargs find -name</span><br><span class="line"><span class="string">"*.txt"</span></span><br><span class="line">./foo.txt</span><br><span class="line">./hello.txt</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè¾“å…¥<code>xargs find -name</code>ä»¥åï¼Œå‘½ä»¤è¡Œä¼šç­‰å¾…ç”¨æˆ·è¾“å…¥æ‰€è¦æœç´¢çš„æ–‡ä»¶ã€‚ç”¨æˆ·è¾“å…¥<code>"*.txt"</code>ï¼Œè¡¨ç¤ºæœç´¢å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ TXT æ–‡ä»¶ï¼Œç„¶åæŒ‰ä¸‹ Ctrl+dï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸï¼Œè¿™æ—¶å°±ç›¸å½“æ‰§è¡Œ<code>find -name *.txt</code>ã€‚</p><h2 id="d-å‚æ•°ä¸åˆ†éš”ç¬¦"><a href="#d-å‚æ•°ä¸åˆ†éš”ç¬¦" class="headerlink" title="-d å‚æ•°ä¸åˆ†éš”ç¬¦"></a>-d å‚æ•°ä¸åˆ†éš”ç¬¦</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>xargs</code>å°†æ¢è¡Œç¬¦å’Œç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼ŒæŠŠæ ‡å‡†è¾“å…¥åˆ†è§£æˆä¸€ä¸ªä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"one two three"</span> | xargs <span class="built_in">mkdir</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>mkdir</code>ä¼šæ–°å»ºä¸‰ä¸ªå­ç›®å½•ï¼Œå› ä¸º<code>xargs</code>å°†<code>one two three</code>åˆ†è§£æˆä¸‰ä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰§è¡Œ<code>mkdir one two three</code>ã€‚</p><p><code>-d</code>å‚æ•°å¯ä»¥æ›´æ”¹åˆ†éš”ç¬¦ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> -e <span class="string">"a\tb\tc"</span> | xargs -d <span class="string">"\t"</span> <span class="built_in">echo</span></span><br><span class="line">a b c</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„å‘½ä»¤æŒ‡å®šåˆ¶è¡¨ç¬¦<code>\t</code>ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ‰€ä»¥<code>a\tb\tc</code>å°±è½¬æ¢æˆäº†ä¸‰ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚<code>echo</code>å‘½ä»¤çš„<code>-e</code>å‚æ•°è¡¨ç¤ºè§£é‡Šè½¬ä¹‰å­—ç¬¦ã€‚</p><h2 id="p-å‚æ•°ï¼Œ-t-å‚æ•°"><a href="#p-å‚æ•°ï¼Œ-t-å‚æ•°" class="headerlink" title="-p å‚æ•°ï¼Œ-t å‚æ•°"></a>-p å‚æ•°ï¼Œ-t å‚æ•°</h2><p>ä½¿ç”¨<code>xargs</code>å‘½ä»¤ä»¥åï¼Œç”±äºå­˜åœ¨è½¬æ¢å‚æ•°è¿‡ç¨‹ï¼Œæœ‰æ—¶éœ€è¦ç¡®è®¤ä¸€ä¸‹åˆ°åº•æ‰§è¡Œçš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚</p><p><code>-p</code>å‚æ•°æ‰“å°å‡ºè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦è¦æ‰§è¡Œã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">'one two three'</span> | xargs -p <span class="built_in">touch</span></span><br><span class="line"><span class="built_in">touch</span> one two three ?...</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„å‘½ä»¤æ‰§è¡Œä»¥åï¼Œä¼šæ‰“å°å‡ºæœ€ç»ˆè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œè®©ç”¨æˆ·ç¡®è®¤ã€‚ç”¨æˆ·æŒ‰ä¸‹å›è½¦ä»¥åï¼Œæ‰ä¼šçœŸæ­£æ‰§è¡Œã€‚</p><p><code>-t</code>å‚æ•°åˆ™æ˜¯æ‰“å°å‡ºæœ€ç»ˆè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œç„¶åç›´æ¥æ‰§è¡Œï¼Œä¸éœ€è¦ç”¨æˆ·ç¡®è®¤ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">'one two three'</span> | xargs -t <span class="built_in">rm</span></span><br><span class="line"><span class="built_in">rm</span> one two three</span><br></pre></td></tr></tbody></table></figure><h2 id="0-å‚æ•°ä¸-find-å‘½ä»¤"><a href="#0-å‚æ•°ä¸-find-å‘½ä»¤" class="headerlink" title="-0 å‚æ•°ä¸ find å‘½ä»¤"></a>-0 å‚æ•°ä¸ find å‘½ä»¤</h2><p>ç”±äº<code>xargs</code>é»˜è®¤å°†ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ‰€ä»¥ä¸å¤ªé€‚åˆå¤„ç†æ–‡ä»¶åï¼Œå› ä¸ºæ–‡ä»¶åå¯èƒ½åŒ…å«ç©ºæ ¼ã€‚</p><p><code>find</code>å‘½ä»¤æœ‰ä¸€ä¸ªç‰¹åˆ«çš„å‚æ•°<code>-print0</code>ï¼ŒæŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶åˆ—è¡¨ä»¥<code>null</code>åˆ†éš”ã€‚ç„¶åï¼Œ<code>xargs</code>å‘½ä»¤çš„<code>-0</code>å‚æ•°è¡¨ç¤ºç”¨<code>null</code>å½“ä½œåˆ†éš”ç¬¦ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find /path -<span class="built_in">type</span> f -print0 | xargs -0 <span class="built_in">rm</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤åˆ é™¤<code>/path</code>è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚ç”±äºåˆ†éš”ç¬¦æ˜¯<code>null</code>ï¼Œæ‰€ä»¥å¤„ç†åŒ…å«ç©ºæ ¼çš„æ–‡ä»¶åï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªåŸå› ï¼Œä½¿å¾—<code>xargs</code>ç‰¹åˆ«é€‚åˆ<code>find</code>å‘½ä»¤ã€‚æœ‰äº›å‘½ä»¤ï¼ˆæ¯”å¦‚<code>rm</code>ï¼‰ä¸€æ—¦å‚æ•°è¿‡å¤šä¼šæŠ¥é”™â€œå‚æ•°åˆ—è¡¨è¿‡é•¿â€ï¼Œè€Œæ— æ³•æ‰§è¡Œï¼Œæ”¹ç”¨<code>xargs</code>å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒå¯¹æ¯ä¸ªå‚æ•°æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find . -name <span class="string">"*.txt"</span> | xargs grep <span class="string">"abc"</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤æ‰¾å‡ºæ‰€æœ‰ TXT æ–‡ä»¶ä»¥åï¼Œå¯¹æ¯ä¸ªæ–‡ä»¶æœç´¢ä¸€æ¬¡æ˜¯å¦åŒ…å«å­—ç¬¦ä¸²<code>abc</code>ã€‚</p><h2 id="L-å‚æ•°"><a href="#L-å‚æ•°" class="headerlink" title="-L å‚æ•°"></a>-L å‚æ•°</h2><p>å¦‚æœæ ‡å‡†è¾“å…¥åŒ…å«å¤šè¡Œï¼Œ<code>-L</code>å‚æ•°æŒ‡å®šå¤šå°‘è¡Œä½œä¸ºä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ xargs find -name</span><br><span class="line"><span class="string">"*.txt"</span></span><br><span class="line"><span class="string">"*.md"</span></span><br><span class="line">find: paths must precede expression: `*.md<span class="string">'</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤åŒæ—¶å°†<code>"*.txt"</code>å’Œ<code>*.md</code>ä¸¤è¡Œä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œä¼ ç»™<code>find</code>å‘½ä»¤å¯¼è‡´æŠ¥é”™ã€‚</p><p>ä½¿ç”¨<code>-L</code>å‚æ•°ï¼ŒæŒ‡å®šæ¯è¡Œä½œä¸ºä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ xargs -L 1 find -name</span><br><span class="line"><span class="string">"*.txt"</span></span><br><span class="line">./foo.txt</span><br><span class="line">./hello.txt</span><br><span class="line"><span class="string">"*.md"</span></span><br><span class="line">./README.md</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤æŒ‡å®šäº†æ¯ä¸€è¡Œï¼ˆ<code>-L 1</code>ï¼‰ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œåˆ†åˆ«è¿è¡Œä¸€æ¬¡å‘½ä»¤ï¼ˆ<code>find -name</code>ï¼‰ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> -e <span class="string">"a\nb\nc"</span> | xargs -L 1 <span class="built_in">echo</span></span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ä»£ç æŒ‡å®šæ¯è¡Œè¿è¡Œä¸€æ¬¡<code>echo</code>å‘½ä»¤ï¼Œæ‰€ä»¥<code>echo</code>å‘½ä»¤æ‰§è¡Œäº†ä¸‰æ¬¡ï¼Œè¾“å‡ºäº†ä¸‰è¡Œã€‚</p><h2 id="n-å‚æ•°"><a href="#n-å‚æ•°" class="headerlink" title="-n å‚æ•°"></a>-n å‚æ•°</h2><p><code>-L</code>å‚æ•°è™½ç„¶è§£å†³äº†å¤šè¡Œçš„é—®é¢˜ï¼Œä½†æ˜¯æœ‰æ—¶ç”¨æˆ·ä¼šåœ¨åŒä¸€è¡Œè¾“å…¥å¤šé¡¹ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ xargs find -name</span><br><span class="line"><span class="string">"*.txt"</span> <span class="string">"*.md"</span></span><br><span class="line">find: paths must precede expression: `*.md<span class="string">'</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„å‘½ä»¤å°†åŒä¸€è¡Œçš„ä¸¤é¡¹ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><p><code>-n</code>å‚æ•°æŒ‡å®šæ¯æ¬¡å°†å¤šå°‘é¡¹ï¼Œä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ xargs -n 1 find -name</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤æŒ‡å®šå°†æ¯ä¸€é¡¹ï¼ˆ<code>-n 1</code>ï¼‰æ ‡å‡†è¾“å…¥ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œåˆ†åˆ«æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ï¼ˆ<code>find -name</code>ï¼‰ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> {0..9} | xargs -n 2 <span class="built_in">echo</span></span><br><span class="line">0 1</span><br><span class="line">2 3</span><br><span class="line">4 5</span><br><span class="line">6 7</span><br><span class="line">8 9</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤æŒ‡å®šï¼Œæ¯ä¸¤ä¸ªå‚æ•°è¿è¡Œä¸€æ¬¡<code>echo</code>å‘½ä»¤ã€‚æ‰€ä»¥ï¼Œ10ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—è¿è¡Œäº†äº”æ¬¡<code>echo</code>å‘½ä»¤ï¼Œè¾“å‡ºäº†äº”è¡Œã€‚</p><h2 id="I-å‚æ•°"><a href="#I-å‚æ•°" class="headerlink" title="-I å‚æ•°"></a>-I å‚æ•°</h2><p>å¦‚æœ<code>xargs</code>è¦å°†å‘½ä»¤è¡Œå‚æ•°ä¼ ç»™å¤šä¸ªå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨<code>-I</code>å‚æ•°ã€‚</p><p><code>-I</code>æŒ‡å®šæ¯ä¸€é¡¹å‘½ä»¤è¡Œå‚æ•°çš„æ›¿ä»£å­—ç¬¦ä¸²ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> foo.txt</span><br><span class="line">one</span><br><span class="line">two</span><br><span class="line">three</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> foo.txt | xargs -I file sh -c <span class="string">'echo file; mkdir file'</span></span><br><span class="line">one</span><br><span class="line">two</span><br><span class="line">three</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">one two three</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>foo.txt</code>æ˜¯ä¸€ä¸ªä¸‰è¡Œçš„æ–‡æœ¬æ–‡ä»¶ã€‚æˆ‘ä»¬å¸Œæœ›å¯¹æ¯ä¸€é¡¹å‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰§è¡Œä¸¤ä¸ªå‘½ä»¤ï¼ˆ<code>echo</code>å’Œ<code>mkdir</code>ï¼‰ï¼Œä½¿ç”¨<code>-I file</code>è¡¨ç¤º<code>file</code>æ˜¯å‘½ä»¤è¡Œå‚æ•°çš„æ›¿ä»£å­—ç¬¦ä¸²ã€‚æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œå…·ä½“çš„å‚æ•°ä¼šæ›¿ä»£æ‰<code>echo file; mkdir file</code>é‡Œé¢çš„ä¸¤ä¸ª<code>file</code>ã€‚</p><h2 id="â€”max-procs-å‚æ•°"><a href="#â€”max-procs-å‚æ•°" class="headerlink" title="â€”max-procs å‚æ•°"></a>â€”max-procs å‚æ•°</h2><p><code>xargs</code>é»˜è®¤åªç”¨ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œå‘½ä»¤ã€‚å¦‚æœå‘½ä»¤è¦æ‰§è¡Œå¤šæ¬¡ï¼Œå¿…é¡»ç­‰ä¸Šä¸€æ¬¡æ‰§è¡Œå®Œï¼Œæ‰èƒ½æ‰§è¡Œä¸‹ä¸€æ¬¡ã€‚</p><p><code>--max-procs</code>å‚æ•°æŒ‡å®šåŒæ—¶ç”¨å¤šå°‘ä¸ªè¿›ç¨‹å¹¶è¡Œæ‰§è¡Œå‘½ä»¤ã€‚<code>--max-procs 2</code>è¡¨ç¤ºåŒæ—¶æœ€å¤šä½¿ç”¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œ<code>--max-procs 0</code>è¡¨ç¤ºä¸é™åˆ¶è¿›ç¨‹æ•°ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps -q | xargs -n 1 --max-procs 0 docker <span class="built_in">kill</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼ŒåŒæ—¶å…³é—­å°½å¯èƒ½å¤šçš„ Docker å®¹å™¨ï¼Œè¿™æ ·è¿è¡Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://dhashe.com/xargs-is-the-inverse-function-of-echo.html">xargs is the inverse function of echo</a></li><li><a href="https://shapeshed.com/unix-xargs/">Linux and Unix xargs command tutorial with examples</a>, George Ornbo</li><li><a href="https://www.howtoforge.com/tutorial/linux-xargs-command/">8 Practical Examples of Linux Xargs Command for Beginners</a>, Himanshu Arora</li></ul>]]></content>
      
      
      <categories>
          
          <category> xargs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> xargs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux Cronå®šæ—¶ä»»åŠ¡</title>
      <link href="/posts/9c77.html"/>
      <url>/posts/9c77.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Cron æ˜¯ä¸€ä¸ªç”¨æ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„å·¥å…·ï¼Œå¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´è‡ªåŠ¨æ‰§è¡Œé‡å¤æ€§ä»»åŠ¡ã€‚</p><p>å®ƒçš„æ ¸å¿ƒæ˜¯ cron å®ˆæŠ¤è¿›ç¨‹ï¼Œåä¸º crondã€‚å®ƒåœ¨åå°æ¯åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰éœ€è¦åœ¨æŒ‡å®šæ—¶é—´æ‰§è¡Œçš„è®¡åˆ’ä»»åŠ¡ã€‚</p><p>ä¸‹é¢å‘½ä»¤å¯ä»¥æŸ¥çœ‹ cron å®ˆæŠ¤è¿›ç¨‹ï¼Œæ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo systemctl status cron</span></span><br></pre></td></tr></tbody></table></figure><h2 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h2><p>crond æ£€æŸ¥çš„å®šæ—¶ä»»åŠ¡ï¼Œä¿å­˜åœ¨ crontab æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶çš„æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå•ç‹¬çš„ä½œä¸šï¼ŒåŒ…å«ä½•æ—¶è¿è¡Œè¯¥ä»»åŠ¡ï¼Œä»¥åŠæ‰€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚</p><p>crontab åˆ†æˆä¸¤ä¸ªçº§åˆ«ï¼šç”¨æˆ·ä¸ªäººçš„crontabï¼Œç³»ç»Ÿçš„ crontabã€‚å‰è€…ç”±ç”¨æˆ·æœ¬äººç¼–è¾‘ï¼Œåè€…åªèƒ½ç”±æ ¹ç”¨æˆ·ç¼–è¾‘ã€‚</p><p>ç³»ç»Ÿçš„ crontab å­˜æ”¾åœ¨<code>/etc/crontab</code>ï¼Œä»¥åŠä¸€ç³»åˆ—ç‰¹æ®Šç›®å½•ä¹‹ä¸­ï¼š<code>/etc/cron.daily</code>ã€<code>/etc/cron.hourly</code>ã€<code>/etc/cron.weekly</code>å’Œ<code>/etc/cron.monthly</code>ã€‚</p><h2 id="cron-ä»»åŠ¡çš„è¯­æ³•"><a href="#cron-ä»»åŠ¡çš„è¯­æ³•" class="headerlink" title="cron ä»»åŠ¡çš„è¯­æ³•"></a>cron ä»»åŠ¡çš„è¯­æ³•</h2><p>crontab æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œä»£è¡¨ä¸€ä¸ª cron ä»»åŠ¡ã€‚å®ƒç”±å¤šä¸ªå­—æ®µç»„æˆï¼Œå­—æ®µä¹‹é—´ä½¿ç”¨ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦åˆ†éš”ã€‚</p><p>cron ä»»åŠ¡çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">minute hour day_of_month month day_of_week command_to_execute</span><br></pre></td></tr></tbody></table></figure><p>å„ä¸ªå­—æ®µçš„å«ä¹‰å¦‚ä¸‹ã€‚</p><ul><li>minuteï¼ˆ0-59ï¼‰ï¼šæŒ‡å®šå‘½ä»¤è¿è¡Œçš„åˆ†é’Ÿï¼Œå¯ä»¥æ˜¯0åˆ°59ä¹‹é—´çš„å€¼ï¼Œ0è¡¨ç¤ºå°†åœ¨ä¸€å°æ—¶å¼€å§‹æ—¶è¿è¡Œå‘½ä»¤ã€‚</li><li>hourï¼ˆ0-23ï¼‰ï¼šæŒ‡å®šå‘½ä»¤è¿è¡Œçš„å°æ—¶ï¼Œä»¥24å°æ—¶æ ¼å¼æŒ‡å®šï¼Œä¾‹å¦‚å°†å…¶è®¾ç½®ä¸º14å°†åœ¨ä¸‹åˆ2ç‚¹è¿è¡Œè¯¥å‘½ä»¤ã€‚</li><li>day_of_monthï¼ˆ1-31ï¼‰ï¼šæŒ‡å®šå‘½ä»¤è¿è¡Œçš„æ—¥æœŸã€‚å®ƒå¯ä»¥æ˜¯1åˆ°31ä¹‹é—´çš„ä»»æ„å€¼ï¼Œå…·ä½“å–å†³äºè¯¥æœˆçš„å¤©æ•°ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®ä¸º1å°†åœ¨æ¯ä¸ªæœˆçš„ç¬¬ä¸€å¤©è¿è¡Œå‘½ä»¤ã€‚</li><li>monthï¼ˆ1-12ï¼‰ï¼šæŒ‡å®šå‘½ä»¤å°†åœ¨å“ªä¸ªæœˆä»½æ‰§è¡Œã€‚å®ƒå¯ä»¥æ˜¯ 1ï¼ˆä¸€æœˆï¼‰åˆ° 12ï¼ˆåäºŒæœˆï¼‰ä¹‹é—´çš„å€¼ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®ä¸º12å°†åœ¨12æœˆæ‰§è¡Œè¯¥å‘½ä»¤ã€‚</li><li>day_of_weekï¼ˆ0-6ï¼‰ï¼šæŒ‡å®šå‘½ä»¤åº”åœ¨ä¸€å‘¨ä¸­çš„å“ªä¸€å¤©è¿è¡Œã€‚å®ƒå¯ä»¥æ˜¯0ï¼ˆæ˜ŸæœŸæ—¥ï¼‰åˆ°6ï¼ˆæ˜ŸæœŸå…­ï¼‰ä¹‹é—´çš„å€¼ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®ä¸º5å°†åœ¨æ¯ä¸ªæ˜ŸæœŸäº”è¿è¡Œè¯¥å‘½ä»¤ã€‚</li><li>command_to_executeï¼šæŒ‡å®š cron ä»»åŠ¡åº”æ‰§è¡Œçš„æ“ä½œã€‚</li></ul><p>crontab è¿˜å…è®¸ä½¿ç”¨é€šé…ç¬¦ã€‚</p><ul><li>æ˜Ÿå· (<em>)ï¼šä»£è¡¨â€œæ¯ä¸ªâ€æ—¶é—´å•ä½ã€‚ä¾‹å¦‚ï¼Œå°æ—¶å­—æ®µä¸­çš„â€œ</em>â€è¡¨ç¤ºâ€œæ¯å°æ—¶â€ã€‚</li><li>é€—å· (,)ï¼šç”¨äºåœ¨åŒä¸€å­—æ®µæŒ‡å®šå¤šä¸ªå€¼ã€‚ä¾‹å¦‚ï¼Œday_of_week å­—æ®µä¸­çš„â€œ1,3,5â€è¡¨ç¤ºâ€œå‘¨ä¸€ã€å‘¨ä¸‰å’Œå‘¨äº”è¿è¡Œâ€ã€‚æ³¨æ„ï¼Œé€—å·å‰åä¸èƒ½ç”±ç©ºæ ¼ã€‚</li><li>è¿å­—ç¬¦ (-)ï¼šæŒ‡å®šå€¼çš„èŒƒå›´ã€‚ä¾‹å¦‚ï¼Œå°æ—¶å­—æ®µä¸­çš„â€œ9-17â€è¡¨ç¤ºâ€œä¸Šåˆ9ç‚¹åˆ°ä¸‹åˆ5ç‚¹ä¹‹é—´çš„æ¯å°æ—¶â€ã€‚</li><li>æ–œæ  (/)ï¼šæŒ‡å®šå¢é‡ã€‚ä¾‹å¦‚ï¼Œåˆ†é’Ÿå­—æ®µä¸­çš„â€œ*/10â€è¡¨ç¤ºâ€œæ¯10åˆ†é’Ÿâ€ã€‚</li></ul><p>crontab è¿˜æä¾›ä¸€äº›å¿«æ·å­—ç¬¦ä¸²ã€‚</p><ul><li>@reboot    åœ¨å¯åŠ¨æ—¶è¿è¡Œä¸€æ¬¡æŒ‡å®šçš„å‘½ä»¤ ã€‚</li><li>@yearï¼Œ@annually ä¸¤è€…éƒ½åœ¨æ¯å¹´ 1 æœˆ 1 æ—¥ä¸­åˆ 12:00è¿è¡ŒæŒ‡å®šçš„ä»»åŠ¡ ã€‚ç›¸å½“äºæŒ‡å®šâ€œ0 0 1 1 *â€</li><li>@monthly æ¯æœˆ1 æ—¥ä¸­åˆ 12:00è¿è¡Œè¯¥ä½œä¸š ä¸€æ¬¡ã€‚ç›¸å½“äºâ€œ0 0 1 <em> </em>â€</li><li>@weekly åœ¨æ¯å‘¨å‘¨æ—¥ä¸­åˆ 12:00è¿è¡Œè¯¥ä½œä¸š ä¸€æ¬¡ã€‚ç›¸å½“äºâ€œ0 0 <em> </em> 0â€</li><li>@dailyï¼Œ@midnightï¼šä¸¤è€…éƒ½åœ¨æ¯å¤©ä¸­åˆ 12:00è¿è¡Œ cronjob  ã€‚è¿™ç›¸å½“äºåœ¨ crontab æ–‡ä»¶ä¸­æŒ‡å®šâ€œ0 0 <em> </em> *â€ã€‚</li><li>@hourlyï¼šæ¯å°æ—¶æ•´ç‚¹è¿è¡Œè¯¥ä½œä¸š ã€‚ç›¸å½“äºâ€œ0 <em> </em> <em> </em>â€</li></ul><p>crontab æ–‡ä»¶ä¸­ï¼Œä»¥â€œ#â€ç¬¦å·å¼€å¤´çš„è¡Œè¡¨ç¤ºæ³¨é‡Šã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ã€‚</p><ul><li><code>* * * * *</code>    æ¯åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ cron ä½œä¸šã€‚</li><li><code>0 * * * *</code>    æ¯å°æ—¶è¿è¡Œä¸€æ¬¡ cron ä½œä¸šã€‚</li><li><code>0 0 * * *</code>    æ¯å¤©åˆå¤œè¿è¡Œ cron ä½œä¸šã€‚</li><li><code>0 2 * * *</code>    æ¯å¤©å‡Œæ™¨ 2 ç‚¹è¿è¡Œ cron ä½œä¸šã€‚</li><li><code>0 0 15 * *</code>    æ¯ä¸ªæœˆ 15 æ—¥åˆå¤œè¿è¡Œä¸€æ¬¡ cron ä½œä¸šã€‚</li><li><code>0 0 0 12 *</code>    å‘¨å…­åˆå¤œè¿è¡Œ cron ä½œä¸šã€‚</li><li><code>0 0 * * 6</code>    ä»å‘¨ä¸€åˆ°å‘¨äº”æ¯å¤©ä¸‹åˆ 3 ç‚¹è¿è¡Œ cron ä½œä¸šã€‚</li><li><code>0 15 * * 1-5</code>    ä»å‘¨ä¸€åˆ°å‘¨äº”æ¯å¤©ä¸‹åˆ 3 ç‚¹è¿è¡Œ cron ä½œä¸šã€‚</li><li><code>*/5 * * * *</code>    æ¯ 5 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ cron ä½œä¸šã€‚</li><li><code>0 8-16 * * *</code> æ¯å¤©ã€æ¯å°æ—¶ã€ä»ä¸Šåˆ 8 ç‚¹åˆ°ä¸‹åˆ 4 ç‚¹å‡†æ—¶æ‰§è¡Œ cron ä½œä¸šã€‚</li><li><code>0 4 * * 2,4</code>    åœ¨å‘¨äºŒå’Œå‘¨å››å‡Œæ™¨ 4 ç‚¹è¿è¡Œ cron ä½œä¸šã€‚</li><li><code>@reboot</code>    ç³»ç»Ÿå¯åŠ¨æ—¶è¿è¡Œ cron ä½œä¸šã€‚</li></ul><h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><p>cron ä»»åŠ¡åœ¨éäº¤äº’å¼ã€éç™»å½• Shell ç¯å¢ƒä¸­è¿è¡Œï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯èƒ½æ— æ³•è®¿é—®ä¸æ‰‹åŠ¨è¿è¡Œå‘½ä»¤æ—¶ç›¸åŒçš„ç¯å¢ƒå˜é‡ã€‚</p><p>è¿™å°±æ˜¯è¯´ï¼Œcron ä»»åŠ¡ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿ç”¨æˆ·æˆ–ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡æˆ–è·¯å¾„ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ cron ä½œä¸šå¤±è´¥ï¼Œæ— æ³•æ‰¾åˆ°å¯æ‰§è¡Œæ–‡ä»¶æˆ–è„šæœ¬ã€‚è§£å†³æ–¹æ³•æ˜¯åœ¨ crontab æ–‡ä»¶ä¸­æ˜¾å¼è®¾ç½® PATH ç¯å¢ƒå˜é‡ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin</span><br></pre></td></tr></tbody></table></figure><p>ä¸è¿‡ï¼Œä¸ºäº†ä¾¿äºè°ƒè¯•ï¼Œå»ºè®®å§‹ç»ˆåœ¨ cron ä»»åŠ¡ä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚</p><p>é™¤äº†<code>PATH</code>ç¯å¢ƒå˜é‡ï¼Œè¿˜å¯ä»¥è®¾ç½®<code>SHELL</code>ç¯å¢ƒå˜é‡ï¼ŒæŒ‡å®š cron ä½¿ç”¨çš„ Shellã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHELL=/bin/sh</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ç¤ºä¾‹è®¾å®šæ‰§è¡Œ cron ä»»åŠ¡æ—¶ï¼Œä½¿ç”¨ Bashã€‚</p><h2 id="cron-ä»»åŠ¡ç®¡ç†"><a href="#cron-ä»»åŠ¡ç®¡ç†" class="headerlink" title="cron ä»»åŠ¡ç®¡ç†"></a>cron ä»»åŠ¡ç®¡ç†</h2><h3 id="ä¸ªäººä»»åŠ¡"><a href="#ä¸ªäººä»»åŠ¡" class="headerlink" title="ä¸ªäººä»»åŠ¡"></a>ä¸ªäººä»»åŠ¡</h3><p>åˆ›å»ºæˆ–ç¼–è¾‘ç”¨æˆ·çš„ crontab æ–‡ä»¶ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„å‘½ä»¤ä¼šæ‰“å¼€ç³»ç»Ÿé»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¯¹ç”¨æˆ·çš„ crontab æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚</p><p>æ·»åŠ  cron ä»»åŠ¡ï¼Œåªéœ€åœ¨ crontab æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæ–°è¡Œå³å¯ã€‚ä¾‹å¦‚ï¼Œå¤‡ä»½è„šæœ¬ backup.sh æ¯å¤©å‡Œæ™¨ 3:00 è¿è¡Œï¼Œå°±æ˜¯æ·»åŠ ä¸‹é¢çš„å†…å®¹ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 3 * * * /home/linuxiac/backup.sh</span><br></pre></td></tr></tbody></table></figure><p>ç¼–è¾‘å®Œæˆåï¼Œä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚Cron æœåŠ¡ä¼šè‡ªåŠ¨æ£€æŸ¥ crontab æ–‡ä»¶ï¼Œå› æ­¤æ— éœ€åœ¨æ›´æ”¹åé‡æ–°å¯åŠ¨ Cron è¿›ç¨‹ã€‚</p><p><code>crontab -e</code>è¿˜ä¼šåœ¨ä¿å­˜å’Œé€€å‡ºæ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨æ£€æŸ¥è¯­æ³•ï¼Œé˜²æ­¢æ„å¤–è¾“å…¥æ— æ•ˆçš„ cron ä»»åŠ¡ã€‚</p><p>ä¸‹é¢å‘½ä»¤å¯ä»¥åˆ—å‡ºå½“å‰ç”¨æˆ·çš„æ‰€æœ‰ cron ä»»åŠ¡ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -l</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœæ‹¥æœ‰æ ¹ç”¨æˆ·æƒé™ï¼Œå¯ä»¥æŸ¥çœ‹å…¶ä»–ç”¨æˆ·çš„ cron ä»»åŠ¡ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo crontab -u [ç”¨æˆ·å] -l</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>[ç”¨æˆ·å]</code>æ˜¯éœ€è¦æ›¿æ¢çš„éƒ¨åˆ†ã€‚</p><p>ç¼–è¾‘å…¶ä»–ç”¨æˆ·çš„ cron ä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°<code>-e</code>ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo crontab -u [ç”¨æˆ·å] -e</span><br></pre></td></tr></tbody></table></figure><p>åˆ é™¤æŸä¸ª cron ä»»åŠ¡æ—¶ï¼Œåªè¦åˆ é™¤é‚£ä¸€è¡Œå³å¯ã€‚å¦‚æœæƒ³è¦åˆ é™¤æ‰€æœ‰çš„ cron ä»»åŠ¡ï¼Œåªè¦åˆ é™¤ crontab æ–‡ä»¶å³å¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°<code>-r</code>ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -r</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„å‘½ä»¤ä¼šåˆ é™¤å½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶ï¼ˆå³åˆ é™¤æ‰€æœ‰ cron ä»»åŠ¡ï¼‰ï¼Œè€Œä¸”ä¸ä¼šå‡ºç°ä»»ä½•ç¡®è®¤æç¤ºï¼Œå› æ­¤è¯·å°å¿ƒä½¿ç”¨ã€‚</p><p>å¦‚æœå¸Œæœ›åˆ é™¤å‰å‡ºç°ç¡®è®¤æç¤ºï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°<code>-i</code>ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -i -r</span><br></pre></td></tr></tbody></table></figure><h3 id="ç³»ç»Ÿä»»åŠ¡"><a href="#ç³»ç»Ÿä»»åŠ¡" class="headerlink" title="ç³»ç»Ÿä»»åŠ¡"></a>ç³»ç»Ÿä»»åŠ¡</h3><p>åˆ›å»ºç³»ç»Ÿçº§åˆ«çš„ cron ä»»åŠ¡ï¼Œéœ€è¦ç›´æ¥ç¼–è¾‘<code>/etc/crontab</code>æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0  2  *  *  * root /usr/bin/find /var/log/myservice -<span class="built_in">type</span> f -name <span class="string">'*.log'</span> -delete</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢ç¤ºä¾‹è®¾å®šåœ¨æ¯å¤©å‡Œæ™¨2:00ï¼Œä»<code>/var/log/myservice</code>ç›®å½•åˆ é™¤æ‰€æœ‰å¸¦æœ‰æ‰©å±•åä¸º<code>.log</code>çš„æ–‡ä»¶ã€‚</p><p>å®ƒçš„æ ¼å¼ä¸ç”¨æˆ·çº§åˆ«çš„ cron æ–‡ä»¶æœ‰ä¸€ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯åœ¨æœ€åˆè¡¨ç¤ºæ—¶é—´çš„äº”ä¸ªå­—æ®µåé¢ï¼Œå¤šäº†ä¸€ä¸ªå­—æ®µï¼Œè¡¨ç¤ºæ‰§è¡Œä»»åŠ¡çš„ç”¨æˆ·å¸æˆ·ï¼Œæœ¬ä¾‹ä¸º<code>root</code>ã€‚</p><p>ç›´æ¥ç¼–è¾‘<code>/etc/crontab</code>æ–‡ä»¶æœ‰ä¸¤ä¸ªç¼ºç‚¹ã€‚ï¼ˆ1ï¼‰å®ƒä¸æä¾›è¯­æ³•æ£€æŸ¥ï¼Œå¢åŠ äº†å‡ºé”™çš„é£é™©ã€‚ï¼ˆ2ï¼‰å®ƒä¼šå½±å“æ•´ä¸ªç³»ç»Ÿï¼Œä½¿ç”¨æ—¶éœ€è¦éå¸¸è°¨æ…ã€‚</p><p>åˆ—å‡ºæ‰€æœ‰çš„ç³»ç»Ÿçº§åˆ« cron ä»»åŠ¡ï¼Œéœ€è¦æŸ¥çœ‹ä»¥ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</p><ul><li>/etc/crontab æ–‡ä»¶</li><li>/etc/cron.d/ ç›®å½•</li><li>/etc/cron.daily/ ç›®å½•</li><li>/etc/cron.hourly/ ç›®å½•</li><li>/etc/cron.weekly/ ç›®å½•</li><li>/etc/cron.monthly/ ç›®å½•</li></ul><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://linuxiac.com/how-to-use-cron-and-crontab-on-linux/">How to Use Cron on Linux: Tips, Tricks, and Examples</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Cron </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Cron </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°ä¸€æ¬¡é«˜å¹¶å‘è¿­ä»£ä¹‹è·¯ï¼ï¼</title>
      <link href="/posts/high-concurrent-experience.html"/>
      <url>/posts/high-concurrent-experience.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å‰å› "><a href="#å‰å› " class="headerlink" title="å‰å› "></a>å‰å› </h3><p>2020å¹´ä¹‹åˆï¼Œæ–°å† è‚ºç‚çªç„¶æ¥åŠ¿æ±¹æ±¹ï¼Œåœ¨å…¨å›½äººæ°‘çš„å›¢ç»“åŠªåŠ›ä¸‹ï¼ŒæŠ—ç–«æˆ˜è¿›å…¥äº†åƒµæŒé˜¶æ®µï¼Œ2æœˆ24æ—¥æˆ‘å…¬å¸ä¸€å¤å·¥ï¼Œå°±æ¥åˆ°äº†æˆéƒ½å¸‚XXåŒºé¢†å¯¼çš„éœ€æ±‚ï¼Œéœ€è¦åœ¨ä¸€å‘¨å†…å¼€å‘ä¸Šçº¿ä¸€ä¸ªé’ˆå¯¹å…¨åŒºå¸ˆç”Ÿ(10ä¸‡äººå·¦å³)ç–«æƒ…æ¯æ—¥æ‰“å¡å¹³å°ã€‚</p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>å…¶å®å°±æ˜¯éœ€è¦åšä¸€ä¸ªç”¨æˆ·æ¯æ—¥ç™»é™†å¡«æŠ¥é—®å·çš„åŠŸèƒ½ã€‚æ­¤å¹³å°éœ€è¦æœ‰ä¸€ä¸ªç®¡ç†åå°ï¼Œä¸€ä¸ªh5æ‰“å¡å¡«æŠ¥åŠå…¶é™„å±é¡µé¢ã€‚</p><h3 id="é›å½¢"><a href="#é›å½¢" class="headerlink" title="é›å½¢"></a>é›å½¢</h3><p>ç”±äºæ—¶é—´ç´§ï¼Œå¯¹é¡¹ç›®è¿›è¡Œç®€å•åˆ†æåï¼Œç¡®å®šåŠŸèƒ½(åå°ï¼šç”¨æˆ·ä¿¡æ¯ç®¡ç†ã€æ‰“å¡è®°å½•ã€æ•°æ®ç»Ÿè®¡ï¼Œå‰å°ï¼šç”¨æˆ·ç™»é™†ã€æ‰“å¡ã€å¿«é€Ÿæ‰“å¡ã€æ‰“å¡è®°å½•)åï¼Œæˆ‘ä»¬å°±ç€æ‰‹å¼€å‘ã€‚åŠŸèƒ½å¾ˆå¿«å¼€å‘å¼€å‘å®Œæˆå¹¶ä¸Šçº¿ã€‚</p><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><p>ä¸Šçº¿å‰çš„æµ‹è¯•é˜¶æ®µï¼Œæˆ‘ä»¬å‘ç°æœ‰äº›ä¿¡æ¯æ˜¯å›ºå®šçš„ä½†æ¯ä¸ªäººéƒ½éœ€è¦æŸ¥è¯¢ï¼Œæ¯”å¦‚çœå¸‚åŒºä¿¡æ¯ï¼Œäºæ˜¯æˆ‘ä»¬è¿›è¡Œäº†redisç¼“å­˜ã€‚ç”±äºåå°çš„ç»Ÿè®¡è¿‡äºå¤æ‚ï¼Œäºæ˜¯ä½¿ç”¨golangå¼€å‘äº†è®¡åˆ’ä»»åŠ¡ï¼Œæ¯ä¸¤åˆ†é’Ÿç»Ÿè®¡ä¸€æ¬¡æ•°æ®ã€‚<br>é¢†å¯¼éªŒæ”¶æ—¶åˆæäº†ä¸€äº›åŠŸèƒ½æ”¹è¿›ï¼Œåœ¨æ”¹è¿›æ—¶ï¼Œæˆ‘ä»¬å‘ç°ç”¨æˆ·æ•°æœ‰10ä¸‡å·¦å³ï¼Œå•ä¸€çš„æ‰“å¡æ¥å£å¯èƒ½ä¼šå µå¡ï¼Œäºæ˜¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ‰“å¡æ¥å£åªè¿›è¡Œæ™®é€šçš„å¡«æŠ¥ä¿¡æ¯æ ¡éªŒï¼Œæ ¡éªŒé€šè¿‡åï¼Œå¼‚æ­¥è°ƒç”¨golangæ¥å£è¿›è¡Œæ‰“å¡ä¿¡æ¯ä¿å­˜ï¼Œè¿™æ ·æœ‰ä¸€ä¸ªåå¤„å°±æ˜¯æ•°æ®ä¿å­˜å»¶è¿Ÿï¼Œå¯èƒ½ä¼šå‡ºç°æ‰“å¡åçœ‹ä¸åˆ°è®°å½•ã€‚ä¸ºé˜²æ­¢ç”¨æˆ·å¤šæ¬¡æ‰“å¡ï¼Œåœ¨å¡«æŠ¥ä¿¡æ¯æ ¡éªŒé€šè¿‡åï¼Œå°†å½“å¤©æ‰“å¡äººçš„å”¯ä¸€æ ‡è¯†å­˜å…¥redisï¼Œå¦‚æœå­˜åœ¨redisä¸­å°±ä¸è®©å†æ¬¡æ‰“å¡ï¼Œå½“ç„¶å¦‚æœæ‰“å¡ä¿¡æ¯ä¿å­˜å¤±è´¥ï¼Œgoç¨‹åºéœ€åˆ é™¤è¯¥äººå½“æ—¥çš„æ‰“å¡ç¼“å­˜ã€‚<br>ä¸Šçº¿è¯•è¿è¡ŒæœŸé—´ï¼Œå‘ç°ç”¨æˆ·æ‰“å¡æ‰“å¡é¡µé¢å¾ˆæ…¢ï¼Œç»åˆ†æï¼ŒæœåŠ¡å™¨å¸¦å®½åªæœ‰10Mï¼Œå‰ç«¯é¡µé¢å›¾ç‰‡æœªå‹ç¼©ï¼Œäºæ˜¯è¿›è¡Œå›¾ç‰‡ã€jsã€cssç­‰èµ„æºæ–‡ä»¶å‹ç¼©ï¼Œå•çº¯å‹æµ‹å‰ç«¯é¡µé¢(å‹ç¼©åæœª425k)ï¼Œæ˜æ˜¾å¸¦å®½ä¸å¤Ÿï¼ŒåŠ å¤§åˆ°100Mï¼Œå‰ç«¯é¡µé¢å›¾ç‰‡CNDåŠ é€Ÿåï¼Œå‹æµ‹1000å¹¶å‘æ— é—®é¢˜ã€‚å‹æµ‹æ‰“å¡æ¥å£ï¼Œ1000å¹¶å‘è¿æ¥è¶…æ—¶å¤±è´¥ç‡20%ï¼Œ800å¹¶å‘è¿æ¥è¶…æ—¶å¤±è´¥ç‡10%ã€‚<br>å‹æµ‹ä¸€ä¸ªé€šå®µåï¼Œæœ¬ä»¥ä¸ºå¹³å®‰æ— äº‹äº†ï¼Œç»“æœç¬¬äºŒå¤©ä¸€æ—©ä¸Šå°±å¡å¾—ä¸è¡Œï¼ŒåŸæ¥æ˜¯åå°æŸ¥è¯¢è¿‡æ…¢ï¼Œå¯¼è‡´cpué£™å‡ï¼Œå‰å°ç”¨æˆ·æŸ¥è¯¢ä¸åˆ°æ•°æ®ï¼Œçœ‹æ…¢æŸ¥è¯¢å‘ç°ï¼Œæ—¶ä¸æ—¶æœ‰å‡ ä¸ªæŸ¥è¯¢sqlæ¶ˆè€—æ—¶é—´è¿‡é•¿ï¼Œshow preocesslistä¹Ÿçœ‹åˆ°å¼‚å¸¸ã€‚å…ˆåŠ ç´¢å¼•ä¼˜åŒ–ï¼Œä½†æ•ˆæœä¸æ˜æ˜¾ï¼Œç»“æœå‘ç°æ˜¯åœ¨è¿›è¡Œè”è¡¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¤§è¡¨è”äº†å¤§è¡¨ï¼Œå¤§è¡¨ç‰µå¼•æœ¬æ¥å°±æ˜¯é—®é¢˜ï¼Œäºæ˜¯å¯¹ä¸šåŠ¡è¡¨è¿›è¡Œäº†åˆå¹¶ï¼Œ5å¼ è¡¨åˆæˆä¸€å¼ è¡¨ï¼Œå¹¶æ·»åŠ ç´¢å¼•ï¼Œåå°æŸ¥è¯¢ç«‹é©¬é£å¿«ã€‚æ›´æ–°ç¨‹åºåï¼Œæš‚æ—¶ä¸€åˆ‡æ­£å¸¸äº†ã€‚<br>æ²¡æƒ³åˆ°ç¬¬äºŒå¤©ä¸€æ—©ä¸ŠæœåŠ¡å™¨æœ‰å‡ºé—®é¢˜äº†ï¼Œå¹¶å‘é£™å‡åˆ°2ä¸‡å¤šï¼Œæœ‰å¾ˆå¤šinsert è¯­å¥é€ æˆäº†é”è¡¨ï¼Œè€Œå¾ˆå¤šçš„selectè¯­å¥æœ‰æ— æ³•æ‰§è¡Œã€‚çªç„¶æ„è¯†åˆ°myisamä½¿ç”¨insertçš„æ—¶å€™ä¼šé€ æˆé”è¡¨ï¼Œéœ€è¦æ”¯æŒå¹¶å‘æ’å…¥ï¼Œå¾—ä¿®æ”¹concurrent_insert=2,ï¼›å¦ä¸€æ–¹é¢æœ‰ä¸ªåœ¨æ…¢æŸ¥è¯¢ä¸­æœ‰ä¸¤ä¸ªselectè¯­å¥å‡ºç°å¾ˆé¢‘ç¹ï¼Œä½†è€—æ—¶ä¸é«˜(0.60så·¦å³)ï¼Œexplainå‘ç°å±…ç„¶æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œç«‹é©¬åŠ ä¸Šç´¢å¼•ï¼ŒæŸ¥è¯¢è€—æ—¶é™ä½åˆ°0.02sã€‚åœ¨æ— æ³•kill sqlè¿›ç¨‹çš„æƒ…å†µä¸‹ï¼Œåªèƒ½è¿›è¡Œåœæ­¢Nginxï¼Œé‡å¯æ•°æ®åº“ï¼Œé‡å¯åä¸€åˆ‡æ­£å¸¸ã€‚<br>ç”±äºå¯èƒ½å¹¶å‘è¿‡é«˜ï¼Œæˆ‘ä»¬é€‰æ‹©äº†æœåŠ¡å™¨å‡çº§ï¼Œå•å°æ•°æ®åº“å¯èƒ½æ‰›ä¸ä½ã€‚å…¨è¿ç§»åˆ°é˜¿é‡Œäº‘ï¼Œä½¿ç”¨é˜¿é‡Œäº‘çš„æ•°æ®åº“ï¼Œè¯»å†™åˆ†ç¦»ï¼Œä¸€ä¸»å¤šä»ï¼Œå¼¹æ€§ä¼¸ç¼©ã€‚ä¸€åˆ‡okï¼Œç›‘æ§ä¸¤æ—¥åå‘ç°å¹¶å‘åœ¨8000å·¦å³ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ¶æ„è®¾è®¡çš„åŸåˆ™ï¼šç®€å•ã€åˆé€‚é«˜äºä¸€åˆ‡ã€‚<br>é«˜å¹¶å‘éœ€è€ƒè™‘å¸¦å®½ï¼Œé¡µé¢ç¼“å­˜å‹ç¼©ã€é™æ€æ•°æ®ç¼“å­˜ã€æ¥å£å¼‚æ­¥å¤šçº¿ç¨‹å¤„ç†ã€‚<br>æ…¢æŸ¥è¯¢é™¤äº†å…³æ³¨è€—æ—¶è¿‡é•¿çš„sqlï¼Œè¿˜å¾—æ³¨æ„ä½¿ç”¨é¢‘ç¹çš„sqlã€‚<br>é«˜å¹¶å‘å½“ç¨‹åºä¼˜åŒ–åˆ°æè‡´åï¼Œéœ€è€ƒè™‘æœåŠ¡å™¨ä¼˜åŒ–ï¼Œè¯»å†™åˆ†ç¦»ï¼Œredisé›†ç¾¤ç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é«˜å¹¶å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Keccakç®—æ³•ï¼šSHA-3æ ‡å‡†çš„åŸºçŸ³</title>
      <link href="/posts/keccak.html"/>
      <url>/posts/keccak.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Keccakæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Keccakæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Keccakæ˜¯ä»€ä¹ˆï¼Ÿ"></a>Keccakæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Keccakæ˜¯ä¸€ç§è¢«é€‰å®šä¸ºSHA-3æ ‡å‡†çš„å•å‘æ•£åˆ—å‡½æ•°ç®—æ³•ã€‚å®ƒä»¥å…¶é«˜æ•ˆã€å®‰å…¨ã€çµæ´»çš„è®¾è®¡è€Œè‘—ç§°ï¼Œæˆä¸ºäº†ä¼—å¤šå¯†ç å­¦åº”ç”¨çš„åŸºçŸ³ã€‚</p><h3 id="Keccakçš„ç‰¹ç‚¹"><a href="#Keccakçš„ç‰¹ç‚¹" class="headerlink" title="Keccakçš„ç‰¹ç‚¹"></a>Keccakçš„ç‰¹ç‚¹</h3><ul><li><strong>æµ·ç»µç»“æ„:</strong> Keccaké‡‡ç”¨äº†ç‹¬ç‰¹çš„â€œæµ·ç»µç»“æ„â€ï¼Œè¿™ç§ç»“æ„ç”±å¸æ”¶å’ŒæŒ¤å‹ä¸¤ä¸ªé˜¶æ®µç»„æˆã€‚åœ¨å¸æ”¶é˜¶æ®µï¼Œè¾“å…¥çš„æ¶ˆæ¯è¢«ä¸æ–­å¸æ”¶ï¼Œç›´åˆ°è¾¾åˆ°çŠ¶æ€çš„æœ€å¤§å®¹é‡ã€‚åœ¨æŒ¤å‹é˜¶æ®µï¼Œåˆ™ä»çŠ¶æ€ä¸­æŒ¤å‡ºè¾“å‡ºã€‚è¿™ç§ç»“æ„ä½¿å¾—Keccakå¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„æ¶ˆæ¯ã€‚</li><li><strong>å®‰å…¨æ€§:</strong> Keccakç»è¿‡äº†ä¸¥æ ¼çš„å¯†ç å­¦åˆ†æï¼Œè¢«è®¤ä¸ºæ˜¯ç›®å‰æœ€å®‰å…¨çš„æ•£åˆ—å‡½æ•°ä¹‹ä¸€ã€‚å®ƒåœ¨æŠ—ç¢°æ’ã€æŠ—åŸåƒæ”»å‡»ç­‰æ–¹é¢è¡¨ç°å‡ºè‰²ã€‚</li><li><strong>çµæ´»æ€§:</strong> Keccakå¯ä»¥ç”Ÿæˆä»»æ„é•¿åº¦çš„æ•£åˆ—å€¼ï¼Œä½¿å¾—å®ƒå¯ä»¥é€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚</li></ul><h3 id="Keccakçš„å·¥ä½œåŸç†"><a href="#Keccakçš„å·¥ä½œåŸç†" class="headerlink" title="Keccakçš„å·¥ä½œåŸç†"></a>Keccakçš„å·¥ä½œåŸç†</h3><ol><li><strong>é¢„å¤„ç†:</strong> è¾“å…¥çš„æ¶ˆæ¯è¢«å¡«å……ï¼Œä½¿å…¶é•¿åº¦è¾¾åˆ°æµ·ç»µç»“æ„æ‰€éœ€çš„é•¿åº¦ã€‚</li><li><strong>å¸æ”¶:</strong> å¡«å……åçš„æ¶ˆæ¯è¢«åˆ†æˆå›ºå®šå¤§å°çš„å—ï¼Œé€å—ä¸çŠ¶æ€è¿›è¡Œå¼‚æˆ–æ“ä½œã€‚</li><li><strong>ç½®æ¢:</strong> å¯¹çŠ¶æ€è¿›è¡Œä¸€ç³»åˆ—éçº¿æ€§å˜æ¢ï¼Œä»¥å¢åŠ è¾“å‡ºçš„éšæœºæ€§ã€‚</li><li><strong>æŒ¤å‹:</strong> ä»çŠ¶æ€ä¸­æå–è¾“å‡ºã€‚</li></ol><h3 id="Keccakçš„åº”ç”¨"><a href="#Keccakçš„åº”ç”¨" class="headerlink" title="Keccakçš„åº”ç”¨"></a>Keccakçš„åº”ç”¨</h3><ul><li><strong>æ•°å­—ç­¾å:</strong> Keccakå¯ä»¥ç”¨æ¥ç”Ÿæˆæ•°å­—ç­¾åï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œèº«ä»½è®¤è¯ã€‚</li><li><strong>å¯†ç å­˜å‚¨:</strong> Keccakå¯ä»¥ç”¨æ¥å¯¹å¯†ç è¿›è¡Œå“ˆå¸Œå¤„ç†ï¼Œä¿æŠ¤å¯†ç çš„å®‰å…¨ã€‚</li><li><strong>åŒºå—é“¾:</strong> Keccak-256æ˜¯EthereumåŒºå—é“¾ä¸­å¹¿æ³›ä½¿ç”¨çš„å“ˆå¸Œå‡½æ•°ï¼Œç”¨äºç”Ÿæˆåœ°å€å’ŒéªŒè¯äº¤æ˜“ã€‚</li><li><strong>å…¶ä»–å¯†ç å­¦åº”ç”¨:</strong> Keccakè¿˜å¯ä»¥ç”¨äºæ„å»ºæ¶ˆæ¯è®¤è¯ç ã€éšæœºæ•°ç”Ÿæˆå™¨ç­‰ã€‚</li></ul><h3 id="Keccakå’ŒSHA-3çš„å…³ç³»"><a href="#Keccakå’ŒSHA-3çš„å…³ç³»" class="headerlink" title="Keccakå’ŒSHA-3çš„å…³ç³»"></a>Keccakå’ŒSHA-3çš„å…³ç³»</h3><ul><li><strong>Keccakæ˜¯SHA-3çš„åŸºç¡€:</strong> SHA-3æ˜¯ä¸€ç³»åˆ—æ•£åˆ—å‡½æ•°çš„ç»Ÿç§°ï¼Œè€ŒKeccakæ˜¯è¿™äº›å‡½æ•°çš„åº•å±‚ç®—æ³•ã€‚</li><li><strong>SHA-3çš„æ ‡å‡†åŒ–:</strong> åœ¨SHA-3æ ‡å‡†åŒ–è¿‡ç¨‹ä¸­ï¼ŒNISTå¯¹Keccakè¿›è¡Œäº†å¾®å°çš„è°ƒæ•´ï¼Œä»¥æ»¡è¶³æ ‡å‡†åŒ–è¦æ±‚ã€‚</li></ul><h3 id="PHPä½¿ç”¨Sodium-Extensionæ‰©å±•å®ç°Keccakç®—æ³•"><a href="#PHPä½¿ç”¨Sodium-Extensionæ‰©å±•å®ç°Keccakç®—æ³•" class="headerlink" title="PHPä½¿ç”¨Sodium Extensionæ‰©å±•å®ç°Keccakç®—æ³•"></a>PHPä½¿ç”¨Sodium Extensionæ‰©å±•å®ç°Keccakç®—æ³•</h3><p>Sodium Extensionæ˜¯ä¸€ä¸ªPHPæ‰©å±•ï¼Œæä¾›äº†è®¸å¤šå¯†ç å­¦å‡½æ•°ï¼ŒåŒ…æ‹¬Keccakç®—æ³•çš„å®ç°ã€‚</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// ç¡®ä¿Sodium Extensionå·²å®‰è£…</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">function_exists</span>(<span class="string">'sodium_crypto_hash_sha3_256'</span>)) {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">'Sodium extension is not installed'</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$message</span> = <span class="string">"Hello, Keccak!"</span>;</span><br><span class="line"><span class="variable">$hash</span> = <span class="title function_ invoke__">sodium_crypto_hash_sha3_256</span>(<span class="variable">$message</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">bin2hex</span>(<span class="variable">$hash</span>) . <span class="string">"\n"</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Keccakç®—æ³•ä½œä¸ºSHA-3æ ‡å‡†çš„åŸºç¡€ï¼Œå…·æœ‰é«˜æ•ˆã€å®‰å…¨ã€çµæ´»çš„ç‰¹ç‚¹ã€‚å®ƒçš„æµ·ç»µç»“æ„ä½¿å¾—å®ƒå¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„æ¶ˆæ¯ï¼Œå¹¶ä¸”åœ¨å¯†ç å­¦é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚éšç€åŒºå—é“¾æŠ€æœ¯çš„å…´èµ·ï¼ŒKeccak-256æ›´æ˜¯æˆä¸ºäº†ä¸€ä¸ªå¤‡å—å…³æ³¨çš„å“ˆå¸Œå‡½æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> Keccakç®—æ³• </tag>
            
            <tag> SHA-3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½©è™¹è¡¨æ”»å‡»</title>
      <link href="/posts/rainbow-table-attack.html"/>
      <url>/posts/rainbow-table-attack.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯å½©è™¹è¡¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å½©è™¹è¡¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å½©è™¹è¡¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å½©è™¹è¡¨ï¼Ÿ</h3><p>å½©è™¹è¡¨æ˜¯ä¸€ç§é¢„å…ˆè®¡ç®—å¥½çš„å“ˆå¸Œå€¼è¡¨ã€‚å®ƒé€šè¿‡å¯¹å¤§é‡çš„å¯†ç è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ç»“æ„ä¸­ï¼Œä»è€ŒåŠ é€Ÿå¯†ç ç ´è§£è¿‡ç¨‹ã€‚</p><h3 id="å½©è™¹è¡¨çš„åŸºæœ¬ç»“æ„"><a href="#å½©è™¹è¡¨çš„åŸºæœ¬ç»“æ„" class="headerlink" title="å½©è™¹è¡¨çš„åŸºæœ¬ç»“æ„"></a>å½©è™¹è¡¨çš„åŸºæœ¬ç»“æ„</h3><ul><li><strong>é“¾æ¡ï¼š</strong> å½©è™¹è¡¨ç”±è®¸å¤šé“¾æ¡ç»„æˆï¼Œæ¯æ¡é“¾æ¡åŒ…å«å¤šä¸ªå“ˆå¸Œå€¼ã€‚</li><li><strong>å½’çº¦å‡½æ•°ï¼š</strong> ä¸€ä¸ªç”¨äºå°†å“ˆå¸Œå€¼ç¼©å‡ä¸ºæ›´çŸ­çš„å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚</li><li><strong>èµ·å§‹ç‚¹ï¼š</strong> æ¯æ¡é“¾æ¡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„èµ·å§‹ç‚¹ã€‚</li></ul><h3 id="å½©è™¹è¡¨çš„ç”Ÿæˆè¿‡ç¨‹"><a href="#å½©è™¹è¡¨çš„ç”Ÿæˆè¿‡ç¨‹" class="headerlink" title="å½©è™¹è¡¨çš„ç”Ÿæˆè¿‡ç¨‹"></a>å½©è™¹è¡¨çš„ç”Ÿæˆè¿‡ç¨‹</h3><ol><li><strong>é€‰æ‹©ä¸€ä¸ªèµ·å§‹å¯†ç ï¼š</strong> éšæœºé€‰æ‹©ä¸€ä¸ªå¯†ç ä½œä¸ºèµ·å§‹ç‚¹ã€‚</li><li><strong>è®¡ç®—å“ˆå¸Œå€¼ï¼š</strong> å¯¹èµ·å§‹å¯†ç è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œå¾—åˆ°ç¬¬ä¸€ä¸ªå“ˆå¸Œå€¼ã€‚</li><li><strong>åº”ç”¨å½’çº¦å‡½æ•°ï¼š</strong> å°†å¾—åˆ°çš„å“ˆå¸Œå€¼åº”ç”¨å½’çº¦å‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å€¼ã€‚</li><li><strong>é‡å¤æ­¥éª¤2å’Œ3ï¼š</strong> é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°é“¾æ¡è¾¾åˆ°é¢„è®¾çš„é•¿åº¦ã€‚</li><li><strong>é‡å¤æ­¥éª¤1-4ï¼š</strong> ç”Ÿæˆå¤§é‡çš„é“¾æ¡ï¼Œæ„æˆå½©è™¹è¡¨ã€‚</li></ol><h3 id="å½©è™¹è¡¨æ”»å‡»åŸç†"><a href="#å½©è™¹è¡¨æ”»å‡»åŸç†" class="headerlink" title="å½©è™¹è¡¨æ”»å‡»åŸç†"></a>å½©è™¹è¡¨æ”»å‡»åŸç†</h3><p>å½“æ”»å‡»è€…è·å¾—ä¸€ä¸ªå“ˆå¸Œå€¼æ—¶ï¼Œä»–ä¼šï¼š</p><ol><li><strong>æŸ¥æ‰¾å½©è™¹è¡¨ï¼š</strong> åœ¨å½©è™¹è¡¨ä¸­æ‰¾åˆ°ä¸ç›®æ ‡å“ˆå¸Œå€¼æœ€æ¥è¿‘çš„å“ˆå¸Œå€¼ã€‚</li><li><strong>å›æº¯ï¼š</strong> ä»æ‰¾åˆ°çš„å“ˆå¸Œå€¼å¼€å§‹ï¼Œé€†å‘åº”ç”¨å½’çº¦å‡½æ•°å’Œå“ˆå¸Œå‡½æ•°ï¼Œç›´åˆ°æ‰¾åˆ°å¯¹åº”çš„å¯†ç ã€‚</li></ol><p>å¦‚æœæ”»å‡»è€…å¹¸è¿ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å¿«é€Ÿç ´è§£å¯†ç ã€‚</p><h3 id="å½©è™¹è¡¨æ”»å‡»çš„ä¼˜ç¼ºç‚¹"><a href="#å½©è™¹è¡¨æ”»å‡»çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å½©è™¹è¡¨æ”»å‡»çš„ä¼˜ç¼ºç‚¹"></a>å½©è™¹è¡¨æ”»å‡»çš„ä¼˜ç¼ºç‚¹</h3><ul><li><strong>ä¼˜ç‚¹ï¼š</strong><ul><li><strong>é€Ÿåº¦å¿«ï¼š</strong> ç›¸æ¯”æš´åŠ›ç ´è§£ï¼Œå½©è™¹è¡¨æ”»å‡»é€Ÿåº¦æ›´å¿«ã€‚</li><li><strong>å­˜å‚¨ç©ºé—´ç›¸å¯¹è¾ƒå°ï¼š</strong> é€šè¿‡ä½¿ç”¨å½’çº¦å‡½æ•°ï¼Œå¯ä»¥å‡å°‘å­˜å‚¨ç©ºé—´ã€‚</li></ul></li><li><strong>ç¼ºç‚¹ï¼š</strong><ul><li><strong>é’ˆå¯¹æ€§è¾ƒå¼ºï¼š</strong> å½©è™¹è¡¨é’ˆå¯¹ç‰¹å®šçš„å“ˆå¸Œå‡½æ•°å’Œå¯†ç é•¿åº¦ã€‚</li><li><strong>å®¹æ˜“è¢«æ£€æµ‹ï¼š</strong> å¤§è§„æ¨¡çš„å½©è™¹è¡¨ç”Ÿæˆå’ŒæŸ¥è¯¢ä¼šå¼•èµ·æ³¨æ„ã€‚</li></ul></li></ul><h3 id="é˜²å¾¡å½©è™¹è¡¨æ”»å‡»"><a href="#é˜²å¾¡å½©è™¹è¡¨æ”»å‡»" class="headerlink" title="é˜²å¾¡å½©è™¹è¡¨æ”»å‡»"></a>é˜²å¾¡å½©è™¹è¡¨æ”»å‡»</h3><ul><li><strong>ä½¿ç”¨å¼ºæ•£åˆ—ç®—æ³•ï¼š</strong> é€‰æ‹©æŠ—ç¢°æ’æ€§å¼ºçš„æ•£åˆ—ç®—æ³•ï¼Œå¦‚SHA-256ã€SHA-3ç­‰ã€‚</li><li><strong>åŠ ç›ï¼š</strong> åœ¨å¯†ç å“ˆå¸Œè¿‡ç¨‹ä¸­æ·»åŠ éšæœºçš„ç›å€¼ï¼Œå¯ä»¥å¢åŠ ç ´è§£éš¾åº¦ã€‚</li><li><strong>æé«˜å¯†ç å¤æ‚åº¦ï¼š</strong> å¼ºåˆ¶ç”¨æˆ·ä½¿ç”¨æ›´å¤æ‚çš„å¯†ç ï¼Œå¢åŠ ç ´è§£éš¾åº¦ã€‚</li><li><strong>é™åˆ¶ç™»å½•å°è¯•æ¬¡æ•°ï¼š</strong> é™åˆ¶ç”¨æˆ·åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡å°è¯•ç™»å½•ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»ã€‚</li><li><strong>å¤šå› ç´ è®¤è¯ï¼š</strong> é™¤äº†å¯†ç ï¼Œè¿˜å¯ä»¥ç»“åˆå…¶ä»–è®¤è¯æ–¹å¼ï¼Œå¦‚æŒ‡çº¹ã€é¢éƒ¨è¯†åˆ«ç­‰ã€‚</li></ul><h3 id="å½©è™¹è¡¨ä¸ç”Ÿæ—¥æ”»å‡»çš„åŒºåˆ«"><a href="#å½©è™¹è¡¨ä¸ç”Ÿæ—¥æ”»å‡»çš„åŒºåˆ«" class="headerlink" title="å½©è™¹è¡¨ä¸ç”Ÿæ—¥æ”»å‡»çš„åŒºåˆ«"></a>å½©è™¹è¡¨ä¸ç”Ÿæ—¥æ”»å‡»çš„åŒºåˆ«</h3><ul><li><strong><a href="birthday-attack.html" target="_blank">ç”Ÿæ—¥æ”»å‡»</a></strong>ï¼šé€šè¿‡è®¡ç®—å¤§é‡çš„å“ˆå¸Œå€¼ï¼Œå¯»æ‰¾ä¸¤ä¸ªä¸åŒçš„è¾“å…¥äº§ç”Ÿç›¸åŒå“ˆå¸Œå€¼çš„ç¢°æ’ã€‚</li><li><strong>å½©è™¹è¡¨æ”»å‡»</strong>ï¼šåˆ©ç”¨é¢„å…ˆè®¡ç®—å¥½çš„å“ˆå¸Œè¡¨ï¼ŒåŠ é€Ÿå¯†ç ç ´è§£è¿‡ç¨‹ã€‚</li></ul><p>ä¸¤è€…éƒ½æ˜¯é’ˆå¯¹å“ˆå¸Œå‡½æ•°çš„æ”»å‡»æ–¹å¼ï¼Œä½†ç”Ÿæ—¥æ”»å‡»æ›´ä¾§é‡äºå¯»æ‰¾ç¢°æ’ï¼Œè€Œå½©è™¹è¡¨æ”»å‡»æ›´ä¾§é‡äºåŠ é€Ÿç ´è§£è¿‡ç¨‹ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å½©è™¹è¡¨æ”»å‡»æ˜¯ä¸€ç§å¸¸è§çš„å¯†ç ç ´è§£æ‰‹æ®µï¼Œäº†è§£å…¶åŸç†å’Œé˜²å¾¡æ–¹æ³•å¯¹äºä¿éšœä¿¡æ¯å®‰å…¨éå¸¸é‡è¦ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”ç»¼åˆè€ƒè™‘å¤šç§é˜²æŠ¤æªæ–½ï¼Œä»¥æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> å½©è™¹è¡¨ </tag>
            
            <tag> æ”»å‡» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£ç”Ÿæ—¥æ”»å‡»</title>
      <link href="/posts/birthday-attack.html"/>
      <url>/posts/birthday-attack.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ç”Ÿæ—¥æ”»å‡»çš„æœ¬è´¨"><a href="#ç”Ÿæ—¥æ”»å‡»çš„æœ¬è´¨" class="headerlink" title="ç”Ÿæ—¥æ”»å‡»çš„æœ¬è´¨"></a>ç”Ÿæ—¥æ”»å‡»çš„æœ¬è´¨</h3><p><strong>ç”Ÿæ—¥æ”»å‡»</strong>ï¼Œé¡¾åæ€ä¹‰ï¼Œæºè‡ªä¸€ä¸ªçœ‹ä¼¼æ‚–è®ºçš„æ¦‚ç‡é—®é¢˜ï¼šåœ¨ä¸€ä¸ªç­çº§é‡Œï¼Œéœ€è¦å¤šå°‘äººæ‰èƒ½ä¿è¯è‡³å°‘ä¸¤ä¸ªäººç”Ÿæ—¥ç›¸åŒï¼Ÿç­”æ¡ˆå‡ºä¹æ„æ–™åœ°å°ã€‚è¿™æ­£æ˜¯ç”Ÿæ—¥æ”»å‡»çš„æ•°å­¦åŸºç¡€ã€‚</p><p><strong>åœ¨å¯†ç å­¦ä¸­ï¼Œç”Ÿæ—¥æ”»å‡»åˆ©ç”¨äº†ä»¥ä¸‹åŸç†ï¼š</strong></p><ul><li><strong>æœ‰é™çš„å“ˆå¸Œå€¼ç©ºé—´ï¼š</strong> ä»»ä½•å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºéƒ½æ˜¯æœ‰é™çš„ã€‚</li><li><strong>æ¦‚ç‡è®ºï¼š</strong> éšç€è¾“å…¥æ•°æ®çš„å¢åŠ ï¼Œäº§ç”Ÿç¢°æ’çš„æ¦‚ç‡ä¼šè¿…é€Ÿä¸Šå‡ã€‚</li></ul><p><strong>æ”»å‡»è¿‡ç¨‹ï¼š</strong></p><ol><li><strong>ç”Ÿæˆéšæœºæ•°æ®ï¼š</strong> æ”»å‡»è€…ç”Ÿæˆå¤§é‡çš„éšæœºæ•°æ®ã€‚</li><li><strong>è®¡ç®—å“ˆå¸Œå€¼ï¼š</strong> å¯¹æ¯ä¸ªéšæœºæ•°æ®è®¡ç®—å“ˆå¸Œå€¼ã€‚</li><li><strong>æŸ¥æ‰¾ç¢°æ’ï¼š</strong> å¦‚æœæ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„æ•°æ®å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œåˆ™ç¢°æ’å‘ç”Ÿã€‚</li></ol><h3 id="ç”Ÿæ—¥æ”»å‡»çš„å±å®³"><a href="#ç”Ÿæ—¥æ”»å‡»çš„å±å®³" class="headerlink" title="ç”Ÿæ—¥æ”»å‡»çš„å±å®³"></a>ç”Ÿæ—¥æ”»å‡»çš„å±å®³</h3><ul><li><strong>å¯†ç ç ´è§£ï¼š</strong> æ”»å‡»è€…å¯ä»¥é€šè¿‡ç”Ÿæ—¥æ”»å‡»ï¼Œå¿«é€Ÿæ‰¾åˆ°ä¸ç›®æ ‡å¯†ç å“ˆå¸Œå€¼ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œä»è€Œç ´è§£å¯†ç ã€‚</li><li><strong>æ•°å­—ç­¾åä¼ªé€ ï¼š</strong> æ”»å‡»è€…å¯ä»¥æ‰¾åˆ°ä¸¤ä¸ªå…·æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„æ–‡ä»¶ï¼Œç„¶åç”¨ä¼ªé€ çš„æ–‡ä»¶æ›¿æ¢åŸæ–‡ä»¶ï¼Œä»è€Œä¼ªé€ æ•°å­—ç­¾åã€‚</li><li><strong>æ¶ˆæ¯è®¤è¯ç ç ´è§£ï¼š</strong> æ”»å‡»è€…å¯ä»¥é€šè¿‡ç”Ÿæ—¥æ”»å‡»ï¼Œæ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„æ¶ˆæ¯ï¼Œå®ƒä»¬çš„HMACå€¼ç›¸åŒï¼Œä»è€Œä¼ªé€ æ¶ˆæ¯ã€‚</li><li><strong>éšæœºæ•°ç”Ÿæˆå™¨æ”»å‡»ï¼š</strong> æ”»å‡»è€…å¯ä»¥é€šè¿‡ç”Ÿæ—¥æ”»å‡»ï¼Œæ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„ç§å­ï¼Œç”Ÿæˆç›¸åŒçš„éšæœºæ•°åºåˆ—ã€‚</li><li><strong>å†²çªæ£€æµ‹åè®®æ”»å‡»ï¼š</strong> åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”Ÿæ—¥æ”»å‡»å¯ä»¥ç”¨æ¥åˆ¶é€ å†²çªï¼Œç ´åç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œã€‚</li><li><strong>å…¶ä»–åŠ å¯†ç³»ç»Ÿæ”»å‡»ï¼š</strong> ç”Ÿæ—¥æ”»å‡»å¯ä»¥åº”ç”¨äºè®¸å¤šå…¶ä»–åŠ å¯†ç³»ç»Ÿï¼Œå¯¹ç³»ç»Ÿçš„å®‰å…¨æ€§é€ æˆå¨èƒã€‚</li></ul><h3 id="å¦‚ä½•é˜²å¾¡ç”Ÿæ—¥æ”»å‡»"><a href="#å¦‚ä½•é˜²å¾¡ç”Ÿæ—¥æ”»å‡»" class="headerlink" title="å¦‚ä½•é˜²å¾¡ç”Ÿæ—¥æ”»å‡»"></a>å¦‚ä½•é˜²å¾¡ç”Ÿæ—¥æ”»å‡»</h3><ul><li><strong>é€‰æ‹©è¶³å¤Ÿé•¿çš„å“ˆå¸Œå€¼ï¼š</strong> å“ˆå¸Œå€¼è¶Šé•¿ï¼Œç¢°æ’å‘ç”Ÿçš„æ¦‚ç‡å°±è¶Šä½ã€‚</li><li><strong>ä½¿ç”¨æ›´å¼ºçš„å“ˆå¸Œç®—æ³•ï¼š</strong> å¥½çš„å“ˆå¸Œç®—æ³•å…·æœ‰æ›´å¥½çš„æŠ—ç¢°æ’æ€§ã€‚</li><li><strong>ç›å€¼ï¼š</strong> åœ¨å¯†ç å“ˆå¸Œè¿‡ç¨‹ä¸­æ·»åŠ éšæœºçš„ç›å€¼ï¼Œå¯ä»¥å¢åŠ ç ´è§£éš¾åº¦ã€‚</li><li><strong>HMACï¼š</strong> ä½¿ç”¨HMACï¼ˆHash-based Message Authentication Codeï¼‰å¯ä»¥é˜²æ­¢æ¶ˆæ¯è¢«ç¯¡æ”¹ã€‚</li><li><strong>é™åˆ¶é‡è¯•æ¬¡æ•°ï¼š</strong> å¯¹å¯†ç è¾“å…¥æ¬¡æ•°è¿›è¡Œé™åˆ¶ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»ã€‚</li></ul><h3 id="ç”Ÿæ—¥æ”»å‡»ä¸å…¶ä»–æ”»å‡»çš„åŒºåˆ«"><a href="#ç”Ÿæ—¥æ”»å‡»ä¸å…¶ä»–æ”»å‡»çš„åŒºåˆ«" class="headerlink" title="ç”Ÿæ—¥æ”»å‡»ä¸å…¶ä»–æ”»å‡»çš„åŒºåˆ«"></a>ç”Ÿæ—¥æ”»å‡»ä¸å…¶ä»–æ”»å‡»çš„åŒºåˆ«</h3><ul><li><strong>ç”Ÿæ—¥æ”»å‡»</strong>ï¼šåˆ©ç”¨æ•°å­¦æ¦‚ç‡ï¼Œå¯»æ‰¾å“ˆå¸Œç¢°æ’ã€‚</li><li><strong>è›®åŠ›æ”»å‡»</strong>ï¼šç©·ä¸¾æ‰€æœ‰å¯èƒ½çš„å¯†ç æˆ–å¯†é’¥ã€‚</li><li><strong>å­—å…¸æ”»å‡»</strong>ï¼šåˆ©ç”¨é¢„å…ˆè®¡ç®—å¥½çš„å¯†ç è¡¨è¿›è¡Œç ´è§£ã€‚</li></ul><p>ç”Ÿæ—¥æ”»å‡»ç›¸è¾ƒäºè›®åŠ›æ”»å‡»ï¼Œå…¶æˆåŠŸç‡æ›´é«˜ï¼Œæ‰€éœ€æ—¶é—´æ›´çŸ­</p><h3 id="å¦‚ä½•è®¡ç®—ç”Ÿæ—¥æ”»å‡»æ‰€éœ€çš„è®¡ç®—é‡"><a href="#å¦‚ä½•è®¡ç®—ç”Ÿæ—¥æ”»å‡»æ‰€éœ€çš„è®¡ç®—é‡" class="headerlink" title="å¦‚ä½•è®¡ç®—ç”Ÿæ—¥æ”»å‡»æ‰€éœ€çš„è®¡ç®—é‡"></a>å¦‚ä½•è®¡ç®—ç”Ÿæ—¥æ”»å‡»æ‰€éœ€çš„è®¡ç®—é‡</h3><p>ç”Ÿæ—¥æ”»å‡»çš„è®¡ç®—é‡é€šå¸¸ç”¨ <strong>ç”Ÿæ—¥æ‚–è®º</strong> æ¥ä¼°ç®—ã€‚æ ¹æ®ç”Ÿæ—¥æ‚–è®ºï¼Œåœ¨ä¸€ä¸ªæœ‰nä¸ªäººçš„æˆ¿é—´é‡Œï¼Œä¸¤ä¸ªäººç”Ÿæ—¥ç›¸åŒçš„æ¦‚ç‡å¤§çº¦ä¸ºï¼š</p><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">P</span>(ç¢°æ’) â‰ˆ <span class="number">1</span> - e^(-n^<span class="number">2</span> / <span class="number">2</span>N)</span><br></pre></td></tr></tbody></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>n</code>: éœ€è¦è®¡ç®—çš„å“ˆå¸Œå€¼æ•°é‡</li><li><code>N</code>: å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºç©ºé—´å¤§å°</li></ul><p><strong>è®¡ç®—æ­¥éª¤ï¼š</strong></p><ol><li><strong>ç¡®å®šå“ˆå¸Œå‡½æ•°çš„è¾“å‡ºé•¿åº¦ï¼š</strong> è¿™å†³å®šäº†å“ˆå¸Œå€¼ç©ºé—´çš„å¤§å°Nã€‚</li><li><strong>è®¾å®šç¢°æ’æ¦‚ç‡ï¼š</strong> é€šå¸¸é€‰æ‹©ä¸€ä¸ªè¾ƒå°çš„æ¦‚ç‡ï¼Œä¾‹å¦‚50%ã€‚</li><li><strong>åˆ©ç”¨å…¬å¼è®¡ç®—nï¼š</strong> å°†è®¾å®šçš„æ¦‚ç‡ä»£å…¥å…¬å¼ï¼Œè§£å‡ºnçš„å€¼ï¼Œå³ä¸ºéœ€è¦è®¡ç®—çš„å“ˆå¸Œå€¼æ•°é‡ã€‚</li></ol><p><strong>å½±å“è®¡ç®—é‡çš„å› ç´ ï¼š</strong></p><ul><li><strong>å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºé•¿åº¦ï¼š</strong> è¾“å‡ºé•¿åº¦è¶Šé•¿ï¼Œç¢°æ’æ¦‚ç‡è¶Šä½ï¼Œéœ€è¦çš„è®¡ç®—é‡è¶Šå¤§ã€‚</li><li><strong>æ‰€éœ€çš„ç¢°æ’æ¦‚ç‡ï¼š</strong> ç¢°æ’æ¦‚ç‡è¶Šä½ï¼Œéœ€è¦çš„è®¡ç®—é‡è¶Šå¤§ã€‚</li><li><strong>ç¡¬ä»¶æ€§èƒ½ï¼š</strong> è®¡ç®—èƒ½åŠ›è¶Šå¼ºï¼Œå®Œæˆæ”»å‡»æ‰€éœ€çš„æ—¶é—´è¶ŠçŸ­ã€‚</li></ul><h3 id="å¦‚ä½•é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°æ¥æŠµå¾¡ç”Ÿæ—¥æ”»å‡»"><a href="#å¦‚ä½•é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°æ¥æŠµå¾¡ç”Ÿæ—¥æ”»å‡»" class="headerlink" title="å¦‚ä½•é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°æ¥æŠµå¾¡ç”Ÿæ—¥æ”»å‡»"></a>å¦‚ä½•é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°æ¥æŠµå¾¡ç”Ÿæ—¥æ”»å‡»</h3><p>é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°æ˜¯æŠµå¾¡ç”Ÿæ—¥æ”»å‡»çš„å…³é”®ã€‚ä¸€ä¸ªå¥½çš„å“ˆå¸Œå‡½æ•°åº”è¯¥å…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li><strong>æŠ—ç¢°æ’æ€§ï¼š</strong> å¾ˆéš¾æ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„è¾“å…¥ï¼Œäº§ç”Ÿç›¸åŒçš„å“ˆå¸Œå€¼ã€‚</li><li><strong>é›ªå´©æ•ˆåº”ï¼š</strong> è¾“å…¥çš„å¾®å°å˜åŒ–ä¼šå¯¼è‡´è¾“å‡ºçš„å·¨å¤§å˜åŒ–ã€‚</li><li><strong>å¿«é€Ÿè®¡ç®—ï¼š</strong> å“ˆå¸Œå‡½æ•°çš„è®¡ç®—æ•ˆç‡é«˜ã€‚</li></ul><p><strong>å¸¸è§çš„å“ˆå¸Œå‡½æ•°ï¼š</strong></p><ul><li><strong>SHA-256:</strong> å®‰å…¨æ€§é«˜ï¼Œå¹¿æ³›åº”ç”¨äºæ•°å­—ç­¾åå’Œå¯†ç å­˜å‚¨ã€‚</li><li><strong>SHA-3:</strong> æ–°ä¸€ä»£çš„å“ˆå¸Œå‡½æ•°ï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚</li><li><strong>Blake2:</strong> é€Ÿåº¦å¿«ï¼Œå®‰å…¨æ€§é«˜ï¼Œé€‚åˆéœ€è¦é«˜æ€§èƒ½çš„åº”ç”¨åœºæ™¯ã€‚</li></ul><p><strong>é€‰æ‹©å“ˆå¸Œå‡½æ•°çš„åŸåˆ™ï¼š</strong></p><ul><li><strong>æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©ï¼š</strong> ä¸åŒçš„åº”ç”¨åœºæ™¯å¯¹å“ˆå¸Œå‡½æ•°çš„è¦æ±‚ä¸åŒã€‚</li><li><strong>è€ƒè™‘å®‰å…¨æ€§ï¼š</strong> é€‰æ‹©ç»è¿‡å¹¿æ³›éªŒè¯çš„ã€å®‰å…¨æ€§é«˜çš„å“ˆå¸Œå‡½æ•°ã€‚</li><li><strong>è€ƒè™‘æ€§èƒ½ï¼š</strong> æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©è®¡ç®—æ•ˆç‡é«˜çš„å“ˆå¸Œå‡½æ•°ã€‚</li><li><strong>éµå¾ªæ ‡å‡†ï¼š</strong> éµå¾ªç›¸å…³çš„å®‰å…¨æ ‡å‡†å’Œè§„èŒƒã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç”Ÿæ—¥æ”»å‡»æ˜¯ä¸€ç§åˆ©ç”¨æ•°å­¦æ¦‚ç‡æ¥å¯»æ‰¾ç¢°æ’çš„æ”»å‡»æ–¹å¼ï¼Œä¹Ÿæ˜¯ä¸€ç§å¼ºå¤§çš„å¯†ç å­¦æ”»å‡»æ–¹å¼ï¼Œä½†å¯ä»¥é€šè¿‡é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°ã€å¢åŠ å“ˆå¸Œå€¼é•¿åº¦ã€ä½¿ç”¨ç›å€¼ç­‰æ–¹å¼æ¥æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚åœ¨è®¾è®¡å¯†ç ç³»ç»Ÿæ—¶ï¼Œå¿…é¡»å……åˆ†è€ƒè™‘åˆ°ç”Ÿæ—¥æ”»å‡»çš„å¨èƒï¼Œé‡‡å–ç›¸åº”çš„é˜²æŠ¤æªæ–½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> ç”Ÿæ—¥æ”»å‡» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ··æ·†æŠ€æœ¯ï¼šè®©ä»£ç å˜å¾—éš¾ä»¥ç†è§£</title>
      <link href="/posts/codes-obfuscation.html"/>
      <url>/posts/codes-obfuscation.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯æ··æ·†æŠ€æœ¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ··æ·†æŠ€æœ¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ··æ·†æŠ€æœ¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ··æ·†æŠ€æœ¯ï¼Ÿ</h3><p>æ··æ·†æŠ€æœ¯ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†è®¡ç®—æœºç¨‹åºçš„ä»£ç ï¼Œè½¬æ¢æˆä¸€ç§åŠŸèƒ½ä¸Šç­‰ä»·ï¼Œä½†æ˜¯éš¾äºé˜…è¯»å’Œç†è§£çš„å½¢å¼çš„è¡Œä¸ºã€‚æ··æ·†åçš„ä»£ç ï¼Œè™½ç„¶æ‰§è¡Œç»“æœä¸åŸä»£ç ä¸€è‡´ï¼Œä½†å…¶å†…éƒ¨é€»è¾‘å˜å¾—å¤æ‚éš¾æ‡‚ï¼Œå¢åŠ äº†é€†å‘åˆ†æçš„éš¾åº¦ï¼Œä»è€Œä¿æŠ¤ä»£ç çš„çŸ¥è¯†äº§æƒã€‚</p><h3 id="æ··æ·†æŠ€æœ¯çš„åŸç†"><a href="#æ··æ·†æŠ€æœ¯çš„åŸç†" class="headerlink" title="æ··æ·†æŠ€æœ¯çš„åŸç†"></a>æ··æ·†æŠ€æœ¯çš„åŸç†</h3><p>æ··æ·†æŠ€æœ¯ä¸»è¦é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥å®ç°ï¼š</p><ul><li><strong>åç§°æ··æ·†:</strong> å°†æœ‰æ„ä¹‰çš„ç±»åã€æ–¹æ³•åã€å˜é‡åç­‰æ›¿æ¢ä¸ºæ— æ„ä¹‰çš„åç§°ï¼Œç ´åä»£ç çš„å¯è¯»æ€§ã€‚</li><li><strong>æ§åˆ¶æµæ··æ·†:</strong> æ‰“ä¹±ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œå¢åŠ é€†å‘åˆ†æçš„éš¾åº¦ã€‚</li><li><strong>æ•°æ®æ··æ·†:</strong> å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ã€æ›¿æ¢æˆ–è€…é‡ç»„ï¼Œéšè—æ•°æ®çš„çœŸå®å«ä¹‰ã€‚</li><li><strong>å­—ç¬¦ä¸²åŠ å¯†:</strong> å¯¹å­—ç¬¦ä¸²è¿›è¡ŒåŠ å¯†ï¼Œé˜²æ­¢ç›´æ¥ä»ä»£ç ä¸­è·å–æ•æ„Ÿä¿¡æ¯ã€‚</li><li><strong>è™šå‡ä»£ç æ’å…¥:</strong> æ’å…¥ä¸€äº›æ— ç”¨çš„ä»£ç ï¼Œå¹²æ‰°é€†å‘åˆ†æã€‚</li></ul><h3 id="æ··æ·†æŠ€æœ¯çš„åº”ç”¨åœºæ™¯"><a href="#æ··æ·†æŠ€æœ¯çš„åº”ç”¨åœºæ™¯" class="headerlink" title="æ··æ·†æŠ€æœ¯çš„åº”ç”¨åœºæ™¯"></a>æ··æ·†æŠ€æœ¯çš„åº”ç”¨åœºæ™¯</h3><p>æ··æ·†æŠ€æœ¯ä¸»è¦åº”ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ul><li><strong>ä¿æŠ¤è½¯ä»¶ç‰ˆæƒ:</strong> é˜²æ­¢è½¯ä»¶è¢«éæ³•ç ´è§£ã€ä¿®æ”¹ã€‚</li><li><strong>ä¿æŠ¤å•†ä¸šç§˜å¯†:</strong> éšè—è½¯ä»¶çš„æ ¸å¿ƒç®—æ³•å’Œé€»è¾‘ã€‚</li><li><strong>å¢åŠ é€†å‘åˆ†æéš¾åº¦:</strong> æé«˜è½¯ä»¶çš„å®‰å…¨æ€§ã€‚</li></ul><h3 id="æ··æ·†æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹"><a href="#æ··æ·†æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="æ··æ·†æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹"></a>æ··æ·†æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹</h3><p><strong>ä¼˜ç‚¹:</strong></p><ul><li><strong>ä¿æŠ¤çŸ¥è¯†äº§æƒ:</strong> æé«˜è½¯ä»¶è¢«ç ´è§£çš„éš¾åº¦ã€‚</li><li><strong>å¢åŠ å®‰å…¨æ€§:</strong> é™ä½è½¯ä»¶è¢«æ¶æ„æ”»å‡»çš„é£é™©ã€‚</li><li><strong>ä¿æŠ¤å•†ä¸šç§˜å¯†:</strong> éšè—è½¯ä»¶çš„æ ¸å¿ƒç®—æ³•å’Œé€»è¾‘ã€‚</li></ul><p><strong>ç¼ºç‚¹:</strong></p><ul><li><strong>æ€§èƒ½æŸè€—:</strong> æ··æ·†åçš„ä»£ç å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ç•¥å¾®ä¸‹é™ã€‚</li><li><strong>è°ƒè¯•å›°éš¾:</strong> æ··æ·†åçš„ä»£ç éš¾ä»¥è°ƒè¯•ã€‚</li><li><strong>ä¸å®Œå…¨å®‰å…¨:</strong> æ··æ·†æŠ€æœ¯å¹¶ä¸èƒ½å®Œå…¨é˜»æ­¢é€†å‘å·¥ç¨‹ï¼Œåªæ˜¯å¢åŠ äº†éš¾åº¦ã€‚</li></ul><h3 id="å¸¸ç”¨çš„æ··æ·†å·¥å…·"><a href="#å¸¸ç”¨çš„æ··æ·†å·¥å…·" class="headerlink" title="å¸¸ç”¨çš„æ··æ·†å·¥å…·"></a>å¸¸ç”¨çš„æ··æ·†å·¥å…·</h3><ul><li><strong>Java:</strong> ProGuardã€yGuard</li><li><strong>.NET:</strong> Dotfuscator</li><li><strong>C/C++:</strong> LLVMã€ConfuserEx</li></ul><h3 id="æ··æ·†æŠ€æœ¯çš„æ³¨æ„äº‹é¡¹"><a href="#æ··æ·†æŠ€æœ¯çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="æ··æ·†æŠ€æœ¯çš„æ³¨æ„äº‹é¡¹"></a>æ··æ·†æŠ€æœ¯çš„æ³¨æ„äº‹é¡¹</h3><ul><li><strong>æ··æ·†ä¸èƒ½å®Œå…¨æ›¿ä»£å…¶ä»–å®‰å…¨æªæ–½:</strong> æ··æ·†æŠ€æœ¯åªæ˜¯å®‰å…¨é˜²æŠ¤ä½“ç³»çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦ç»“åˆå…¶ä»–å®‰å…¨æªæ–½ï¼Œå¦‚åŠ å¯†ã€æˆæƒç­‰ã€‚</li><li><strong>æ··æ·†ä¼šå½±å“è°ƒè¯•:</strong> æ··æ·†åçš„ä»£ç éš¾ä»¥è°ƒè¯•ï¼Œå› æ­¤åœ¨å¼€å‘é˜¶æ®µåº”é¿å…è¿‡æ—©æ··æ·†ã€‚</li><li><strong>æ··æ·†çš„ç¨‹åº¦éœ€è¦æƒè¡¡:</strong> æ··æ·†ç¨‹åº¦è¿‡é«˜ä¼šå½±å“æ€§èƒ½ï¼Œè¿‡ä½åˆ™ä¿æŠ¤æ•ˆæœä¸ä½³ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ··æ·†æŠ€æœ¯æ˜¯ä¸€ç§æœ‰æ•ˆçš„ä¿æŠ¤ä»£ç å®‰å…¨æ€§çš„æ‰‹æ®µï¼Œä½†å®ƒå¹¶ä¸æ˜¯ä¸‡èƒ½çš„ã€‚åœ¨é€‰æ‹©å’Œä½¿ç”¨æ··æ·†æŠ€æœ¯æ—¶ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘å„ç§å› ç´ ï¼Œé€‰æ‹©é€‚åˆè‡ªå·±é¡¹ç›®çš„æ··æ·†å·¥å…·å’Œæ–¹æ¡ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä»£ç  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ··æ·†æŠ€æœ¯ </tag>
            
            <tag> ä»£ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Argon2ï¼šå¯†ç å“ˆå¸Œçš„æ–°æ˜Ÿ</title>
      <link href="/posts/argon2.html"/>
      <url>/posts/argon2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯-Argon2ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Argon2ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Argon2ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Argon2ï¼Ÿ</h3><p>Argon2 æ˜¯åœ¨ 2015 å¹´å¯†ç å“ˆå¸Œç«èµ›ä¸­èƒœå‡ºçš„å¯†é’¥æ¨å¯¼å‡½æ•° (KDF)ã€‚å®ƒè¢«è®¾è®¡ä¸ºä¸€ç§é«˜æ•ˆã€å®‰å…¨ä¸”å¯æŠµæŠ—å„ç§æ”»å‡»çš„å¯†ç å“ˆå¸Œç®—æ³•ã€‚ç›¸è¾ƒäºä¹‹å‰çš„ç®—æ³•ï¼ˆå¦‚ bcryptï¼‰ï¼ŒArgon2 åœ¨å®‰å…¨æ€§ã€æ€§èƒ½å’Œçµæ´»æ€§æ–¹é¢éƒ½æœ‰æ˜¾è‘—æå‡ã€‚</p><h3 id="Argon2-çš„ä¼˜åŠ¿"><a href="#Argon2-çš„ä¼˜åŠ¿" class="headerlink" title="Argon2 çš„ä¼˜åŠ¿"></a>Argon2 çš„ä¼˜åŠ¿</h3><ul><li><strong>å®‰å…¨æ€§é«˜ï¼š</strong> Argon2 çš„è®¾è®¡ç›®æ ‡æ˜¯æœ€å¤§ç¨‹åº¦åœ°æŠµæŠ—å„ç§æ”»å‡»ï¼ŒåŒ…æ‹¬æš´åŠ›ç ´è§£ã€å½©è™¹è¡¨æ”»å‡»ã€æ—¶é—´-å†…å­˜æƒè¡¡æ”»å‡»ç­‰ã€‚</li><li><strong>æ€§èƒ½ä¼˜å¼‚ï¼š</strong> Argon2 ç®—æ³•åœ¨å¹¶è¡Œè®¡ç®—æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ç°ä»£å¤šæ ¸å¤„ç†å™¨å’Œ GPU çš„è®¡ç®—èƒ½åŠ›ã€‚</li><li><strong>çµæ´»æ€§å¼ºï¼š</strong> Argon2 æä¾›äº†å¤šç§å‚æ•°é…ç½®é€‰é¡¹ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„åº”ç”¨åœºæ™¯è°ƒæ•´ç®—æ³•çš„å¼ºåº¦å’Œæ€§èƒ½ã€‚</li><li><strong>é€‚åº”æ€§å¥½ï¼š</strong> Argon2 ç®—æ³•èƒ½å¤Ÿé€‚åº”ä¸æ–­å˜åŒ–çš„ç¡¬ä»¶ç¯å¢ƒï¼Œéšç€ç¡¬ä»¶æ€§èƒ½çš„æå‡ï¼Œå¯ä»¥é€šè¿‡å¢åŠ è®¡ç®—æˆæœ¬æ¥æé«˜å®‰å…¨æ€§ã€‚</li></ul><h3 id="Argon2-çš„ç‰ˆæœ¬"><a href="#Argon2-çš„ç‰ˆæœ¬" class="headerlink" title="Argon2 çš„ç‰ˆæœ¬"></a>Argon2 çš„ç‰ˆæœ¬</h3><p>Argon2 ä¸»è¦æœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼š</p><ul><li><strong>Argon2dï¼š</strong> ä¸“é—¨é’ˆå¯¹ GPU æ”»å‡»è¿›è¡Œä¼˜åŒ–ï¼Œé€šè¿‡éšæœºå†…å­˜è®¿é—®æ¥å¢åŠ æ”»å‡»éš¾åº¦ã€‚</li><li><strong>Argon2iï¼š</strong> é’ˆå¯¹ä¾§ä¿¡é“æ”»å‡»è¿›è¡Œäº†ä¼˜åŒ–ï¼Œé€šè¿‡å¼•å…¥é¢å¤–çš„éšæœºæ€§æ¥æé«˜å®‰å…¨æ€§ã€‚</li><li><strong>Argon2idï¼š</strong> ç»“åˆäº† Argon2d å’Œ Argon2i çš„ä¼˜ç‚¹ï¼Œæä¾›äº†ä¸€ç§å¹³è¡¡çš„è§£å†³æ–¹æ¡ˆã€‚</li></ul><h3 id="Argon2-çš„å·¥ä½œåŸç†"><a href="#Argon2-çš„å·¥ä½œåŸç†" class="headerlink" title="Argon2 çš„å·¥ä½œåŸç†"></a>Argon2 çš„å·¥ä½œåŸç†</h3><p>Argon2 çš„å·¥ä½œåŸç†ç›¸å¯¹å¤æ‚ï¼Œæ¶‰åŠåˆ°å¤šä¸ªæ­¥éª¤å’Œå‚æ•°ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒé€šè¿‡ä¸æ–­è¿­ä»£çš„æ–¹å¼ï¼Œå°†è¾“å…¥çš„å¯†ç ã€ç›å€¼å’Œä¸€äº›éšæœºæ•°æ®æ··åˆåœ¨ä¸€èµ·ï¼Œç”Ÿæˆä¸€ä¸ªå›ºå®šé•¿åº¦çš„å“ˆå¸Œå€¼ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å•å‘çš„ï¼Œå³æ— æ³•ä»å“ˆå¸Œå€¼åæ¨å‡ºåŸå§‹å¯†ç ã€‚</p><h3 id="Argon2-çš„åº”ç”¨åœºæ™¯"><a href="#Argon2-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="Argon2 çš„åº”ç”¨åœºæ™¯"></a>Argon2 çš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>å¯†ç å­˜å‚¨ï¼š</strong> ç”¨äºå­˜å‚¨ç”¨æˆ·å¯†ç çš„å“ˆå¸Œå€¼ï¼Œé˜²æ­¢å¯†ç æ³„éœ²ã€‚</li><li><strong>å¯†é’¥æ´¾ç”Ÿï¼š</strong> ç”¨äºä»å¯†ç æˆ–å…¶ä»–å¯†é’¥æ´¾ç”Ÿå‡ºæ–°çš„å¯†é’¥ã€‚</li><li><strong>æ•°æ®åŠ å¯†ï¼š</strong> ç”¨äºåŠ å¯†æ•æ„Ÿæ•°æ®ï¼Œæé«˜æ•°æ®å®‰å…¨æ€§ã€‚</li></ul><h3 id="å¦‚ä½•ä½¿ç”¨-Argon2"><a href="#å¦‚ä½•ä½¿ç”¨-Argon2" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ Argon2"></a>å¦‚ä½•ä½¿ç”¨ Argon2</h3><p>è®¸å¤šç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶éƒ½æä¾›äº†å¯¹ Argon2 çš„æ”¯æŒã€‚ä¾‹å¦‚ï¼Œåœ¨ PHP ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>password_hash()</code> å‡½æ•°æ¥ç”Ÿæˆ Argon2 å“ˆå¸Œå€¼ã€‚</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// ç”Ÿæˆ Argon2 å“ˆå¸Œ</span></span><br><span class="line"><span class="variable">$password</span> = <span class="string">'mypassword'</span>;</span><br><span class="line"><span class="variable">$options</span> = [</span><br><span class="line">    <span class="string">'cost'</span> =&gt; <span class="number">13</span>, <span class="comment">// è°ƒæ•´æˆæœ¬å‚æ•°ï¼Œå€¼è¶Šå¤§ï¼Œè®¡ç®—è¶Šè€—æ—¶</span></span><br><span class="line">    <span class="string">'memory_cost'</span> =&gt; <span class="number">2048</span>, <span class="comment">// å†…å­˜æˆæœ¬</span></span><br><span class="line">    <span class="string">'time_cost'</span> =&gt; <span class="number">2</span>, <span class="comment">// æ—¶é—´æˆæœ¬</span></span><br><span class="line">    <span class="string">'algorithm'</span> =&gt; PASSWORD_ARGON2_ID <span class="comment">// é€‰æ‹© Argon2id ç‰ˆæœ¬</span></span><br><span class="line">];</span><br><span class="line"><span class="variable">$hash</span> = <span class="title function_ invoke__">password_hash</span>(<span class="variable">$password</span>, PASSWORD_DEFAULT, <span class="variable">$options</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯å¯†ç </span></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">password_verify</span>(<span class="variable">$password</span>, <span class="variable">$hash</span>)) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'å¯†ç æ­£ç¡®'</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'å¯†ç é”™è¯¯'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Argon2 ä½œä¸ºä¸€ç§æ–°ä¸€ä»£çš„å¯†ç å“ˆå¸Œç®—æ³•ï¼Œå…·æœ‰å¾ˆé«˜çš„å®‰å…¨æ€§ã€æ€§èƒ½å’Œçµæ´»æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒArgon2 å¯ä»¥æœ‰æ•ˆåœ°ä¿æŠ¤ç”¨æˆ·çš„å¯†ç å’Œå…¶ä»–æ•æ„Ÿæ•°æ®ã€‚å»ºè®®åœ¨éœ€è¦é«˜å¼ºåº¦å¯†ç ä¿æŠ¤çš„åœºæ™¯ä¸‹ä½¿ç”¨ Argon2 ç®—æ³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Argon2 </tag>
            
            <tag> å“ˆå¸Œç®—æ³• </tag>
            
            <tag> å®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MD5ï¼šä¸€ç§å¸¸è§çš„å“ˆå¸Œå‡½æ•°</title>
      <link href="/posts/md5-algorithm.html"/>
      <url>/posts/md5-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="MD5æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#MD5æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="MD5æ˜¯ä»€ä¹ˆï¼Ÿ"></a>MD5æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>MD5ï¼ˆMessage-Digest Algorithm 5ï¼‰æ˜¯ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„å¯†ç å­¦å“ˆå¸Œå‡½æ•°ã€‚å®ƒå¯ä»¥å°†ä»»æ„é•¿åº¦çš„æ•°æ®è¾“å…¥ï¼Œç»è¿‡ä¸€ç³»åˆ—å¤æ‚çš„è¿ç®—ï¼Œè¾“å‡ºä¸€ä¸ªå›ºå®šé•¿åº¦çš„128ä½ï¼ˆ16å­—èŠ‚ï¼‰çš„å“ˆå¸Œå€¼ã€‚è¿™ä¸ªå“ˆå¸Œå€¼é€šå¸¸ç”¨ä¸€ä¸ª32ä½çš„åå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤ºã€‚</p><h3 id="MD5çš„ä½œç”¨"><a href="#MD5çš„ä½œç”¨" class="headerlink" title="MD5çš„ä½œç”¨"></a>MD5çš„ä½œç”¨</h3><ul><li><strong>æ•°æ®å®Œæ•´æ€§æ ¡éªŒï¼š</strong> é€šè¿‡æ¯”è¾ƒæ–‡ä»¶çš„MD5å€¼ï¼Œå¯ä»¥éªŒè¯æ–‡ä»¶åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</li><li><strong>å¯†ç å­˜å‚¨ï¼š</strong> å°†ç”¨æˆ·çš„å¯†ç è¿›è¡ŒMD5å“ˆå¸Œåå­˜å‚¨ï¼Œå¯ä»¥ä¿æŠ¤å¯†ç ä¸è¢«æ˜æ–‡æ³„éœ²ã€‚</li><li><strong>æ•°æ®æŒ‡çº¹ï¼š</strong> MD5å€¼å¯ä»¥ä½œä¸ºæ•°æ®çš„â€œæŒ‡çº¹â€ï¼Œç”¨äºå¿«é€ŸæŸ¥æ‰¾å’Œæ¯”è¾ƒæ•°æ®ã€‚</li></ul><h3 id="MD5çš„ç‰¹ç‚¹"><a href="#MD5çš„ç‰¹ç‚¹" class="headerlink" title="MD5çš„ç‰¹ç‚¹"></a>MD5çš„ç‰¹ç‚¹</h3><ul><li><strong>å•å‘æ€§ï¼š</strong> ä»å“ˆå¸Œå€¼å¾ˆéš¾é€†å‘æ¨å¯¼å‡ºåŸå§‹æ•°æ®ã€‚</li><li><strong>å¿«é€Ÿè®¡ç®—ï¼š</strong> MD5çš„è®¡ç®—é€Ÿåº¦è¾ƒå¿«ã€‚</li><li><strong>ç¢°æ’æ€§ï¼š</strong> ç†è®ºä¸Šå­˜åœ¨ä¸åŒçš„è¾“å…¥äº§ç”Ÿç›¸åŒçš„å“ˆå¸Œå€¼ï¼ˆå³ç¢°æ’ï¼‰ï¼Œä½†æ¦‚ç‡æä½ã€‚</li></ul><h3 id="MD5çš„PHPä»£ç ä½¿ç”¨"><a href="#MD5çš„PHPä»£ç ä½¿ç”¨" class="headerlink" title="MD5çš„PHPä»£ç ä½¿ç”¨"></a>MD5çš„PHPä»£ç ä½¿ç”¨</h3><ul><li>å­—ç¬¦ä¸²åŠ å¯†</li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$password</span> = <span class="string">"mypassword"</span>;</span><br><span class="line"><span class="variable">$hashed_password</span> = <span class="title function_ invoke__">md5</span>(<span class="variable">$password</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† $hashed_password ä¿å­˜åˆ°æ•°æ®åº“ä¸­</span></span><br></pre></td></tr></tbody></table></figure><p><strong>æ³¨æ„ï¼š</strong> ç›´æ¥å°†å¯†ç è¿›è¡ŒMD5åŠ å¯†å­˜å‚¨æ˜¯ä¸å®‰å…¨çš„ï¼Œå®¹æ˜“å—åˆ°å½©è™¹è¡¨æ”»å‡»ã€‚å»ºè®®ä½¿ç”¨æ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•ï¼Œå¦‚SHA-256ï¼Œå¹¶ç»“åˆâ€ç›å€¼â€æ¥å¢å¼ºå®‰å…¨æ€§ã€‚</p><ul><li>è®¡ç®—æ–‡ä»¶çš„MD5å€¼</li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">file_md5</span>(<span class="params"><span class="variable">$filename</span></span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$filename</span>)) {</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">md5_file</span>(<span class="variable">$filename</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$filename</span> = <span class="string">"my_file.txt"</span>;</span><br><span class="line"><span class="variable">$md5_hash</span> = <span class="title function_ invoke__">file_md5</span>(<span class="variable">$filename</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$hash</span>) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"æ–‡ä»¶çš„MD5å“ˆå¸Œå€¼ä¸ºï¼š"</span>.<span class="variable">$hash</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"æ–‡ä»¶ä¸å­˜åœ¨"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><strong><code>md5_file()</code> å‡½æ•°ï¼š</strong> ç›´æ¥è®¡ç®—æ–‡ä»¶çš„MD5å€¼ï¼Œæ— éœ€å°†æ•´ä¸ªæ–‡ä»¶è¯»å…¥å†…å­˜ã€‚</li></ul><h3 id="MD5çš„å±€é™æ€§"><a href="#MD5çš„å±€é™æ€§" class="headerlink" title="MD5çš„å±€é™æ€§"></a>MD5çš„å±€é™æ€§</h3><ul><li><strong>å®‰å…¨æ€§é™ä½ï¼š</strong> è¿‘å¹´æ¥ï¼Œéšç€è®¡ç®—æœºç®—åŠ›çš„æå‡å’Œç®—æ³•çš„æ”¹è¿›ï¼ŒMD5çš„å®‰å…¨æ€§å—åˆ°äº†æŒ‘æˆ˜ã€‚å·²ç»å‘ç°äº†å¤šç§æ–¹æ³•å¯ä»¥æ‰¾åˆ°MD5ç¢°æ’ï¼Œè¿™ä½¿å¾—MD5ä¸å†é€‚åˆç”¨äºéœ€è¦é«˜å¼ºåº¦å®‰å…¨æ€§çš„åœºæ™¯ï¼Œå¦‚æ•°å­—ç­¾åã€‚</li><li><strong>ä¸é€‚åˆåŠ å¯†ï¼š</strong> MD5æ˜¯ä¸€ç§å“ˆå¸Œå‡½æ•°ï¼Œè€Œä¸æ˜¯åŠ å¯†ç®—æ³•ã€‚å®ƒä¸èƒ½ç”¨äºåŠ å¯†æ•°æ®ï¼Œå› ä¸ºå“ˆå¸Œæ˜¯ä¸å¯é€†çš„ã€‚</li></ul><h3 id="MD5çš„æ›¿ä»£æ–¹æ¡ˆ"><a href="#MD5çš„æ›¿ä»£æ–¹æ¡ˆ" class="headerlink" title="MD5çš„æ›¿ä»£æ–¹æ¡ˆ"></a>MD5çš„æ›¿ä»£æ–¹æ¡ˆ</h3><p>ç”±äºMD5çš„å®‰å…¨æ€§é—®é¢˜ï¼Œç›®å‰å·²ç»å‡ºç°äº†è®¸å¤šæ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•ï¼Œä¾‹å¦‚ï¼š</p><ul><li><strong>SHA-256ï¼š</strong> å®‰å…¨æ€§æ›´é«˜ï¼Œæ˜¯ç›®å‰å¹¿æ³›ä½¿ç”¨çš„å“ˆå¸Œç®—æ³•ä¹‹ä¸€ã€‚</li><li><strong>SHA-3ï¼š</strong> æ–°ä¸€ä»£çš„å“ˆå¸Œç®—æ³•ï¼Œè®¾è®¡æ›´åŠ å®‰å…¨ã€‚</li><li><strong>Blake2:</strong> é€Ÿåº¦å¿«ã€å®‰å…¨æ€§é«˜ï¼Œé€‚åˆéœ€è¦é«˜æ€§èƒ½çš„åº”ç”¨åœºæ™¯ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>MD5è™½ç„¶æ›¾ç»å¹¿æ³›åº”ç”¨ï¼Œä½†ç”±äºå…¶å®‰å…¨æ€§é—®é¢˜ï¼Œå·²ç»é€æ¸è¢«æ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•æ‰€å–ä»£ã€‚åœ¨é€‰æ‹©å“ˆå¸Œç®—æ³•æ—¶ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯å’Œå®‰å…¨éœ€æ±‚æ¥ç»¼åˆè€ƒè™‘ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</strong></p><ul><li><strong>MD5ä¸é€‚åˆç”¨äºå­˜å‚¨é‡è¦çš„å¯†ç ï¼š</strong> å¯¹äºå­˜å‚¨å¯†ç ï¼Œå»ºè®®ä½¿ç”¨æ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•ï¼Œå¦‚bcryptæˆ–argon2ï¼Œå¹¶ç»“åˆåŠ ç›æŠ€æœ¯ã€‚</li><li><strong>MD5ä¸é€‚åˆç”¨äºæ•°å­—ç­¾åï¼š</strong> æ•°å­—ç­¾åéœ€è¦æ›´é«˜çš„å®‰å…¨æ€§ï¼Œå»ºè®®ä½¿ç”¨SHA-256æˆ–SHA-3ç­‰ç®—æ³•ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> MD5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rijndaelç®—æ³•ï¼šAESåŠ å¯†æ ‡å‡†çš„æ ¸å¿ƒ</title>
      <link href="/posts/rijndael.html"/>
      <url>/posts/rijndael.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Rijndaelæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Rijndaelæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Rijndaelæ˜¯ä»€ä¹ˆï¼Ÿ"></a>Rijndaelæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Rijndael æ˜¯ä¸€ç§å¯¹ç§°å¯†é’¥åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œå®ƒåœ¨ 2001 å¹´è¢«ç¾å›½å›½å®¶æ ‡å‡†ä¸æŠ€æœ¯ç ”ç©¶é™¢ (NIST) é€‰ä¸­ä¸ºé«˜çº§åŠ å¯†æ ‡å‡† (AES)ã€‚AES å·²ç»æˆä¸ºå½“ä»Šä¸–ç•Œä¸Šåº”ç”¨æœ€å¹¿æ³›çš„åŠ å¯†ç®—æ³•ä¹‹ä¸€ï¼Œå¹¿æ³›ç”¨äºä¿æŠ¤æ•æ„Ÿæ•°æ®ã€‚</p><h3 id="Rijndaelçš„å·¥ä½œåŸç†"><a href="#Rijndaelçš„å·¥ä½œåŸç†" class="headerlink" title="Rijndaelçš„å·¥ä½œåŸç†"></a>Rijndaelçš„å·¥ä½œåŸç†</h3><p>Rijndael ç®—æ³•åŸºäº <strong>ä»£æ¢-ç½®æ¢ç½‘ç»œ (SPN)</strong>ï¼Œé€šè¿‡å¤šæ¬¡è¿­ä»£å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ã€‚æ¯ä¸€è½®çš„åŠ å¯†è¿‡ç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li><strong>å­—èŠ‚æ›¿æ¢ (ByteSub)ï¼š</strong> ä½¿ç”¨ä¸€ä¸ª S-ç›’ï¼Œå°†æ¯ä¸ªå­—èŠ‚æ›¿æ¢æˆå¦ä¸€ä¸ªå­—èŠ‚ï¼Œæä¾›éçº¿æ€§ã€‚</li><li><strong>è¡Œç§»ä½ (ShiftRows)ï¼š</strong> å°†çŸ©é˜µä¸­çš„æ¯ä¸€è¡Œè¿›è¡Œå¾ªç¯å·¦ç§»ï¼Œå¢åŠ æ•°æ®çš„æ‰©æ•£ã€‚</li><li><strong>åˆ—æ··æ·† (MixColumns)ï¼š</strong> å¯¹çŠ¶æ€çŸ©é˜µçš„æ¯ä¸€åˆ—è¿›è¡Œçº¿æ€§å˜æ¢ï¼Œè¿›ä¸€æ­¥å¢åŠ æ•°æ®çš„æ‰©æ•£ã€‚</li><li><strong>è½®å¯†é’¥åŠ  (AddRoundKey)ï¼š</strong> å°†çŠ¶æ€çŸ©é˜µä¸è½®å¯†é’¥è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚</li></ol><p>è¿™äº›æ­¥éª¤åå¤è¿›è¡Œå¤šè½®ï¼Œæœ€ç»ˆå¾—åˆ°å¯†æ–‡ã€‚</p><h3 id="Rijndaelçš„ç‰¹ç‚¹"><a href="#Rijndaelçš„ç‰¹ç‚¹" class="headerlink" title="Rijndaelçš„ç‰¹ç‚¹"></a>Rijndaelçš„ç‰¹ç‚¹</h3><ul><li><strong>å®‰å…¨æ€§å’Œæ•ˆç‡çš„å¹³è¡¡ï¼š</strong> Rijndael ç®—æ³•åœ¨å®‰å…¨æ€§ä¸æ•ˆç‡ä¹‹é—´å–å¾—äº†å¾ˆå¥½çš„å¹³è¡¡ï¼Œèƒ½å¤ŸæŠµæŠ—å·²çŸ¥çš„å„ç§æ”»å‡»ã€‚</li><li><strong>çµæ´»çš„å¯†é’¥é•¿åº¦å’Œåˆ†ç»„é•¿åº¦ï¼š</strong> Rijndael æ”¯æŒå¤šç§å¯†é’¥é•¿åº¦ï¼ˆ128ä½ã€192ä½ã€256ä½ï¼‰å’Œåˆ†ç»„é•¿åº¦ï¼ˆ128ä½ï¼‰ï¼Œå¯ä»¥é€‚åº”ä¸åŒçš„åº”ç”¨éœ€æ±‚ã€‚</li><li><strong>ç¡¬ä»¶å®ç°å‹å¥½ï¼š</strong> Rijndael ç®—æ³•çš„ç»“æ„ç®€å•ï¼Œæ˜“äºç¡¬ä»¶å®ç°ï¼Œé€‚åˆåœ¨å„ç§åµŒå…¥å¼è®¾å¤‡ä¸­ä½¿ç”¨ã€‚</li></ul><h3 id="Rijndaelä¸AESçš„å…³ç³»"><a href="#Rijndaelä¸AESçš„å…³ç³»" class="headerlink" title="Rijndaelä¸AESçš„å…³ç³»"></a>Rijndaelä¸AESçš„å…³ç³»</h3><p>Rijndael ç®—æ³•æ˜¯ AES æ ‡å‡†çš„å®ç°ç®—æ³•ã€‚AES æ ‡å‡†å®šä¹‰äº†åˆ†ç»„é•¿åº¦ä¸º128ä½ï¼Œå¯†é’¥é•¿åº¦ä¸º128ä½ã€192ä½æˆ–256ä½çš„Rijndaelç®—æ³•ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬è°ˆè®ºAESæ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯æŒ‡Rijndaelç®—æ³•çš„è¿™å‡ ç§ç‰¹å®šé…ç½®ã€‚</p><h3 id="Rijndaelçš„åº”ç”¨"><a href="#Rijndaelçš„åº”ç”¨" class="headerlink" title="Rijndaelçš„åº”ç”¨"></a>Rijndaelçš„åº”ç”¨</h3><ul><li><strong>æ•°æ®åŠ å¯†ï¼š</strong> Rijndaelå¹¿æ³›ç”¨äºä¿æŠ¤å„ç§ç±»å‹çš„æ•°æ®ï¼Œå¦‚æ–‡ä»¶ã€æ•°æ®åº“ã€é€šä¿¡æ•°æ®ç­‰ã€‚</li><li><strong>ç½‘ç»œå®‰å…¨ï¼š</strong> Rijndaelç”¨äºä¿æŠ¤ç½‘ç»œé€šä¿¡ï¼Œå¦‚SSL/TLSåè®®ã€‚</li><li><strong>å­˜å‚¨å®‰å…¨ï¼š</strong> Rijndaelç”¨äºä¿æŠ¤å­˜å‚¨åœ¨ç£ç›˜æˆ–å…¶ä»–å­˜å‚¨ä»‹è´¨ä¸Šçš„æ•°æ®ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Rijndael ç®—æ³•æ˜¯ä¸€ç§é«˜æ•ˆã€å®‰å…¨çš„å¯¹ç§°å¯†é’¥åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œæ˜¯å½“ä»Šå¯†ç å­¦é¢†åŸŸçš„é‡è¦åŸºçŸ³ã€‚å®ƒçš„å¹¿æ³›åº”ç”¨æå¤§åœ°æé«˜äº†æ•°æ®çš„å®‰å…¨æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> Rijndaelç®—æ³• </tag>
            
            <tag> æ–­è¨€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SAMLï¼ˆå®‰å…¨æ–­è¨€æ ‡è®°è¯­è¨€ï¼‰è¯¦è§£</title>
      <link href="/posts/saml.html"/>
      <url>/posts/saml.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="SAML-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#SAML-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="SAML æ˜¯ä»€ä¹ˆï¼Ÿ"></a>SAML æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>SAMLï¼ˆSecurity Assertion Markup Languageï¼‰</strong> æ˜¯ä¸€ç§åŸºäº XML çš„å¼€æ”¾æ ‡å‡†ï¼Œç”¨äºåœ¨ä¸åŒæœåŠ¡æä¾›å•†ä¹‹é—´äº¤æ¢èº«ä»½éªŒè¯å’Œæˆæƒæ•°æ®ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œè®©ç”¨æˆ·åªéœ€ç™»å½•ä¸€æ¬¡ï¼Œå³å¯è®¿é—®å¤šä¸ªç›¸äº’ä¿¡ä»»çš„åº”ç”¨ç¨‹åºã€‚</p><h3 id="SAML-çš„ä½œç”¨"><a href="#SAML-çš„ä½œç”¨" class="headerlink" title="SAML çš„ä½œç”¨"></a>SAML çš„ä½œç”¨</h3><ul><li><strong>å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰ï¼š</strong> ç”¨æˆ·åªéœ€ä½¿ç”¨ä¸€å¥—å‡­è¯ç™»å½•ä¸€æ¬¡ï¼Œå³å¯è®¿é—®å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚</li><li><strong>èº«ä»½è”é‚¦ï¼š</strong> å…è®¸ä¸åŒçš„ç»„ç»‡å…±äº«èº«ä»½éªŒè¯ä¿¡æ¯ï¼Œå®ç°è·¨ç»„ç»‡çš„å•ç‚¹ç™»å½•ã€‚</li><li><strong>æˆæƒå†³ç­–ï¼š</strong> æ ¹æ®ç”¨æˆ·çš„å±æ€§å’Œè§’è‰²ï¼Œå†³å®šç”¨æˆ·å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®æƒé™ã€‚</li></ul><h3 id="SAML-çš„åŸºæœ¬æ¦‚å¿µ"><a href="#SAML-çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="SAML çš„åŸºæœ¬æ¦‚å¿µ"></a>SAML çš„åŸºæœ¬æ¦‚å¿µ</h3><ul><li><strong>èº«ä»½æä¾›è€…ï¼ˆIdentity Provider, IdPï¼‰ï¼š</strong> éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œå¹¶å‘æœåŠ¡æä¾›è€…å‘é€æ–­è¨€ã€‚</li><li><strong>æœåŠ¡æä¾›è€…ï¼ˆService Provider, SPï¼‰ï¼š</strong> éœ€è¦è®¿é—®ä¿æŠ¤èµ„æºçš„åº”ç”¨ç¨‹åºæˆ–æœåŠ¡ã€‚</li><li><strong>æ–­è¨€ï¼ˆAssertionï¼‰ï¼š</strong> åŒ…å«å…³äºç”¨æˆ·èº«ä»½å’Œå±æ€§çš„ä¿¡æ¯ã€‚</li><li><strong>ç»‘å®šï¼ˆBindingï¼‰ï¼š</strong> å®šä¹‰äº† SAML æ¶ˆæ¯å¦‚ä½•åœ¨ä¼ è¾“å±‚è¿›è¡Œäº¤æ¢ã€‚</li></ul><h3 id="SAML-å·¥ä½œæµç¨‹"><a href="#SAML-å·¥ä½œæµç¨‹" class="headerlink" title="SAML å·¥ä½œæµç¨‹"></a>SAML å·¥ä½œæµç¨‹</h3><ol><li><strong>ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼š</strong> ç”¨æˆ·è®¿é—®æœåŠ¡æä¾›è€…çš„å—ä¿æŠ¤èµ„æºã€‚</li><li><strong>æœåŠ¡æä¾›è€…é‡å®šå‘ï¼š</strong> æœåŠ¡æä¾›è€…å°†ç”¨æˆ·é‡å®šå‘åˆ°èº«ä»½æä¾›è€…çš„ç™»å½•é¡µé¢ã€‚</li><li><strong>ç”¨æˆ·è®¤è¯ï¼š</strong> ç”¨æˆ·åœ¨èº«ä»½æä¾›è€…å¤„è¾“å…¥å‡­è¯è¿›è¡Œè®¤è¯ã€‚</li><li><strong>èº«ä»½æä¾›è€…ç”Ÿæˆæ–­è¨€ï¼š</strong> è®¤è¯æˆåŠŸåï¼Œèº«ä»½æä¾›è€…ç”Ÿæˆä¸€ä¸ªåŒ…å«ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„æ–­è¨€ã€‚</li><li><strong>èº«ä»½æä¾›è€…é‡å®šå‘ï¼š</strong> èº«ä»½æä¾›è€…å°†ç”¨æˆ·é‡å®šå‘å›æœåŠ¡æä¾›è€…ï¼Œå¹¶å°†æ–­è¨€ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</li><li><strong>æœåŠ¡æä¾›è€…éªŒè¯æ–­è¨€ï¼š</strong> æœåŠ¡æä¾›è€…éªŒè¯æ–­è¨€çš„æœ‰æ•ˆæ€§ï¼Œå¹¶æ ¹æ®æ–­è¨€ä¸­çš„ä¿¡æ¯å†³å®šæ˜¯å¦æˆæƒç”¨æˆ·è®¿é—®èµ„æºã€‚</li></ol><h3 id="SAML-çš„ä¼˜åŠ¿"><a href="#SAML-çš„ä¼˜åŠ¿" class="headerlink" title="SAML çš„ä¼˜åŠ¿"></a>SAML çš„ä¼˜åŠ¿</h3><ul><li><strong>æ ‡å‡†åŒ–ï¼š</strong> SAML æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œå¾—åˆ°äº†å¹¿æ³›æ”¯æŒã€‚</li><li><strong>å®‰å…¨æ€§ï¼š</strong> SAML æä¾›äº†å¤šç§å®‰å…¨æœºåˆ¶ï¼Œå¦‚æ•°å­—ç­¾åã€åŠ å¯†ç­‰ã€‚</li><li><strong>çµæ´»æ€§ï¼š</strong> SAML æ”¯æŒå¤šç§ç»‘å®šæ–¹å¼å’Œåè®®ï¼Œå¯ä»¥é€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚</li><li><strong>å¯æ‰©å±•æ€§ï¼š</strong> SAML å¯ä»¥é€šè¿‡æ‰©å±•æ¥æ”¯æŒæ–°çš„åŠŸèƒ½å’Œéœ€æ±‚ã€‚</li></ul><h3 id="SAML-çš„åº”ç”¨åœºæ™¯"><a href="#SAML-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="SAML çš„åº”ç”¨åœºæ™¯"></a>SAML çš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>ä¼ä¸šå†…éƒ¨åº”ç”¨é›†æˆï¼š</strong> å®ç°ä¼ä¸šå†…éƒ¨å¤šä¸ªåº”ç”¨çš„å•ç‚¹ç™»å½•ã€‚</li><li><strong>äº‘åº”ç”¨é›†æˆï¼š</strong> å°†ä¼ä¸šå†…éƒ¨åº”ç”¨ä¸äº‘åº”ç”¨é›†æˆã€‚</li><li><strong>åˆä½œä¼™ä¼´é›†æˆï¼š</strong> ä¸åˆä½œä¼™ä¼´å…±äº«èº«ä»½éªŒè¯ä¿¡æ¯ã€‚</li></ul><h3 id="SAML-çš„å±€é™æ€§"><a href="#SAML-çš„å±€é™æ€§" class="headerlink" title="SAML çš„å±€é™æ€§"></a>SAML çš„å±€é™æ€§</h3><ul><li><strong>å¤æ‚æ€§ï¼š</strong> SAML é…ç½®å’Œå®ç°ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦ä¸€å®šçš„æŠ€æœ¯æ°´å¹³ã€‚</li><li><strong>æ€§èƒ½ï¼š</strong> SAML å¢åŠ äº†ç³»ç»Ÿå¼€é”€ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚</li></ul><h3 id="SAML-ä¸-OAuth-çš„åŒºåˆ«"><a href="#SAML-ä¸-OAuth-çš„åŒºåˆ«" class="headerlink" title="SAML ä¸ OAuth çš„åŒºåˆ«"></a>SAML ä¸ OAuth çš„åŒºåˆ«</h3><ul><li>SAML ä¸»è¦ç”¨äºèº«ä»½éªŒè¯å’Œæˆæƒï¼ŒOAuth ä¸»è¦ç”¨äºæˆæƒã€‚</li><li>SAML æ›´é€‚åˆä¼ä¸šå†…éƒ¨åº”ç”¨é›†æˆï¼ŒOAuth æ›´é€‚åˆç¬¬ä¸‰æ–¹åº”ç”¨æˆæƒã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>SAML æ˜¯ä¸€ç§å¼ºå¤§çš„èº«ä»½éªŒè¯å’Œæˆæƒåè®®ï¼Œä¸ºå®ç°å•ç‚¹ç™»å½•å’Œèº«ä»½è”é‚¦æä¾›äº†å¯é çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨é€‰æ‹© SAML è§£å†³æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘ç³»ç»Ÿçš„å¤æ‚æ€§ã€å®‰å…¨æ€§ã€æ€§èƒ½å’Œæˆæœ¬ç­‰å› ç´ ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> æ–­è¨€ </tag>
            
            <tag> SAML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SHA-1ï¼šä¸€ç§å·²è¢«æ·˜æ±°çš„å“ˆå¸Œç®—æ³•</title>
      <link href="/posts/sha1-algorithm.html"/>
      <url>/posts/sha1-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="SHA-1æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#SHA-1æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="SHA-1æ˜¯ä»€ä¹ˆï¼Ÿ"></a>SHA-1æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>SHA-1ï¼ˆSecure Hash Algorithm 1ï¼Œå®‰å…¨æ•£åˆ—ç®—æ³•1ï¼‰æ˜¯ä¸€ç§å¯†ç æ•£åˆ—å‡½æ•°ï¼Œå¯ä»¥å°†ä»»æ„é•¿åº¦çš„æ•°æ®è½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„160ä½ï¼ˆ20å­—èŠ‚ï¼‰çš„å“ˆå¸Œå€¼ã€‚è¿™ä¸ªå“ˆå¸Œå€¼é€šå¸¸è¢«ç§°ä¸ºæ¶ˆæ¯æ‘˜è¦ã€‚</p><h3 id="SHA-1çš„å·¥ä½œåŸç†"><a href="#SHA-1çš„å·¥ä½œåŸç†" class="headerlink" title="SHA-1çš„å·¥ä½œåŸç†"></a>SHA-1çš„å·¥ä½œåŸç†</h3><p>SHA-1é€šè¿‡ä¸€ç³»åˆ—å¤æ‚çš„æ•°å­¦è¿ç®—ï¼Œå°†è¾“å…¥çš„æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„è¾“å‡ºã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å•å‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»å“ˆå¸Œå€¼å¾ˆéš¾é€†å‘æ¨å¯¼å‡ºåŸå§‹æ•°æ®ã€‚</p><h3 id="SHA-1çš„åº”ç”¨"><a href="#SHA-1çš„åº”ç”¨" class="headerlink" title="SHA-1çš„åº”ç”¨"></a>SHA-1çš„åº”ç”¨</h3><ul><li><strong>æ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒ:</strong> é€šè¿‡æ¯”è¾ƒæ–‡ä»¶çš„å“ˆå¸Œå€¼ï¼Œå¯ä»¥éªŒè¯æ–‡ä»¶æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</li><li><strong>æ•°å­—ç­¾å:</strong> å°†æ¶ˆæ¯çš„å“ˆå¸Œå€¼ä¸å‘é€è€…çš„ç§é’¥ä¸€èµ·åŠ å¯†ï¼Œå½¢æˆæ•°å­—ç­¾åï¼Œç”¨äºéªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§å’Œå‘é€è€…çš„èº«ä»½ã€‚</li><li><strong>å¯†ç å­˜å‚¨:</strong> å°†å¯†ç çš„å“ˆå¸Œå€¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œè€Œä¸æ˜¯æ˜æ–‡å¯†ç ï¼Œæé«˜å®‰å…¨æ€§ã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆSHA-1ä¸å†å®‰å…¨ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆSHA-1ä¸å†å®‰å…¨ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆSHA-1ä¸å†å®‰å…¨ï¼Ÿ"></a>ä¸ºä»€ä¹ˆSHA-1ä¸å†å®‰å…¨ï¼Ÿ</h3><ul><li><strong>ç¢°æ’æ”»å‡»:</strong> 2005å¹´ï¼Œç ”ç©¶äººå‘˜å‘ç°äº†SHA-1ç®—æ³•çš„ç¢°æ’æ”»å‡»ï¼Œè¿™æ„å‘³ç€å¯ä»¥æ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„è¾“å…¥ï¼Œäº§ç”Ÿç›¸åŒçš„å“ˆå¸Œå€¼ã€‚è¿™ä½¿å¾—SHA-1ä¸å†é€‚ç”¨äºéœ€è¦é«˜å¼ºåº¦å®‰å…¨æ€§çš„åœºæ™¯ã€‚</li><li><strong>é‡å­è®¡ç®—å¨èƒ:</strong> é‡å­è®¡ç®—æœºçš„å‡ºç°ï¼Œå¯¹åŒ…æ‹¬SHA-1åœ¨å†…çš„è®¸å¤šå¯†ç ç®—æ³•æ„æˆäº†å¨èƒã€‚</li></ul><h3 id="SHA-1å·²ç»è¢«å“ªäº›ç®—æ³•å–ä»£ï¼Ÿ"><a href="#SHA-1å·²ç»è¢«å“ªäº›ç®—æ³•å–ä»£ï¼Ÿ" class="headerlink" title="SHA-1å·²ç»è¢«å“ªäº›ç®—æ³•å–ä»£ï¼Ÿ"></a>SHA-1å·²ç»è¢«å“ªäº›ç®—æ³•å–ä»£ï¼Ÿ</h3><p>ç”±äºSHA-1çš„å®‰å…¨æ€§é—®é¢˜ï¼Œè®¸å¤šç»„ç»‡å’Œæ ‡å‡†å·²ç»ä¸å†æ¨èä½¿ç”¨SHA-1ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯æ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•ï¼Œå¦‚ï¼š</p><ul><li><strong>SHA-256:</strong> SHA-2å®¶æ—ä¸­çš„ä¸€ç§ï¼Œç”Ÿæˆ256ä½çš„å“ˆå¸Œå€¼ï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚</li><li><strong>SHA-512:</strong> SHA-2å®¶æ—ä¸­çš„ä¸€ç§ï¼Œç”Ÿæˆ512ä½çš„å“ˆå¸Œå€¼ï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚</li><li><strong>SHA-3:</strong> æ–°ä¸€ä»£çš„å“ˆå¸Œç®—æ³•ï¼Œè®¾è®¡æ›´åŠ å®‰å…¨ï¼Œæ€§èƒ½ä¹Ÿæ›´ä¼˜ç§€ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è™½ç„¶SHA-1æ›¾ç»æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å“ˆå¸Œç®—æ³•ï¼Œä½†ç”±äºå…¶å­˜åœ¨çš„å®‰å…¨æ¼æ´ï¼Œå·²ç»ä¸å†é€‚åˆç”¨äºéœ€è¦é«˜å¼ºåº¦å®‰å…¨æ€§çš„åœºæ™¯ã€‚å»ºè®®ä½¿ç”¨SHA-256ã€SHA-512æˆ–SHA-3ç­‰æ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“ˆå¸Œç®—æ³• </tag>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> SHA-1 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SHA-3ï¼šæ›´å®‰å…¨ã€æ›´ç°ä»£çš„å“ˆå¸Œå‡½æ•°</title>
      <link href="/posts/sha3-algorithm.html"/>
      <url>/posts/sha3-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯SHA-3ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯SHA-3ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯SHA-3ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯SHA-3ï¼Ÿ</h3><p>SHA-3ï¼ˆSecure Hash Algorithm 3ï¼Œå®‰å…¨æ•£åˆ—ç®—æ³•3ï¼‰æ˜¯ç¾å›½å›½å®¶æ ‡å‡†ä¸æŠ€æœ¯ç ”ç©¶æ‰€ï¼ˆNISTï¼‰å‘å¸ƒçš„ç¬¬ä¸‰ä»£åŠ å¯†æ•£åˆ—å‡½æ•°æ ‡å‡†ã€‚å®ƒåœ¨SHA-1å’ŒSHA-2ç®—æ³•å‡ºç°å®‰å…¨é—®é¢˜åï¼Œé€šè¿‡å…¬å¼€ç«èµ›é€‰å‡ºçš„æ–°ä¸€ä»£ç®—æ³•ã€‚SHA-3çš„è®¾è®¡ç›®æ ‡æ˜¯æä¾›æ›´é«˜çš„å®‰å…¨æ€§ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„æ€§èƒ½ã€‚</p><h3 id="SHA-3çš„ç‰¹ç‚¹"><a href="#SHA-3çš„ç‰¹ç‚¹" class="headerlink" title="SHA-3çš„ç‰¹ç‚¹"></a>SHA-3çš„ç‰¹ç‚¹</h3><ul><li><strong>åŸºäºKeccakç®—æ³•:</strong> SHA-3æ˜¯åŸºäºKeccakç®—æ³•è®¾è®¡çš„ï¼ŒKeccakç®—æ³•å…·æœ‰è‰¯å¥½çš„å®‰å…¨æ€§ã€æ•ˆç‡å’Œçµæ´»æ€§ã€‚</li><li><strong>æµ·ç»µç»“æ„:</strong> Keccakç®—æ³•é‡‡ç”¨æµ·ç»µç»“æ„ï¼Œå¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„è¾“å…¥æ•°æ®ï¼Œç”Ÿæˆä»»æ„é•¿åº¦çš„è¾“å‡ºã€‚</li><li><strong>å®‰å…¨æ€§é«˜:</strong> SHA-3çš„è®¾è®¡è€ƒè™‘äº†é‡å­è®¡ç®—çš„å¨èƒï¼Œå…·æœ‰æ›´å¼ºçš„æŠ—ç¢°æ’æ€§ã€‚</li><li><strong>æ€§èƒ½ä¼˜å¼‚:</strong> SHA-3çš„æ€§èƒ½è¡¨ç°è‰¯å¥½ï¼Œé€‚ç”¨äºå„ç§åº”ç”¨åœºæ™¯ã€‚</li></ul><h3 id="SHA-3ä¸SHA-2çš„åŒºåˆ«"><a href="#SHA-3ä¸SHA-2çš„åŒºåˆ«" class="headerlink" title="SHA-3ä¸SHA-2çš„åŒºåˆ«"></a>SHA-3ä¸SHA-2çš„åŒºåˆ«</h3><ul><li><strong>è®¾è®¡ç†å¿µ:</strong> SHA-3çš„è®¾è®¡ç†å¿µä¸SHA-2å®Œå…¨ä¸åŒï¼ŒSHA-3é‡‡ç”¨äº†å…¨æ–°çš„ç»“æ„å’Œç®—æ³•ã€‚</li><li><strong>å®‰å…¨æ€§:</strong> SHA-3çš„è®¾è®¡æ›´åŠ æ³¨é‡å®‰å…¨æ€§ï¼Œèƒ½å¤ŸæŠµå¾¡æ›´å¹¿æ³›çš„æ”»å‡»ã€‚</li><li><strong>çµæ´»æ€§:</strong> SHA-3å¯ä»¥ç”Ÿæˆä¸åŒé•¿åº¦çš„è¾“å‡ºï¼Œå…·æœ‰æ›´é«˜çš„çµæ´»æ€§ã€‚</li></ul><h3 id="SHA-3çš„åº”ç”¨åœºæ™¯"><a href="#SHA-3çš„åº”ç”¨åœºæ™¯" class="headerlink" title="SHA-3çš„åº”ç”¨åœºæ™¯"></a>SHA-3çš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>æ•°å­—ç­¾å:</strong> ç”¨äºéªŒè¯æ•°æ®çš„å®Œæ•´æ€§å’Œå‘é€è€…çš„èº«ä»½ã€‚</li><li><strong>å¯†ç å­˜å‚¨:</strong> å°†å¯†ç çš„å“ˆå¸Œå€¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œæé«˜å¯†ç çš„å®‰å…¨æ€§ã€‚</li><li><strong>åŒºå—é“¾:</strong> åœ¨åŒºå—é“¾æŠ€æœ¯ä¸­ï¼ŒSHA-3è¢«ç”¨äºç”ŸæˆåŒºå—çš„å“ˆå¸Œå€¼ï¼Œç¡®ä¿åŒºå—é“¾çš„ä¸å¯ç¯¡æ”¹æ€§ã€‚</li><li><strong>æ–‡ä»¶æ ¡éªŒ:</strong> ç”¨äºéªŒè¯æ–‡ä»¶çš„å®Œæ•´æ€§ï¼Œé˜²æ­¢æ–‡ä»¶è¢«ç¯¡æ”¹ã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆé€‰æ‹©SHA-3ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©SHA-3ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©SHA-3ï¼Ÿ"></a>ä¸ºä»€ä¹ˆé€‰æ‹©SHA-3ï¼Ÿ</h3><ul><li><strong>æ›´é«˜çš„å®‰å…¨æ€§:</strong> SHA-3çš„è®¾è®¡è€ƒè™‘äº†æ›´å¹¿æ³›çš„æ”»å‡»ï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚</li><li><strong>æ›´å¥½çš„æ€§èƒ½:</strong> SHA-3çš„æ€§èƒ½è¡¨ç°è‰¯å¥½ï¼Œé€‚ç”¨äºå„ç§åº”ç”¨åœºæ™¯ã€‚</li><li><strong>æ›´å¼ºçš„çµæ´»æ€§:</strong> SHA-3å¯ä»¥ç”Ÿæˆä¸åŒé•¿åº¦çš„è¾“å‡ºï¼Œå…·æœ‰æ›´é«˜çš„çµæ´»æ€§ã€‚</li><li><strong>æœªæ¥å¯æœŸ:</strong> SHA-3æ˜¯æœªæ¥å¯†ç å­¦å‘å±•çš„ä¸€ä¸ªé‡è¦æ–¹å‘ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>SHA-3ä½œä¸ºæ–°ä¸€ä»£çš„å“ˆå¸Œå‡½æ•°ï¼Œå…·æœ‰æ›´é«˜çš„å®‰å…¨æ€§ã€æ›´å¥½çš„æ€§èƒ½å’Œæ›´å¼ºçš„çµæ´»æ€§ã€‚éšç€é‡å­è®¡ç®—çš„å‘å±•ï¼ŒSHA-3å°†æˆä¸ºä¿éšœæ•°æ®å®‰å…¨çš„é‡è¦å·¥å…·ã€‚åœ¨é€‰æ‹©å“ˆå¸Œç®—æ³•æ—¶ï¼Œå»ºè®®ä¼˜å…ˆè€ƒè™‘SHA-3ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“ˆå¸Œç®—æ³• </tag>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> sha3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SHA-256ï¼šæ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•</title>
      <link href="/posts/sha256-algorithm.html"/>
      <url>/posts/sha256-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯SHA-256ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯SHA-256ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯SHA-256ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯SHA-256ï¼Ÿ</h3><p>SHA-256ï¼ˆSecure Hash Algorithm 256ï¼‰æ˜¯ä¸€ç§å¯†ç å­¦å“ˆå¸Œå‡½æ•°ã€‚å®ƒå¯ä»¥å°†ä»»æ„é•¿åº¦çš„æ•°æ®è½¬æ¢ä¸ºä¸€ä¸ªå›ºå®šé•¿åº¦çš„256ä½ï¼ˆ32å­—èŠ‚ï¼‰çš„å“ˆå¸Œå€¼ã€‚è¿™ä¸ªå“ˆå¸Œå€¼é€šå¸¸ç”¨ä¸€ä¸ª64ä½çš„åå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤ºã€‚</p><h3 id="SHA-256ä¸MD5çš„åŒºåˆ«"><a href="#SHA-256ä¸MD5çš„åŒºåˆ«" class="headerlink" title="SHA-256ä¸MD5çš„åŒºåˆ«"></a>SHA-256ä¸MD5çš„åŒºåˆ«</h3><ul><li><strong>å®‰å…¨æ€§ï¼š</strong> SHA-256æ¯”MD5å®‰å…¨æ€§æ›´é«˜ï¼ŒæŠ—ç¢°æ’æ€§æ›´å¼ºã€‚MD5å·²ç»è¢«è¯æ˜å­˜åœ¨æ¼æ´ï¼Œå®¹æ˜“å—åˆ°ç¢°æ’æ”»å‡»ï¼Œè€ŒSHA-256ç›®å‰è¿˜æ²¡æœ‰å‘ç°ä¸¥é‡çš„æ¼æ´ã€‚</li><li><strong>è¾“å‡ºé•¿åº¦ï¼š</strong> SHA-256çš„è¾“å‡ºé•¿åº¦ä¸º256ä½ï¼Œè€ŒMD5çš„è¾“å‡ºé•¿åº¦ä¸º128ä½ã€‚æ›´é•¿çš„è¾“å‡ºé•¿åº¦æ„å‘³ç€æ›´å¤§çš„å“ˆå¸Œç©ºé—´ï¼Œç¢°æ’çš„æ¦‚ç‡æ›´å°ã€‚</li><li><strong>åº”ç”¨åœºæ™¯ï¼š</strong> SHA-256å¹¿æ³›åº”ç”¨äºæ•°å­—ç­¾åã€åŒºå—é“¾ã€æ–‡ä»¶æ ¡éªŒç­‰éœ€è¦é«˜å®‰å…¨æ€§ä¿éšœçš„åœºæ™¯ã€‚MD5åˆ™æ›´å¤šç”¨äºä¸€äº›å¯¹å®‰å…¨æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ã€‚</li></ul><h3 id="SHA-256çš„åº”ç”¨"><a href="#SHA-256çš„åº”ç”¨" class="headerlink" title="SHA-256çš„åº”ç”¨"></a>SHA-256çš„åº”ç”¨</h3><ul><li><strong>æ•°å­—ç­¾åï¼š</strong> ç”¨äºéªŒè¯æ•°æ®çš„å®Œæ•´æ€§å’Œèº«ä»½ã€‚</li><li><strong>åŒºå—é“¾ï¼š</strong> ç”¨äºè®°å½•åŒºå—é“¾ä¸Šçš„äº¤æ˜“ä¿¡æ¯ï¼Œä¿è¯æ•°æ®çš„ä¸å¯ç¯¡æ”¹æ€§ã€‚</li><li><strong>æ–‡ä»¶æ ¡éªŒï¼š</strong> ç”¨äºéªŒè¯ä¸‹è½½çš„æ–‡ä»¶æ˜¯å¦å®Œæ•´ã€‚</li><li><strong>å¯†ç å­˜å‚¨ï¼š</strong> å°†å¯†ç è¿›è¡ŒSHA-256å“ˆå¸Œåå­˜å‚¨ï¼Œæé«˜å®‰å…¨æ€§ã€‚</li></ul><h3 id="SHA-256çš„å·¥ä½œåŸç†"><a href="#SHA-256çš„å·¥ä½œåŸç†" class="headerlink" title="SHA-256çš„å·¥ä½œåŸç†"></a>SHA-256çš„å·¥ä½œåŸç†</h3><p>SHA-256çš„å…·ä½“ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠåˆ°ä¸€ç³»åˆ—çš„ä½è¿ç®—å’Œæ•°å­¦è¿ç®—ã€‚ä½†å…¶åŸºæœ¬æ€æƒ³æ˜¯å°†è¾“å…¥æ•°æ®åˆ†å—ï¼Œç„¶åç»è¿‡ä¸€ç³»åˆ—çš„å‹ç¼©å‡½æ•°å¤„ç†ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å“ˆå¸Œå€¼ã€‚</p><h3 id="SHA-256çš„PHPä»£ç ä½¿ç”¨"><a href="#SHA-256çš„PHPä»£ç ä½¿ç”¨" class="headerlink" title="SHA-256çš„PHPä»£ç ä½¿ç”¨"></a>SHA-256çš„PHPä»£ç ä½¿ç”¨</h3><ul><li>å­—ç¬¦ä¸²SHA-256åŠ å¯†</li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$data</span> = <span class="string">"è¿™æ˜¯ä¸€æ®µéœ€è¦åŠ å¯†çš„å­—ç¬¦ä¸²"</span>;</span><br><span class="line"><span class="variable">$hash</span> = <span class="title function_ invoke__">hash</span>(<span class="string">'sha256'</span>, <span class="variable">$data</span>);<span class="comment">// æŒ‡å®šä½¿ç”¨çš„å“ˆå¸Œç®—æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$hash</span>;</span><br></pre></td></tr></tbody></table></figure><ul><li>è®¡ç®—æ–‡ä»¶çš„SHA-256</li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">file_sha256</span>(<span class="params"><span class="variable">$filename</span></span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$filename</span>)) {</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">hash_file</span>(<span class="string">'sha256'</span>, <span class="variable">$filename</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$filename</span> = <span class="string">"my_file.txt"</span>;</span><br><span class="line"><span class="variable">$hash</span> = <span class="title function_ invoke__">file_sha256</span>(<span class="variable">$filename</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$hash</span>) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"æ–‡ä»¶çš„SHA-256å“ˆå¸Œå€¼ä¸ºï¼š"</span>.<span class="variable">$hash</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"æ–‡ä»¶ä¸å­˜åœ¨"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><strong><code>hash_file()</code> å‡½æ•°ï¼š</strong> ç›´æ¥è®¡ç®—æ–‡ä»¶çš„SHA-256ï¼Œæ— éœ€å°†æ•´ä¸ªæ–‡ä»¶è¯»å…¥å†…å­˜ã€‚</li></ul><ul><li>éªŒè¯å¯†ç </li></ul><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">verify_password</span>(<span class="params"><span class="variable">$password</span>, <span class="variable">$hashed_password</span></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">hash_equals</span>(<span class="variable">$hashed_password</span>, <span class="title function_ invoke__">hash</span>(<span class="string">'sha256'</span>, <span class="variable">$password</span>));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$user_password</span> = <span class="variable">$_POST</span>[<span class="string">'password'</span>];</span><br><span class="line"><span class="variable">$stored_hash</span> = <span class="string">'2c26b46b68ffc68ff99b453c1d3041d8457067982aadae80a851325e75704c81'</span>; <span class="comment">// ä»æ•°æ®åº“ä¸­è·å–çš„å“ˆå¸Œå€¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">verify_password</span>(<span class="variable">$user_password</span>, <span class="variable">$stored_hash</span>)) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"å¯†ç æ­£ç¡®"</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"å¯†ç é”™è¯¯"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><strong><code>hash_equals()</code> å‡½æ•°ï¼š</strong> ç”¨äºå®‰å…¨åœ°æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œé˜²æ­¢<a href="timing-attack.html" target="_blank">æ—¶åºæ”»å‡»</a>ã€‚</li></ul><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li><strong>ç›å€¼ï¼š</strong> ä¸ºäº†å¢åŠ å¯†ç çš„å®‰å…¨æ€§ï¼Œå»ºè®®åœ¨å­˜å‚¨å¯†ç ä¹‹å‰ï¼Œå…ˆç»™å¯†ç åŠ ä¸Šä¸€ä¸ªéšæœºçš„ç›å€¼ï¼Œç„¶åå†è¿›è¡Œå“ˆå¸Œã€‚</li><li><strong>å­˜å‚¨ï¼š</strong> å­˜å‚¨å“ˆå¸Œå€¼æ—¶ï¼Œå»ºè®®ä½¿ç”¨ä¸“é—¨çš„å¯†ç å­˜å‚¨åº“ï¼Œå¹¶é‡‡å–é¢å¤–çš„å®‰å…¨æªæ–½ï¼Œé˜²æ­¢æ•°æ®åº“æ³„éœ²å¯¼è‡´å¯†ç æ³„éœ²ã€‚</li><li><strong>å…¶ä»–å“ˆå¸Œç®—æ³•ï¼š</strong> ç¨‹åºæ”¯æŒå¤šç§å“ˆå¸Œç®—æ³•ï¼Œå¦‚MD5ã€SHA-1ã€SHA-512ç­‰ï¼Œé€‰æ‹©åˆé€‚çš„ç®—æ³•å–å†³äºå®‰å…¨æ€§è¦æ±‚å’Œæ€§èƒ½è¦æ±‚ã€‚</li></ul><h3 id="SHA-256çš„ä¼˜ç‚¹"><a href="#SHA-256çš„ä¼˜ç‚¹" class="headerlink" title="SHA-256çš„ä¼˜ç‚¹"></a>SHA-256çš„ä¼˜ç‚¹</h3><ul><li><strong>å®‰å…¨æ€§é«˜ï¼š</strong> ç›®å‰è¿˜æ²¡æœ‰å‘ç°æœ‰æ•ˆçš„æ”»å‡»æ–¹æ³•ã€‚</li><li><strong>è¾“å‡ºé•¿åº¦é•¿ï¼š</strong> ç¢°æ’æ¦‚ç‡æä½ã€‚</li><li><strong>é€Ÿåº¦å¿«ï¼š</strong> è®¡ç®—é€Ÿåº¦è¾ƒå¿«ã€‚</li></ul><h3 id="SHA-256çš„ç¼ºç‚¹"><a href="#SHA-256çš„ç¼ºç‚¹" class="headerlink" title="SHA-256çš„ç¼ºç‚¹"></a>SHA-256çš„ç¼ºç‚¹</h3><ul><li><strong>ç®—æ³•å¤æ‚ï¼š</strong> ç®—æ³•å®ç°ç›¸å¯¹å¤æ‚ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>SHA-256æ˜¯ä¸€ç§éå¸¸å®‰å…¨çš„å“ˆå¸Œç®—æ³•ï¼Œåœ¨å¾ˆå¤šé¢†åŸŸéƒ½æœ‰å¹¿æ³›çš„åº”ç”¨ã€‚ç›¸æ¯”äºMD5ï¼ŒSHA-256æä¾›äº†æ›´é«˜çš„å®‰å…¨æ€§ä¿è¯ã€‚ä½†æ˜¯ï¼Œéšç€è®¡ç®—æœºè®¡ç®—èƒ½åŠ›çš„ä¸æ–­æå‡ï¼Œæœªæ¥å¯èƒ½å‡ºç°æ–°çš„æ”»å‡»æ–¹æ³•ï¼Œå› æ­¤åœ¨é€‰æ‹©å“ˆå¸Œç®—æ³•æ—¶ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯å’Œå®‰å…¨éœ€æ±‚æ¥ç»¼åˆè€ƒè™‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> sha256 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bcryptï¼šä¸€ç§å®‰å…¨çš„å¯†ç å“ˆå¸Œå‡½æ•°</title>
      <link href="/posts/bcrypt.html"/>
      <url>/posts/bcrypt.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="bcryptæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#bcryptæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="bcryptæ˜¯ä»€ä¹ˆï¼Ÿ"></a>bcryptæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>bcryptæ˜¯ä¸€ç§åŸºäºBlowfishåŠ å¯†ç®—æ³•çš„å¯†ç å“ˆå¸Œå‡½æ•°ã€‚å®ƒè¢«å¹¿æ³›åº”ç”¨äºå­˜å‚¨ç”¨æˆ·å¯†ç ï¼Œå› å…¶å®‰å…¨æ€§é«˜ã€æ˜“ç”¨æ€§å¼ºè€Œå—åˆ°é’çã€‚</p><h3 id="bcryptçš„å·¥ä½œåŸç†"><a href="#bcryptçš„å·¥ä½œåŸç†" class="headerlink" title="bcryptçš„å·¥ä½œåŸç†"></a>bcryptçš„å·¥ä½œåŸç†</h3><p>bcryptçš„å·¥ä½œåŸç†å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><strong>åŠ ç›ï¼š</strong> åœ¨å¯¹å¯†ç è¿›è¡Œå“ˆå¸Œè®¡ç®—ä¹‹å‰ï¼Œä¼šéšæœºç”Ÿæˆä¸€ä¸ªç›å€¼ï¼Œå¹¶å°†å…¶ä¸å¯†ç è¿›è¡Œç»„åˆã€‚è¿™ä¸ªç›å€¼æ˜¯å”¯ä¸€çš„ï¼Œæ¯æ¬¡å“ˆå¸Œè®¡ç®—éƒ½ä¼šç”Ÿæˆä¸åŒçš„ç›å€¼ã€‚</li><li><strong>è¿­ä»£æ¬¡æ•°ï¼š</strong> bcryptå…è®¸è®¾ç½®ä¸€ä¸ªå·¥ä½œå› å­ï¼Œè¿™ä¸ªå› å­å†³å®šäº†å“ˆå¸Œå‡½æ•°çš„è¿­ä»£æ¬¡æ•°ã€‚è¿­ä»£æ¬¡æ•°è¶Šå¤šï¼Œè®¡ç®—æ—¶é—´è¶Šé•¿ï¼Œç ´è§£éš¾åº¦ä¹Ÿå°±è¶Šå¤§ã€‚</li><li><strong>è‡ªé€‚åº”æ€§ï¼š</strong> bcryptå…·æœ‰è‡ªé€‚åº”æ€§ï¼Œéšç€ç¡¬ä»¶è®¡ç®—èƒ½åŠ›çš„æå‡ï¼Œå¯ä»¥åŠ¨æ€å¢åŠ è¿­ä»£æ¬¡æ•°ï¼Œä»¥ä¿æŒç ´è§£éš¾åº¦ä¸å˜ã€‚</li></ul><h3 id="PHP-ä¸­-bcrypt-çš„å®ç°ï¼špassword-hash-å’Œ-password-verify-å‡½æ•°"><a href="#PHP-ä¸­-bcrypt-çš„å®ç°ï¼špassword-hash-å’Œ-password-verify-å‡½æ•°" class="headerlink" title="PHP ä¸­ bcrypt çš„å®ç°ï¼špassword_hash() å’Œ password_verify() å‡½æ•°"></a>PHP ä¸­ bcrypt çš„å®ç°ï¼špassword_hash() å’Œ password_verify() å‡½æ•°</h3><p>PHP ä» 5.5 ç‰ˆæœ¬å¼€å§‹å†…ç½®äº† <code>password_hash()</code> å’Œ <code>password_verify()</code> å‡½æ•°ï¼Œç”¨äºç”Ÿæˆå’ŒéªŒè¯ bcrypt å“ˆå¸Œå€¼ã€‚</p><ul><li><p><strong>password_hash() å‡½æ•°</strong>ï¼š</p><ul><li><strong>åŠŸèƒ½ï¼š</strong> åˆ›å»ºä¸€ä¸ªæ–°çš„å¯†ç å“ˆå¸Œã€‚</li><li><strong>å‚æ•°ï¼š</strong><ul><li><code>password</code>: è¦å“ˆå¸Œçš„å¯†ç ã€‚</li><li><code>algo</code>: ç®—æ³•æ ‡è¯†ç¬¦ï¼Œé€šå¸¸ä½¿ç”¨ <code>PASSWORD_DEFAULT</code> æˆ– <code>PASSWORD_BCRYPT</code>ã€‚</li><li><code>options</code>: ä¸€ä¸ªå…³è”æ•°ç»„ï¼ŒåŒ…å«é¢å¤–çš„é€‰é¡¹ï¼Œå¦‚ <code>cost</code>ï¼ˆå“ˆå¸Œè®¡ç®—çš„æˆæœ¬ï¼‰ã€‚</li></ul></li><li><strong>è¿”å›å€¼ï¼š</strong> ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºç”Ÿæˆçš„å“ˆå¸Œå€¼ã€‚</li></ul></li><li><p><strong>password_verify() å‡½æ•°</strong>ï¼š</p><ul><li><strong>åŠŸèƒ½ï¼š</strong> éªŒè¯ä¸€ä¸ªå¯†ç æ˜¯å¦ä¸ä¸€ä¸ªå·²æœ‰çš„å“ˆå¸Œå€¼åŒ¹é…ã€‚</li><li><strong>å‚æ•°ï¼š</strong><ul><li><code>password</code>: è¦éªŒè¯çš„å¯†ç ã€‚</li><li><code>hash</code>: ä¹‹å‰ä½¿ç”¨ <code>password_hash()</code> ç”Ÿæˆçš„å“ˆå¸Œå€¼ã€‚</li></ul></li><li><strong>è¿”å›å€¼ï¼š</strong> å¦‚æœå¯†ç åŒ¹é…ï¼Œè¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li></ul></li></ul><!-- end list --><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// ç”Ÿæˆä¸€ä¸ª bcrypt å“ˆå¸Œ</span></span><br><span class="line"><span class="variable">$password</span> = <span class="string">'mypassword'</span>;</span><br><span class="line"><span class="variable">$options</span> = [</span><br><span class="line">    <span class="string">'cost'</span> =&gt; <span class="number">12</span>, <span class="comment">// è°ƒæ•´æˆæœ¬å‚æ•°ï¼Œå€¼è¶Šå¤§ï¼Œè®¡ç®—è¶Šè€—æ—¶</span></span><br><span class="line">];</span><br><span class="line"><span class="variable">$hash</span> = <span class="title function_ invoke__">password_hash</span>(<span class="variable">$password</span>, PASSWORD_DEFAULT, <span class="variable">$options</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯å¯†ç </span></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">password_verify</span>(<span class="variable">$password</span>, <span class="variable">$hash</span>)) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'å¯†ç æ­£ç¡®'</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'å¯†ç é”™è¯¯'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="bcryptçš„ä¼˜åŠ¿"><a href="#bcryptçš„ä¼˜åŠ¿" class="headerlink" title="bcryptçš„ä¼˜åŠ¿"></a>bcryptçš„ä¼˜åŠ¿</h3><ul><li><strong>å®‰å…¨æ€§é«˜ï¼š</strong> ç»“åˆäº†åŠ ç›å’Œå¯å˜å·¥ä½œå› å­ï¼Œä½¿å¾—bcryptå¯¹å½©è™¹è¡¨æ”»å‡»ã€å­—å…¸æ”»å‡»ç­‰å…·æœ‰å¾ˆå¼ºçš„æŠµæŠ—åŠ›ã€‚</li><li><strong>æ˜“ç”¨æ€§å¼ºï¼š</strong> bcryptçš„å®ç°ç›¸å¯¹ç®€å•ï¼Œå¾ˆå¤šç¼–ç¨‹è¯­è¨€å’Œæ•°æ®åº“éƒ½æä¾›äº†å†…ç½®çš„bcryptå‡½æ•°ã€‚</li><li><strong>çµæ´»æ€§å¼ºï¼š</strong> å¯ä»¥é€šè¿‡è°ƒæ•´å·¥ä½œå› å­æ¥é€‚åº”ä¸åŒçš„å®‰å…¨éœ€æ±‚ã€‚</li></ul><h3 id="bcryptåœ¨å¯†ç å­˜å‚¨ä¸­çš„åº”ç”¨"><a href="#bcryptåœ¨å¯†ç å­˜å‚¨ä¸­çš„åº”ç”¨" class="headerlink" title="bcryptåœ¨å¯†ç å­˜å‚¨ä¸­çš„åº”ç”¨"></a>bcryptåœ¨å¯†ç å­˜å‚¨ä¸­çš„åº”ç”¨</h3><p>bcryptå¸¸ç”¨äºå­˜å‚¨ç”¨æˆ·å¯†ç ã€‚å½“ç”¨æˆ·æ³¨å†Œæˆ–ä¿®æ”¹å¯†ç æ—¶ï¼Œç³»ç»Ÿä¼šä½¿ç”¨bcryptå¯¹å¯†ç è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œå¹¶å°†å¾—åˆ°çš„å“ˆå¸Œå€¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œç³»ç»Ÿä¼šå†æ¬¡å¯¹è¾“å…¥çš„å¯†ç è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œå¹¶å°†ç»“æœä¸å­˜å‚¨çš„å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸¤è€…ä¸€è‡´ï¼Œåˆ™éªŒè¯é€šè¿‡ã€‚</p><p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨bcryptå­˜å‚¨å¯†ç æ¯”ç›´æ¥å­˜å‚¨å¯†ç æ›´å®‰å…¨ï¼Ÿ</strong></p><ul><li><strong>ä¸å¯é€†æ€§ï¼š</strong> å“ˆå¸Œå‡½æ•°æ˜¯å•å‘çš„ï¼Œæ— æ³•ä»å“ˆå¸Œå€¼åæ¨å‡ºåŸå§‹å¯†ç ã€‚</li><li><strong>å®‰å…¨æ€§é«˜ï¼š</strong> bcryptçš„åŠ ç›å’Œå¯å˜å·¥ä½œå› å­ä½¿å¾—ç ´è§£éš¾åº¦å¤§å¤§å¢åŠ ã€‚</li><li><strong>é˜²æ­¢å½©è™¹è¡¨æ”»å‡»ï¼š</strong> ç”±äºç›å€¼æ˜¯éšæœºç”Ÿæˆçš„ï¼Œå½©è™¹è¡¨æ”»å‡»å˜å¾—æ— æ•ˆã€‚</li></ul><h3 id="bcryptçš„åº”ç”¨åœºæ™¯"><a href="#bcryptçš„åº”ç”¨åœºæ™¯" class="headerlink" title="bcryptçš„åº”ç”¨åœºæ™¯"></a>bcryptçš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>ç”¨æˆ·è®¤è¯ï¼š</strong> å‡ ä¹æ‰€æœ‰éœ€è¦ç”¨æˆ·ç™»å½•çš„ç³»ç»Ÿéƒ½ä¼šä½¿ç”¨bcryptæ¥å­˜å‚¨å¯†ç ã€‚</li><li><strong>å¯†ç é‡ç½®ï¼š</strong> åœ¨ç”¨æˆ·å¿˜è®°å¯†ç æ—¶ï¼Œç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„éšæœºå¯†ç ï¼Œå¹¶ä½¿ç”¨bcryptè¿›è¡Œå“ˆå¸Œå­˜å‚¨ã€‚</li><li><strong>å…¶ä»–éœ€è¦ä¿æŠ¤å¯†ç çš„åœºæ™¯ï¼š</strong> æ¯”å¦‚APIè®¤è¯ã€å¯†é’¥å­˜å‚¨ç­‰ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>bcryptæ˜¯ä¸€ç§éå¸¸å®‰å…¨çš„å¯†ç å“ˆå¸Œå‡½æ•°ï¼Œåœ¨ä¿æŠ¤ç”¨æˆ·å¯†ç æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚å®ƒçš„å®‰å…¨æ€§ã€æ˜“ç”¨æ€§å’Œçµæ´»æ€§ä½¿å…¶æˆä¸ºå­˜å‚¨å¯†ç çš„é¦–é€‰æ–¹æ¡ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“ˆå¸Œç®—æ³• </tag>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> bcrypt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SHA-512ï¼šæ›´å®‰å…¨çš„å“ˆå¸Œç®—æ³•</title>
      <link href="/posts/sha512-algorithm.html"/>
      <url>/posts/sha512-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="SHA-512æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#SHA-512æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="SHA-512æ˜¯ä»€ä¹ˆï¼Ÿ"></a>SHA-512æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>SHA-512ï¼ˆSecure Hash Algorithm 512ï¼‰æ˜¯ä¸€ç§å¯†ç æ•£åˆ—å‡½æ•°ï¼Œæ˜¯SHA-2ç®—æ³•å®¶æ—ä¸­çš„ä¸€ä¸ªæˆå‘˜ã€‚å®ƒå¯ä»¥å°†ä»»æ„é•¿åº¦çš„æ•°æ®è½¬æ¢ä¸ºä¸€ä¸ªå›ºå®šé•¿åº¦çš„512ä½ï¼ˆ64å­—èŠ‚ï¼‰çš„æ¶ˆæ¯æ‘˜è¦ã€‚è¿™ä¸ªæ‘˜è¦é€šå¸¸è¢«ç§°ä¸ºå“ˆå¸Œå€¼ã€‚</p><h3 id="SHA-512çš„å·¥ä½œåŸç†"><a href="#SHA-512çš„å·¥ä½œåŸç†" class="headerlink" title="SHA-512çš„å·¥ä½œåŸç†"></a>SHA-512çš„å·¥ä½œåŸç†</h3><p>SHA-512çš„å·¥ä½œåŸç†ä¸SHA-1ç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ä¸€ç³»åˆ—å¤æ‚çš„æ•°å­¦è¿ç®—ï¼Œå°†è¾“å…¥çš„æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„è¾“å‡ºã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼ŒSHA-512ä½¿ç”¨çš„è¿ç®—æ›´å¤æ‚ï¼Œäº§ç”Ÿçš„å“ˆå¸Œå€¼æ›´é•¿ï¼Œå› æ­¤å®‰å…¨æ€§æ›´é«˜ã€‚</p><h3 id="SHA-512çš„ä¼˜åŠ¿"><a href="#SHA-512çš„ä¼˜åŠ¿" class="headerlink" title="SHA-512çš„ä¼˜åŠ¿"></a>SHA-512çš„ä¼˜åŠ¿</h3><ul><li><strong>æ›´é«˜çš„å®‰å…¨æ€§:</strong> ç›¸æ¯”äºSHA-1ï¼ŒSHA-512çš„å“ˆå¸Œå€¼æ›´é•¿ï¼Œç¢°æ’æ”»å‡»çš„éš¾åº¦æ›´å¤§ï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚</li><li><strong>å¹¿æ³›åº”ç”¨:</strong> SHA-512è¢«å¹¿æ³›åº”ç”¨äºå„ç§éœ€è¦æ•°æ®å®Œæ•´æ€§æ ¡éªŒå’Œå®‰å…¨è®¤è¯çš„åœºæ™¯ã€‚</li></ul><h3 id="SHA-512çš„åº”ç”¨åœºæ™¯"><a href="#SHA-512çš„åº”ç”¨åœºæ™¯" class="headerlink" title="SHA-512çš„åº”ç”¨åœºæ™¯"></a>SHA-512çš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>æ•°å­—ç­¾å:</strong> ç”¨äºéªŒè¯æ•°æ®çš„å®Œæ•´æ€§å’Œå‘é€è€…çš„èº«ä»½ã€‚</li><li><strong>å¯†ç å­˜å‚¨:</strong> å°†å¯†ç çš„å“ˆå¸Œå€¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œæé«˜å¯†ç çš„å®‰å…¨æ€§ã€‚</li><li><strong>æ–‡ä»¶æ ¡éªŒ:</strong> ç”¨äºéªŒè¯æ–‡ä»¶çš„å®Œæ•´æ€§ï¼Œé˜²æ­¢æ–‡ä»¶è¢«ç¯¡æ”¹ã€‚</li><li><strong>åŒºå—é“¾:</strong> åœ¨åŒºå—é“¾æŠ€æœ¯ä¸­ï¼ŒSHA-512è¢«ç”¨äºç”ŸæˆåŒºå—çš„å“ˆå¸Œå€¼ï¼Œç¡®ä¿åŒºå—é“¾çš„ä¸å¯ç¯¡æ”¹æ€§ã€‚</li></ul><h3 id="SHA-512ä¸SHA-256çš„åŒºåˆ«"><a href="#SHA-512ä¸SHA-256çš„åŒºåˆ«" class="headerlink" title="SHA-512ä¸SHA-256çš„åŒºåˆ«"></a>SHA-512ä¸SHA-256çš„åŒºåˆ«</h3><p>SHA-512å’ŒSHA-256éƒ½æ˜¯SHA-2ç®—æ³•å®¶æ—çš„æˆå‘˜ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºè¾“å‡ºçš„å“ˆå¸Œå€¼é•¿åº¦ä¸åŒï¼š</p><ul><li><strong>SHA-256:</strong> ç”Ÿæˆ256ä½çš„å“ˆå¸Œå€¼ã€‚</li><li><strong>SHA-512:</strong> ç”Ÿæˆ512ä½çš„å“ˆå¸Œå€¼ã€‚</li></ul><p>ä¸€èˆ¬æ¥è¯´ï¼ŒSHA-512çš„å®‰å…¨æ€§æ›´é«˜ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦æ›´å¤šçš„è®¡ç®—èµ„æºã€‚åœ¨é€‰æ‹©ä½¿ç”¨å“ªç§ç®—æ³•æ—¶ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯å’Œå®‰å…¨éœ€æ±‚æ¥è¿›è¡Œæƒè¡¡ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>SHA-512æ˜¯ä¸€ç§å®‰å…¨ã€é«˜æ•ˆçš„å“ˆå¸Œç®—æ³•ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå„ç§éœ€è¦æ•°æ®å®‰å…¨æ€§çš„åœºæ™¯ã€‚ç›¸è¾ƒäºSHA-1ï¼ŒSHA-512å…·æœ‰æ›´é«˜çš„å®‰å…¨æ€§ï¼Œæ˜¯ç›®å‰å¯†ç å­¦é¢†åŸŸçš„ä¸»æµç®—æ³•ä¹‹ä¸€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“ˆå¸Œç®—æ³• </tag>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> sha512 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¾§ä¿¡é“æ”»å‡»ï¼šä»æ—é—¨çª¥æ¢å¯†ç ä¸–ç•Œçš„ç§˜å¯†</title>
      <link href="/posts/side-channel-attack.html"/>
      <url>/posts/side-channel-attack.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯ä¾§ä¿¡é“æ”»å‡»ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¾§ä¿¡é“æ”»å‡»ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¾§ä¿¡é“æ”»å‡»ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä¾§ä¿¡é“æ”»å‡»ï¼Ÿ</h3><p>ä¾§ä¿¡é“æ”»å‡»ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯é€šè¿‡ä¸€äº›â€œæ—é—¨å·¦é“â€æ¥è·å–ç³»ç»Ÿä¸­çš„æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚å¯†ç ã€‚ä¸åŒäºä¼ ç»Ÿå¯†ç åˆ†æï¼Œä¾§ä¿¡é“æ”»å‡»å¹¶ä¸ç›´æ¥é’ˆå¯¹ç®—æ³•çš„æ•°å­¦å¼±ç‚¹ï¼Œè€Œæ˜¯åˆ©ç”¨ç³»ç»Ÿåœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„ç‰©ç†ç‰¹æ€§æ³„éœ²çš„ä¿¡æ¯æ¥ç ´è§£ã€‚</p><p>è¿™äº›ç‰©ç†ç‰¹æ€§å¯ä»¥æ˜¯ï¼š</p><ul><li><strong>æ—¶é—´:</strong> ç³»ç»Ÿæ‰§è¡Œä¸åŒæ“ä½œæ‰€éœ€çš„æ—¶é—´ã€‚</li><li><strong>åŠŸè€—:</strong> ç³»ç»Ÿåœ¨ä¸åŒæ“ä½œä¸‹çš„åŠŸè€—å˜åŒ–ã€‚</li><li><strong>ç”µç£è¾å°„:</strong> ç³»ç»Ÿäº§ç”Ÿçš„ç”µç£è¾å°„ã€‚</li><li><strong>å£°éŸ³:</strong> ç³»ç»Ÿè¿è¡Œæ—¶äº§ç”Ÿçš„å£°éŸ³ã€‚</li></ul><h3 id="ä¾§ä¿¡é“æ”»å‡»çš„åŸç†"><a href="#ä¾§ä¿¡é“æ”»å‡»çš„åŸç†" class="headerlink" title="ä¾§ä¿¡é“æ”»å‡»çš„åŸç†"></a>ä¾§ä¿¡é“æ”»å‡»çš„åŸç†</h3><p>é€šè¿‡æµ‹é‡è¿™äº›ç‰©ç†ç‰¹æ€§ï¼Œæ”»å‡»è€…å¯ä»¥æ¨æ–­å‡ºç³»ç»Ÿå†…éƒ¨çš„æŸäº›çŠ¶æ€ï¼Œä»è€Œè·å–æ•æ„Ÿä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p><ul><li><strong>æ—¶åºæ”»å‡»:</strong> é€šè¿‡æµ‹é‡åŠ å¯†ç®—æ³•æ‰§è¡Œæ—¶é—´ï¼Œæ¨æ–­å¯†é’¥çš„é•¿åº¦æˆ–éƒ¨åˆ†ä½ã€‚</li><li><strong>åŠŸç‡åˆ†ææ”»å‡»:</strong> é€šè¿‡æµ‹é‡è®¾å¤‡çš„åŠŸè€—å˜åŒ–ï¼Œæ¨æ–­å¯†é’¥çš„å…·ä½“å€¼ã€‚</li><li><strong>ç”µç£è¾å°„æ”»å‡»:</strong> é€šè¿‡æµ‹é‡è®¾å¤‡äº§ç”Ÿçš„ç”µç£è¾å°„ï¼Œè·å–åŠ å¯†è¿‡ç¨‹ä¸­çš„ä¸­é—´å€¼ã€‚</li></ul><h3 id="ä¾§ä¿¡é“æ”»å‡»çš„å±å®³"><a href="#ä¾§ä¿¡é“æ”»å‡»çš„å±å®³" class="headerlink" title="ä¾§ä¿¡é“æ”»å‡»çš„å±å®³"></a>ä¾§ä¿¡é“æ”»å‡»çš„å±å®³</h3><ul><li><strong>å¯†ç æ³„éœ²:</strong> ä¾§ä¿¡é“æ”»å‡»å¯ä»¥è½»æ¾ç ´è§£å¯†ç ï¼Œå¯¼è‡´ç³»ç»Ÿè¢«æ”»ç ´ã€‚</li><li><strong>æ•°æ®æ³„éœ²:</strong> æ”»å‡»è€…å¯ä»¥è·å–ç³»ç»Ÿä¸­çš„æ•æ„Ÿæ•°æ®ï¼Œé€ æˆå·¨å¤§çš„æŸå¤±ã€‚</li><li><strong>ç³»ç»Ÿç˜«ç—ª:</strong> æ”»å‡»è€…å¯ä»¥é€šè¿‡ä¾§ä¿¡é“æ”»å‡»ç ´åç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œã€‚</li></ul><h3 id="é˜²å¾¡ä¾§ä¿¡é“æ”»å‡»"><a href="#é˜²å¾¡ä¾§ä¿¡é“æ”»å‡»" class="headerlink" title="é˜²å¾¡ä¾§ä¿¡é“æ”»å‡»"></a>é˜²å¾¡ä¾§ä¿¡é“æ”»å‡»</h3><ul><li><strong>æ’å®šæ—¶é—´ç®—æ³•:</strong> è®¾è®¡ç®—æ³•æ—¶ï¼Œç¡®ä¿ç®—æ³•æ‰§è¡Œæ—¶é—´ä¸è¾“å…¥æ•°æ®æ— å…³ã€‚</li><li><strong>éšæœºå»¶è¿Ÿ:</strong> åœ¨æ‰§è¡Œæ•æ„Ÿæ“ä½œæ—¶ï¼Œéšæœºå¼•å…¥å»¶è¿Ÿï¼Œæ¨¡ç³Šæ—¶é—´ä¿¡æ¯ã€‚</li><li><strong>æ©ç æŠ€æœ¯:</strong> å¯¹æ•°æ®è¿›è¡Œæ©ç å¤„ç†ï¼Œéšè—æ•°æ®æœ¬èº«çš„ç‰¹å¾ã€‚</li><li><strong>ç¡¬ä»¶å®‰å…¨æ¨¡å—(HSM):</strong> ä½¿ç”¨ä¸“é—¨çš„ç¡¬ä»¶è®¾å¤‡æ¥ä¿æŠ¤å¯†é’¥ï¼Œéš”ç¦»æ•æ„Ÿæ“ä½œã€‚</li></ul><h3 id="å¸¸è§çš„ä¾§ä¿¡é“æ”»å‡»ç±»å‹"><a href="#å¸¸è§çš„ä¾§ä¿¡é“æ”»å‡»ç±»å‹" class="headerlink" title="å¸¸è§çš„ä¾§ä¿¡é“æ”»å‡»ç±»å‹"></a>å¸¸è§çš„ä¾§ä¿¡é“æ”»å‡»ç±»å‹</h3><ul><li><strong>æ—¶åºæ”»å‡»:</strong> åˆ©ç”¨æ—¶é—´å·®è¿›è¡Œæ”»å‡»ã€‚</li><li><strong>åŠŸç‡åˆ†ææ”»å‡»:</strong> åˆ©ç”¨åŠŸè€—å˜åŒ–è¿›è¡Œæ”»å‡»ã€‚</li><li><strong>ç”µç£è¾å°„æ”»å‡»:</strong> åˆ©ç”¨ç”µç£è¾å°„è¿›è¡Œæ”»å‡»ã€‚</li><li><strong>æ•…éšœæ³¨å…¥æ”»å‡»:</strong> é€šè¿‡äººä¸ºå¼•å…¥æ•…éšœæ¥è·å–ä¿¡æ¯ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¾§ä¿¡é“æ”»å‡»æ˜¯ä¸€ç§éå¸¸éšè”½ä¸”æœ‰æ•ˆçš„æ”»å‡»æ–¹å¼ï¼Œå¯¹ç³»ç»Ÿå®‰å…¨æ„æˆäº†ä¸¥é‡å¨èƒã€‚ä¸ºäº†é˜²å¾¡ä¾§ä¿¡é“æ”»å‡»ï¼Œæˆ‘ä»¬éœ€è¦ä»ç®—æ³•è®¾è®¡ã€ç¡¬ä»¶å®ç°ã€è½¯ä»¶é˜²æŠ¤ç­‰å¤šä¸ªæ–¹é¢å…¥æ‰‹ï¼Œé‡‡å–ç»¼åˆæ€§çš„é˜²æŠ¤æªæ–½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> ä¾§ä¿¡é“æ”»å‡» </tag>
            
            <tag> æ—¶åºæ”»å‡» </tag>
            
            <tag> åŠŸç‡åˆ†ææ”»å‡» </tag>
            
            <tag> ç”µç£è¾å°„æ”»å‡» </tag>
            
            <tag> å¯†ç å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å“ˆå¸Œç®—æ³•ï¼šæ•°æ®ä¸–ç•Œçš„æŒ‡çº¹</title>
      <link href="/posts/hash-algorithm.html"/>
      <url>/posts/hash-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯å“ˆå¸Œç®—æ³•ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å“ˆå¸Œç®—æ³•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å“ˆå¸Œç®—æ³•ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å“ˆå¸Œç®—æ³•ï¼Ÿ</h3><p>å“ˆå¸Œç®—æ³•ï¼Œä¹Ÿè¢«ç§°ä¸ºæ•£åˆ—ç®—æ³•ï¼Œæ˜¯ä¸€ç§å°†ä»»æ„é•¿åº¦çš„è¾“å…¥ï¼ˆæ¯”å¦‚æ–‡æœ¬ã€æ–‡ä»¶ç­‰ï¼‰é€šè¿‡ä¸€ä¸ªå‡½æ•°è®¡ç®—åï¼Œå¾—åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼ˆç§°ä¸ºå“ˆå¸Œå€¼æˆ–æ‘˜è¦ï¼‰çš„ç®—æ³•ã€‚è¿™ä¸ªè¾“å‡ºé€šå¸¸æ˜¯ä¸€ä¸ªæ¯”è¾“å…¥å°çš„å­—ç¬¦ä¸²ï¼Œä¸”é€šå¸¸æ˜¯åå…­è¿›åˆ¶çš„å­—ç¬¦ä¸²ã€‚</p><p><strong>å½¢è±¡åœ°è¯´ï¼Œå“ˆå¸Œç®—æ³•å°±åƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„â€œæ…æ‹Œæœºâ€ï¼Œæ— è®ºä½ æ”¾å…¥ä»€ä¹ˆé£Ÿæï¼Œå®ƒéƒ½èƒ½è¾“å‡ºä¸€ä¸ªå›ºå®šå¤§å°ã€ä¸”çœ‹èµ·æ¥æ‚ä¹±æ— ç« çš„â€œæ··åˆç‰©â€ã€‚</strong></p><p>ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œæ•£åˆ—ç®—æ³•å°±åƒä¸€ä¸ªé»‘ç›’å­ï¼Œä½ æŠŠä»»ä½•ä¸œè¥¿ä¸¢è¿›å»ï¼Œå®ƒéƒ½ä¼šç»™ä½ åå‡ºä¸€ä¸ªå›ºå®šçš„â€œæŒ‡çº¹â€ã€‚è¿™ä¸ªâ€œæŒ‡çº¹â€è™½ç„¶æ¯”åŸæ¥çš„ä¸œè¥¿å°å¾—å¤šï¼Œä½†å´èƒ½ä»£è¡¨åŸæ¥çš„ä¸œè¥¿ã€‚è€Œä¸”ï¼Œåªè¦ä½ è¾“å…¥çš„ä¸œè¥¿ä¸å˜ï¼Œè¾“å‡ºçš„â€œæŒ‡çº¹â€ä¹Ÿæ°¸è¿œä¸å˜ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š<br>å‡è®¾æˆ‘ä»¬æŠŠä¸€æ®µæ–‡å­—ä½œä¸ºè¾“å…¥ï¼Œç»è¿‡æ•£åˆ—ç®—æ³•å¤„ç†åï¼Œå¾—åˆ°ä¸€ä¸ªå“ˆå¸Œå€¼ã€‚å¦‚æœæˆ‘ä»¬å¯¹è¿™æ®µæ–‡å­—åšä»»ä½•ä¿®æ”¹ï¼Œå“ªæ€•åªæ”¹äº†ä¸€ä¸ªå­—ï¼Œå¾—åˆ°çš„å“ˆå¸Œå€¼ä¹Ÿä¼šå®Œå…¨ä¸åŒã€‚è¿™å°±å¥½åƒç»™è¿™æ®µæ–‡å­—æŒ‰äº†ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„â€œæŒ‡çº¹â€ã€‚</p><h3 id="å“ˆå¸Œç®—æ³•çš„ç‰¹ç‚¹"><a href="#å“ˆå¸Œç®—æ³•çš„ç‰¹ç‚¹" class="headerlink" title="å“ˆå¸Œç®—æ³•çš„ç‰¹ç‚¹"></a>å“ˆå¸Œç®—æ³•çš„ç‰¹ç‚¹</h3><ul><li><strong>ç¡®å®šæ€§ï¼š</strong> å¯¹äºç›¸åŒçš„è¾“å…¥ï¼Œå“ˆå¸Œç®—æ³•æ€»æ˜¯äº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚</li><li><strong>å¿«é€Ÿè®¡ç®—ï¼š</strong> å“ˆå¸Œç®—æ³•çš„è®¡ç®—é€Ÿåº¦é€šå¸¸å¾ˆå¿«ã€‚</li><li><strong>æŠ—ç¢°æ’æ€§ï¼š</strong> æ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„è¾“å…¥ï¼Œå´äº§ç”Ÿç›¸åŒçš„è¾“å‡ºï¼ˆå³ç¢°æ’ï¼‰çš„æ¦‚ç‡éå¸¸å°ã€‚</li><li><strong>å•å‘æ€§ï¼š</strong> ä»å“ˆå¸Œå€¼åæ¨å‡ºåŸå§‹æ•°æ®æ˜¯æå…¶å›°éš¾çš„ï¼Œç”šè‡³æ˜¯ä¸å¯èƒ½çš„ã€‚</li></ul><h3 id="å“ˆå¸Œç®—æ³•çš„åº”ç”¨"><a href="#å“ˆå¸Œç®—æ³•çš„åº”ç”¨" class="headerlink" title="å“ˆå¸Œç®—æ³•çš„åº”ç”¨"></a>å“ˆå¸Œç®—æ³•çš„åº”ç”¨</h3><ul><li><strong>å¯†ç å­˜å‚¨:</strong> ç½‘ç«™é€šå¸¸ä¸ç›´æ¥å­˜å‚¨ç”¨æˆ·çš„æ˜æ–‡å¯†ç ï¼Œè€Œæ˜¯å­˜å‚¨å¯†ç çš„å“ˆå¸Œå€¼ã€‚å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œç³»ç»Ÿä¼šé‡æ–°è®¡ç®—è¾“å…¥å¯†ç çš„å“ˆå¸Œå€¼ï¼Œå¹¶ä¸å­˜å‚¨çš„å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒã€‚</li><li><strong>æ•°æ®å®Œæ•´æ€§æ ¡éªŒ:</strong> é€šè¿‡æ¯”è¾ƒæ–‡ä»¶çš„å“ˆå¸Œå€¼ï¼Œå¯ä»¥å¿«é€Ÿæ£€æµ‹æ–‡ä»¶æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</li><li><strong>æ•°å­—ç­¾å:</strong> åœ¨æ•°å­—ç­¾åä¸­ï¼Œå“ˆå¸Œç®—æ³•ç”¨äºç”Ÿæˆæ¶ˆæ¯æ‘˜è¦ï¼Œç„¶åå¯¹æ‘˜è¦è¿›è¡Œç­¾åã€‚</li><li><strong>åˆ†å¸ƒå¼å­˜å‚¨:</strong> åœ¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œå“ˆå¸Œç®—æ³•ç”¨äºå®šä½æ•°æ®ã€‚</li><li><strong>åŒºå—é“¾:</strong> å“ˆå¸Œç®—æ³•æ˜¯åŒºå—é“¾æŠ€æœ¯çš„åŸºç¡€ï¼Œç”¨äºè¿æ¥å„ä¸ªåŒºå—ï¼Œä¿è¯æ•°æ®çš„ä¸å¯ç¯¡æ”¹æ€§ã€‚</li></ul><h3 id="å¸¸ç”¨çš„å“ˆå¸Œç®—æ³•"><a href="#å¸¸ç”¨çš„å“ˆå¸Œç®—æ³•" class="headerlink" title="å¸¸ç”¨çš„å“ˆå¸Œç®—æ³•"></a>å¸¸ç”¨çš„å“ˆå¸Œç®—æ³•</h3><ul><li><strong><a href="md5-algorithm.html" target="_blank">MD5</a> (Message-Digest Algorithm 5):</strong> äº§ç”Ÿ128ä½ï¼ˆ16å­—èŠ‚ï¼‰çš„å“ˆå¸Œå€¼ã€‚è™½ç„¶é€Ÿåº¦å¿«ï¼Œä½†å·²ç»ä¸å†å®‰å…¨ï¼Œå®¹æ˜“å‘ç”Ÿç¢°æ’ã€‚</li><li><strong>SHA-1 (Secure Hash Algorithm 1):</strong> äº§ç”Ÿ160ä½å“ˆå¸Œå€¼ï¼Œæ¯”<a href="md5-algorithm.html" target="_blank">MD5</a>æ›´å®‰å…¨ï¼Œä½†ä¹Ÿè¢«è¯æ˜å­˜åœ¨æ¼æ´ã€‚</li><li><strong><a href="sha256-algorithm.html" target="_blank">SHA-256</a>ã€SHA-512:</strong> SHA-2å®¶æ—çš„ç®—æ³•ï¼Œå®‰å…¨æ€§æ›´é«˜ï¼Œæ˜¯ç›®å‰å¹¿æ³›ä½¿ç”¨çš„å“ˆå¸Œç®—æ³•ä¹‹ä¸€ã€‚</li></ul><h3 id="å“ˆå¸Œç¢°æ’"><a href="#å“ˆå¸Œç¢°æ’" class="headerlink" title="å“ˆå¸Œç¢°æ’"></a>å“ˆå¸Œç¢°æ’</h3><p>å“ˆå¸Œç¢°æ’æ˜¯æŒ‡ä¸¤ä¸ªä¸åŒçš„è¾“å…¥äº§ç”Ÿäº†ç›¸åŒçš„å“ˆå¸Œå€¼ã€‚è™½ç„¶å“ˆå¸Œç®—æ³•çš„æŠ—ç¢°æ’æ€§å¾ˆé«˜ï¼Œä½†ç†è®ºä¸Šä»ç„¶å¯èƒ½å‘ç”Ÿç¢°æ’ã€‚ä¸ºäº†é¿å…ç¢°æ’å¸¦æ¥çš„å®‰å…¨é—®é¢˜ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸ä¼šç»“åˆå…¶ä»–å®‰å…¨æªæ–½ï¼Œæ¯”å¦‚ä½¿ç”¨ç›å€¼ï¼ˆsaltï¼‰æ¥å¢åŠ å¯†ç çš„å¤æ‚æ€§ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å“ˆå¸Œç®—æ³•åœ¨è®¡ç®—æœºç§‘å­¦ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼Œå®ƒçš„ç¡®å®šæ€§ã€å¿«é€Ÿè®¡ç®—å’ŒæŠ—ç¢°æ’æ€§ç­‰ç‰¹ç‚¹ä½¿å¾—å®ƒæˆä¸ºä¿éšœæ•°æ®å®‰å…¨å’Œå®Œæ•´æ€§çš„é‡è¦å·¥å…·ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“ˆå¸Œç®—æ³• </tag>
            
            <tag> å®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’å®šæ—¶é—´ç®—æ³•ï¼šæŠµå¾¡æ—¶åºæ”»å‡»çš„åšç›¾</title>
      <link href="/posts/constant-time-algorithm.html"/>
      <url>/posts/constant-time-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ</h3><p>æ’å®šæ—¶é—´ç®—æ³•ï¼ˆConstant-time algorithmï¼‰æ˜¯æŒ‡ç®—æ³•çš„è¿è¡Œæ—¶é—´ä¸è¾“å…¥æ•°æ®çš„å†…å®¹æ— å…³ï¼Œå§‹ç»ˆä¿æŒä¸€è‡´ã€‚æ¢å¥è¯è¯´ï¼Œæ— è®ºè¾“å…¥æ•°æ®æ˜¯ä»€ä¹ˆï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´éƒ½æ˜¯å›ºå®šçš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦æ’å®šæ—¶é—´ç®—æ³•ï¼Ÿ</h3><ul><li><strong>æŠµå¾¡æ—¶åºæ”»å‡»ï¼š</strong> æ—¶åºæ”»å‡»é€šè¿‡æµ‹é‡ç®—æ³•æ‰§è¡Œæ—¶é—´æ¥è·å–æ•æ„Ÿä¿¡æ¯ï¼Œæ’å®šæ—¶é—´ç®—æ³•èƒ½æœ‰æ•ˆåœ°é˜²æ­¢è¿™ç§æ”»å‡»ã€‚</li><li><strong>æé«˜å®‰å…¨æ€§ï¼š</strong> æ’å®šæ—¶é—´ç®—æ³•èƒ½é˜²æ­¢æ”»å‡»è€…é€šè¿‡åˆ†ææ‰§è¡Œæ—¶é—´æ¥æ¨æ–­ç³»ç»Ÿçš„å†…éƒ¨çŠ¶æ€ã€‚</li><li><strong>å¢å¼ºç³»ç»Ÿç¨³å®šæ€§ï¼š</strong> æ’å®šæ—¶é—´ç®—æ³•èƒ½æé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œé¿å…å› è¾“å…¥æ•°æ®ä¸åŒå¯¼è‡´æ€§èƒ½æ³¢åŠ¨ã€‚</li></ul><h3 id="æ’å®šæ—¶é—´ç®—æ³•çš„å®ç°"><a href="#æ’å®šæ—¶é—´ç®—æ³•çš„å®ç°" class="headerlink" title="æ’å®šæ—¶é—´ç®—æ³•çš„å®ç°"></a>æ’å®šæ—¶é—´ç®—æ³•çš„å®ç°</h3><p>å®ç°æ’å®šæ—¶é—´ç®—æ³•çš„å…³é”®åœ¨äºï¼Œæ— è®ºè¾“å…¥æ•°æ®å¦‚ä½•å˜åŒ–ï¼Œç®—æ³•çš„æ‰§è¡Œè·¯å¾„éƒ½å¿…é¡»æ˜¯ç›¸åŒçš„ã€‚å¸¸ç”¨çš„å®ç°æ–¹æ³•åŒ…æ‹¬ï¼š</p><ul><li><strong>å¾ªç¯æ¯”è¾ƒï¼š</strong> æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œä¸é‡‡ç”¨é€å­—ç¬¦æ¯”è¾ƒçš„æ–¹å¼ï¼Œè€Œæ˜¯éå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯æ¬¡æ¯”è¾ƒå¯¹åº”ä½ç½®çš„å­—ç¬¦ï¼Œç›´åˆ°æ¯”è¾ƒç»“æŸã€‚</li><li><strong>æŸ¥æ‰¾è¡¨ï¼š</strong> ä½¿ç”¨æŸ¥æ‰¾è¡¨æ¥ä»£æ›¿è®¡ç®—ï¼Œç¡®ä¿æ¯æ¬¡æŸ¥æ‰¾çš„æ—¶é—´éƒ½æ˜¯å›ºå®šçš„ã€‚</li><li><strong>ä½æ“ä½œï¼š</strong> åˆ©ç”¨ä½æ“ä½œæ¥å®ç°æ’å®šæ—¶é—´ç®—æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨å¼‚æˆ–æ“ä½œæ¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚</li></ul><h3 id="æ’å®šæ—¶é—´ç®—æ³•çš„åº”ç”¨åœºæ™¯"><a href="#æ’å®šæ—¶é—´ç®—æ³•çš„åº”ç”¨åœºæ™¯" class="headerlink" title="æ’å®šæ—¶é—´ç®—æ³•çš„åº”ç”¨åœºæ™¯"></a>æ’å®šæ—¶é—´ç®—æ³•çš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>å¯†ç éªŒè¯ï¼š</strong> æ¯”è¾ƒç”¨æˆ·è¾“å…¥çš„å¯†ç ä¸å­˜å‚¨çš„å“ˆå¸Œå€¼æ—¶ï¼Œä½¿ç”¨æ’å®šæ—¶é—´ç®—æ³•å¯ä»¥é˜²æ­¢æ—¶åºæ”»å‡»ã€‚</li><li><strong>åŠ å¯†ç®—æ³•ï¼š</strong> è®¸å¤šåŠ å¯†ç®—æ³•éƒ½è¦æ±‚å…·æœ‰æ’å®šæ—¶é—´ç‰¹æ€§ï¼Œä»¥é˜²æ­¢ä¾§ä¿¡é“æ”»å‡»ã€‚</li><li><strong>å®‰å…¨åè®®ï¼š</strong> åœ¨å®‰å…¨åè®®ä¸­ï¼Œæ’å®šæ—¶é—´ç®—æ³•å¯ä»¥æé«˜åè®®çš„å®‰å…¨æ€§ã€‚</li></ul><h3 id="PHPä¸­çš„æ’å®šæ—¶é—´æ¯”è¾ƒå‡½æ•°-hash-equals"><a href="#PHPä¸­çš„æ’å®šæ—¶é—´æ¯”è¾ƒå‡½æ•°-hash-equals" class="headerlink" title="PHPä¸­çš„æ’å®šæ—¶é—´æ¯”è¾ƒå‡½æ•° hash_equals()"></a>PHPä¸­çš„æ’å®šæ—¶é—´æ¯”è¾ƒå‡½æ•° <code>hash_equals()</code></h3><p>PHPæä¾›äº† <code>hash_equals()</code> å‡½æ•°æ¥è¿›è¡Œæ’å®šæ—¶é—´å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œå¯ä»¥æœ‰æ•ˆåœ°é˜²æ­¢æ—¶åºæ”»å‡»ã€‚</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$known_string</span> = <span class="string">'secret'</span>;</span><br><span class="line"><span class="variable">$user_string</span> = <span class="variable">$_POST</span>[<span class="string">'password'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">hash_equals</span>(<span class="variable">$known_string</span>, <span class="variable">$user_string</span>)) {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'å¯†ç æ­£ç¡®'</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'å¯†ç é”™è¯¯'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li><strong>å®ç°å¤æ‚åº¦ï¼š</strong> æ’å®šæ—¶é—´ç®—æ³•çš„å®ç°é€šå¸¸æ¯”æ™®é€šçš„ç®—æ³•æ›´åŠ å¤æ‚ã€‚</li><li><strong>æ€§èƒ½å½±å“ï¼š</strong> æ’å®šæ—¶é—´ç®—æ³•çš„æ€§èƒ½å¯èƒ½ä¼šæ¯”æ™®é€šçš„ç®—æ³•ç¨æ…¢ã€‚</li><li><strong>å…¶ä»–æ”»å‡»æ–¹å¼ï¼š</strong> æ’å®šæ—¶é—´ç®—æ³•åªèƒ½é˜²å¾¡æ—¶åºæ”»å‡»ï¼Œä¸èƒ½é˜²å¾¡æ‰€æœ‰çš„æ”»å‡»æ–¹å¼ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ’å®šæ—¶é—´ç®—æ³•æ˜¯ä¿éšœç³»ç»Ÿå®‰å…¨çš„é‡è¦æ‰‹æ®µä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯åœ¨å¯†ç å­¦é¢†åŸŸã€‚é€šè¿‡ä½¿ç”¨æ’å®šæ—¶é—´ç®—æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é˜²æ­¢æ—¶åºæ”»å‡»ï¼Œæé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åœºæ™¯é€‰æ‹©åˆé€‚çš„æ’å®šæ—¶é—´ç®—æ³•å®ç°æ–¹å¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> æ—¶åºæ”»å‡» </tag>
            
            <tag> å¯†ç å­¦ </tag>
            
            <tag> æ’å®šæ—¶é—´ç®—æ³• </tag>
            
            <tag> hash_equals </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•£åˆ—ç¢°æ’æ”»å‡»çš„åŸç†</title>
      <link href="/posts/hash-collision-attack.html"/>
      <url>/posts/hash-collision-attack.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>æ•£åˆ—ç¢°æ’</strong>æŒ‡çš„æ˜¯ï¼Œå¯¹äºä¸åŒçš„è¾“å…¥æ•°æ®ï¼Œé€šè¿‡æ•£åˆ—å‡½æ•°è®¡ç®—å¾—åˆ°çš„å“ˆå¸Œå€¼å´ç›¸åŒçš„æƒ…å†µã€‚è€Œ<strong>æ•£åˆ—ç¢°æ’æ”»å‡»</strong>ï¼Œå°±æ˜¯åˆ©ç”¨è¿™ç§ç¢°æ’ç‰¹æ€§ï¼Œå¯¹ç³»ç»Ÿè¿›è¡Œæ”»å‡»ã€‚</p><h3 id="æ•£åˆ—å‡½æ•°ä¸ç¢°æ’"><a href="#æ•£åˆ—å‡½æ•°ä¸ç¢°æ’" class="headerlink" title="æ•£åˆ—å‡½æ•°ä¸ç¢°æ’"></a>æ•£åˆ—å‡½æ•°ä¸ç¢°æ’</h3><ul><li><strong>æ•£åˆ—å‡½æ•°</strong>ï¼šæ˜¯ä¸€ç§å°†ä»»æ„é•¿åº¦çš„è¾“å…¥æ•°æ®æ˜ å°„æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼ˆå³å“ˆå¸Œå€¼ï¼‰çš„å‡½æ•°ã€‚</li><li><strong>æ•£åˆ—ç¢°æ’</strong>ï¼šå½“ä¸¤ä¸ªä¸åŒçš„è¾“å…¥æ•°æ®ç»è¿‡æ•£åˆ—å‡½æ•°è®¡ç®—åï¼Œå¾—åˆ°äº†ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œå°±å‘ç”Ÿäº†ç¢°æ’ã€‚</li></ul><p><strong>ä¸ºä»€ä¹ˆä¼šå‡ºç°ç¢°æ’ï¼Ÿ</strong></p><ul><li><strong>é¸½å·¢åŸç†ï¼š</strong> ç”±äºè¾“å…¥æ•°æ®çš„å¯èƒ½æ€§æ˜¯æ— é™çš„ï¼Œè€Œå“ˆå¸Œå€¼çš„å–å€¼èŒƒå›´æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å¿…ç„¶ä¼šå‡ºç°ç¢°æ’ã€‚</li><li><strong>æ•£åˆ—å‡½æ•°çš„è®¾è®¡ï¼š</strong> ä¸åŒçš„æ•£åˆ—å‡½æ•°ç®—æ³•ï¼Œå…¶æŠ—ç¢°æ’æ€§ä¹Ÿä¸åŒã€‚è¾ƒå¼±çš„æ•£åˆ—å‡½æ•°æ›´å®¹æ˜“å‘ç”Ÿç¢°æ’ã€‚</li></ul><h3 id="æ•£åˆ—ç¢°æ’æ”»å‡»çš„åŸç†"><a href="#æ•£åˆ—ç¢°æ’æ”»å‡»çš„åŸç†" class="headerlink" title="æ•£åˆ—ç¢°æ’æ”»å‡»çš„åŸç†"></a>æ•£åˆ—ç¢°æ’æ”»å‡»çš„åŸç†</h3><p>æ”»å‡»è€…åˆ©ç”¨æ•£åˆ—ç¢°æ’çš„ç‰¹æ€§ï¼Œé€šè¿‡æ„é€ ç‰¹æ®Šçš„è¾“å…¥æ•°æ®ï¼Œä½¿å¾—è¿™äº›æ•°æ®ä¸ç›®æ ‡æ•°æ®äº§ç”Ÿç›¸åŒçš„å“ˆå¸Œå€¼ã€‚ä¸€æ—¦æˆåŠŸï¼Œæ”»å‡»è€…å°±å¯ä»¥ç”¨æ„é€ çš„æ•°æ®æ¥ä»£æ›¿ç›®æ ‡æ•°æ®ï¼Œä»è€Œè¾¾åˆ°æ¬ºéª—ç³»ç»Ÿçš„ç›®çš„ã€‚</p><h3 id="å¸¸è§çš„æ”»å‡»åœºæ™¯"><a href="#å¸¸è§çš„æ”»å‡»åœºæ™¯" class="headerlink" title="å¸¸è§çš„æ”»å‡»åœºæ™¯"></a>å¸¸è§çš„æ”»å‡»åœºæ™¯</h3><ul><li><strong>å¯†ç ç ´è§£ï¼š</strong> æ”»å‡»è€…é€šè¿‡æ„é€ å¤§é‡ä¸åŒçš„å¯†ç ï¼Œè®¡ç®—å®ƒä»¬çš„å“ˆå¸Œå€¼ï¼Œä¸å·²çŸ¥çš„å“ˆå¸Œå€¼è¿›è¡Œå¯¹æ¯”ï¼Œä»è€Œç ´è§£å¯†ç ã€‚</li><li><strong>æ•°å­—ç­¾åä¼ªé€ ï¼š</strong> æ”»å‡»è€…å¯ä»¥æ„é€ ä¸€ä»½ä¸åŸæ–‡ä»¶å…·æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„æ–‡ä»¶ï¼Œç„¶åç”¨ä¼ªé€ çš„æ–‡ä»¶æ›¿æ¢åŸæ–‡ä»¶ï¼Œä»è€Œä¼ªé€ æ•°å­—ç­¾åã€‚</li><li><strong>æ‹’ç»æœåŠ¡æ”»å‡»ï¼š</strong> é€šè¿‡æ„é€ å¤§é‡æ•°æ®ï¼Œä½¿å¾—å“ˆå¸Œè¡¨å‘ç”Ÿç¢°æ’ï¼Œå¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ï¼Œç”šè‡³å´©æºƒã€‚</li></ul><h3 id="é˜²å¾¡æªæ–½"><a href="#é˜²å¾¡æªæ–½" class="headerlink" title="é˜²å¾¡æªæ–½"></a>é˜²å¾¡æªæ–½</h3><ul><li><strong>é€‰æ‹©å¼ºæ•£åˆ—å‡½æ•°ï¼š</strong> ä½¿ç”¨å…·æœ‰è¾ƒé«˜æŠ—ç¢°æ’æ€§çš„æ•£åˆ—å‡½æ•°ï¼Œå¦‚SHA-256ã€SHA-3ç­‰ã€‚</li><li><strong>åŠ ç›ï¼š</strong> åœ¨åŸå§‹æ•°æ®ä¸­åŠ å…¥ä¸€ä¸ªéšæœºçš„å­—ç¬¦ä¸²ï¼ˆç›ï¼‰ï¼Œç„¶åå†è¿›è¡Œæ•£åˆ—ï¼Œå¯ä»¥å¢åŠ ç ´è§£éš¾åº¦ã€‚</li><li><strong>ä½¿ç”¨æ›´é•¿çš„å¯†é’¥ï¼š</strong> å¢åŠ å¯†é’¥çš„é•¿åº¦å¯ä»¥é™ä½ç¢°æ’çš„æ¦‚ç‡ã€‚</li><li><strong>å¤šé‡å“ˆå¸Œï¼š</strong> ä½¿ç”¨å¤šä¸ªä¸åŒçš„æ•£åˆ—å‡½æ•°ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜å®‰å…¨æ€§ã€‚</li><li><strong>é™åˆ¶é‡è¯•æ¬¡æ•°ï¼š</strong> å¯¹å¯†ç è¾“å…¥æ¬¡æ•°è¿›è¡Œé™åˆ¶ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ•£åˆ—ç¢°æ’æ”»å‡»æ˜¯é»‘å®¢åˆ©ç”¨æ•£åˆ—å‡½æ•°ç‰¹æ€§è¿›è¡Œçš„ä¸€ç§æ”»å‡»æ–¹å¼ã€‚è™½ç„¶æ— æ³•å®Œå…¨é¿å…ç¢°æ’ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡é€‰æ‹©åˆé€‚çš„æ•£åˆ—å‡½æ•°ã€åŠ ç›ã€ä½¿ç”¨æ›´é•¿çš„å¯†é’¥ç­‰æ–¹å¼æ¥æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> å“ˆå¸Œ </tag>
            
            <tag> æ•£åˆ—ç¢°æ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—ç‰ˆæƒç®¡ç†ï¼ˆDRMï¼‰è¯¦è§£</title>
      <link href="/posts/digital-rights-management.html"/>
      <url>/posts/digital-rights-management.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯DRMï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯DRMï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯DRMï¼Ÿ"></a>ä»€ä¹ˆæ˜¯DRMï¼Ÿ</h3><p>æ•°å­—ç‰ˆæƒç®¡ç†ï¼ˆDigital Rights Managementï¼Œç®€ç§°DRMï¼‰æ˜¯ä¸€ç³»åˆ—æŠ€æœ¯å’ŒæœåŠ¡ï¼Œæ—¨åœ¨ä¿æŠ¤æ•°å­—å†…å®¹çš„ç‰ˆæƒï¼Œé˜²æ­¢æœªç»æˆæƒçš„å¤åˆ¶ã€åˆ†å‘å’Œä½¿ç”¨ã€‚DRMé€šè¿‡åŠ å¯†ã€æ•°å­—ç­¾åç­‰æŠ€æœ¯æ‰‹æ®µï¼Œå¯¹æ•°å­—å†…å®¹è¿›è¡Œä¿æŠ¤ï¼Œå¹¶é™åˆ¶å…¶ä½¿ç”¨æ–¹å¼ã€‚</p><h3 id="DRMçš„å·¥ä½œåŸç†"><a href="#DRMçš„å·¥ä½œåŸç†" class="headerlink" title="DRMçš„å·¥ä½œåŸç†"></a>DRMçš„å·¥ä½œåŸç†</h3><ol><li><strong>åŠ å¯†:</strong> DRMç³»ç»Ÿä¼šå¯¹æ•°å­—å†…å®¹è¿›è¡ŒåŠ å¯†ï¼Œåªæœ‰æ‹¥æœ‰æ­£ç¡®å¯†é’¥çš„ç”¨æˆ·æ‰èƒ½è§£å¯†å¹¶ä½¿ç”¨ã€‚</li><li><strong>æ•°å­—ç­¾å:</strong> é€šè¿‡æ•°å­—ç­¾åï¼Œå¯ä»¥éªŒè¯å†…å®¹çš„å®Œæ•´æ€§ï¼Œé˜²æ­¢å†…å®¹è¢«ç¯¡æ”¹ã€‚</li><li><strong>ä½¿ç”¨è®¸å¯:</strong> DRMç³»ç»Ÿä¼šä¸ºæ¯ä¸ªæ•°å­—å†…å®¹è®¾ç½®ä½¿ç”¨è®¸å¯ï¼Œé™åˆ¶ç”¨æˆ·çš„ä½¿ç”¨æ–¹å¼ï¼Œä¾‹å¦‚åªèƒ½æ’­æ”¾ä¸€æ¬¡ã€ä¸èƒ½å¤åˆ¶ç­‰ã€‚</li><li><strong>è®¾å¤‡ç»‘å®š:</strong> DRMç³»ç»Ÿå¯ä»¥å°†æ•°å­—å†…å®¹ç»‘å®šåˆ°ç‰¹å®šçš„è®¾å¤‡ä¸Šï¼Œé˜²æ­¢åœ¨æœªæˆæƒè®¾å¤‡ä¸Šä½¿ç”¨ã€‚</li></ol><h3 id="DRMçš„åº”ç”¨åœºæ™¯"><a href="#DRMçš„åº”ç”¨åœºæ™¯" class="headerlink" title="DRMçš„åº”ç”¨åœºæ™¯"></a>DRMçš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>éŸ³ä¹:</strong> æ•°å­—éŸ³ä¹å¹³å°ä½¿ç”¨DRMä¿æŠ¤éŸ³ä¹æ–‡ä»¶ï¼Œé˜²æ­¢éæ³•ä¸‹è½½å’Œåˆ†äº«ã€‚</li><li><strong>è§†é¢‘:</strong> æµåª’ä½“å¹³å°ä½¿ç”¨DRMä¿æŠ¤è§†é¢‘å†…å®¹ï¼Œé˜²æ­¢ç›—ç‰ˆã€‚</li><li><strong>ç”µå­ä¹¦:</strong> ç”µå­ä¹¦å¹³å°ä½¿ç”¨DRMä¿æŠ¤ç”µå­ä¹¦ï¼Œé˜²æ­¢éæ³•å¤åˆ¶å’Œä¼ æ’­ã€‚</li><li><strong>è½¯ä»¶:</strong> è½¯ä»¶å‚å•†ä½¿ç”¨DRMä¿æŠ¤è½¯ä»¶ï¼Œé˜²æ­¢æœªç»æˆæƒçš„ä½¿ç”¨ã€‚</li></ul><h3 id="DRMçš„ä¼˜ç¼ºç‚¹"><a href="#DRMçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="DRMçš„ä¼˜ç¼ºç‚¹"></a>DRMçš„ä¼˜ç¼ºç‚¹</h3><p><strong>ä¼˜ç‚¹:</strong></p><ul><li><strong>ä¿æŠ¤ç‰ˆæƒ:</strong> æœ‰æ•ˆä¿æŠ¤æ•°å­—å†…å®¹çš„ç‰ˆæƒï¼Œé˜²æ­¢ç›—ç‰ˆã€‚</li><li><strong>æ§åˆ¶ä½¿ç”¨æ–¹å¼:</strong> å¯ä»¥çµæ´»æ§åˆ¶æ•°å­—å†…å®¹çš„ä½¿ç”¨æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„éœ€æ±‚ã€‚</li><li><strong>å¢åŠ æ”¶å…¥:</strong> é€šè¿‡DRMä¿æŠ¤ï¼Œå†…å®¹æä¾›å•†å¯ä»¥å¢åŠ æ”¶å…¥ã€‚</li></ul><p><strong>ç¼ºç‚¹:</strong></p><ul><li><strong>ç”¨æˆ·ä½“éªŒä¸ä½³:</strong> DRMå¯èƒ½é™åˆ¶ç”¨æˆ·çš„æ­£å¸¸ä½¿ç”¨ï¼Œå¦‚ä¸èƒ½éšæ„å¤åˆ¶ã€åˆ†äº«ç­‰ã€‚</li><li><strong>æŠ€æœ¯å¤æ‚æ€§:</strong> DRMç³»ç»Ÿç›¸å¯¹å¤æ‚ï¼Œå¯èƒ½å¯¼è‡´å…¼å®¹æ€§é—®é¢˜ã€‚</li><li><strong>å®‰å…¨éšæ‚£:</strong> DRMç³»ç»Ÿæœ¬èº«ä¹Ÿå¯èƒ½å­˜åœ¨æ¼æ´ï¼Œè¢«ç ´è§£ã€‚</li><li><strong>æ³•å¾‹äº‰è®®:</strong> DRMçš„åˆæ³•æ€§ä¸€ç›´å­˜åœ¨äº‰è®®ï¼Œæœ‰äº›å›½å®¶å’Œåœ°åŒºå¯¹DRMçš„ä½¿ç”¨æœ‰ä¸¥æ ¼çš„é™åˆ¶ã€‚</li></ul><h3 id="DRMé¢ä¸´çš„æŒ‘æˆ˜"><a href="#DRMé¢ä¸´çš„æŒ‘æˆ˜" class="headerlink" title="DRMé¢ä¸´çš„æŒ‘æˆ˜"></a>DRMé¢ä¸´çš„æŒ‘æˆ˜</h3><ul><li><strong>DRMç ´è§£:</strong> éšç€æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼ŒDRMç³»ç»Ÿè¢«ç ´è§£çš„é£é™©è¶Šæ¥è¶Šé«˜ã€‚</li><li><strong>ç”¨æˆ·ä½“éªŒ:</strong> è¿‡åº¦ä¸¥æ ¼çš„DRMé™åˆ¶ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œå¯¼è‡´ç”¨æˆ·æµå¤±ã€‚</li><li><strong>å…¼å®¹æ€§é—®é¢˜:</strong> ä¸åŒçš„DRMç³»ç»Ÿä¹‹é—´å…¼å®¹æ€§å·®ï¼Œç»™ç”¨æˆ·å¸¦æ¥ä¸ä¾¿ã€‚</li><li><strong>æ³•å¾‹æ³•è§„çš„é™åˆ¶:</strong> ä¸åŒå›½å®¶å’Œåœ°åŒºçš„æ³•å¾‹æ³•è§„å¯¹DRMçš„ä½¿ç”¨æœ‰ä¸åŒçš„è§„å®šã€‚</li></ul><h3 id="DRMçš„æœªæ¥å‘å±•"><a href="#DRMçš„æœªæ¥å‘å±•" class="headerlink" title="DRMçš„æœªæ¥å‘å±•"></a>DRMçš„æœªæ¥å‘å±•</h3><ul><li><strong>æ›´çµæ´»çš„DRM:</strong> æœªæ¥DRMç³»ç»Ÿä¼šæ›´åŠ çµæ´»ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸€å®šèŒƒå›´å†…å…±äº«å’Œä¿®æ”¹å†…å®¹ã€‚</li><li><strong>ä¸åŒºå—é“¾ç»“åˆ:</strong> å°†åŒºå—é“¾æŠ€æœ¯åº”ç”¨äºDRMï¼Œæé«˜é€æ˜åº¦å’Œå®‰å…¨æ€§ã€‚</li><li><strong>äººå·¥æ™ºèƒ½çš„åº”ç”¨:</strong> åˆ©ç”¨äººå·¥æ™ºèƒ½æŠ€æœ¯ï¼Œå®ç°æ›´æ™ºèƒ½çš„DRMç®¡ç†ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>DRMä½œä¸ºä¸€ç§é‡è¦çš„ç‰ˆæƒä¿æŠ¤æŠ€æœ¯ï¼Œåœ¨æ•°å­—å†…å®¹äº§ä¸šä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚è™½ç„¶DRMå­˜åœ¨ä¸€äº›ç¼ºç‚¹å’ŒæŒ‘æˆ˜ï¼Œä½†éšç€æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼ŒDRMå°†ä¼šå˜å¾—æ›´åŠ å®Œå–„ï¼Œæ›´å¥½åœ°ä¿æŠ¤æ•°å­—å†…å®¹çš„ç‰ˆæƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> æ•°å­—ç‰ˆæƒç®¡ç† </tag>
            
            <tag> DRM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¶åºæ”»å‡»ï¼šçªƒå–å¯†ç çš„éšå½¢æ€æ‰‹</title>
      <link href="/posts/timing-attack.html"/>
      <url>/posts/timing-attack.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯æ—¶åºæ”»å‡»ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ—¶åºæ”»å‡»ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ—¶åºæ”»å‡»ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ—¶åºæ”»å‡»ï¼Ÿ</h3><p>æ—¶åºæ”»å‡»æ˜¯ä¸€ç§åˆ©ç”¨ç³»ç»Ÿåœ¨å¤„ç†ä¸åŒæ•°æ®æ—¶æ‰€èŠ±è´¹çš„æ—¶é—´å·®å¼‚æ¥è·å–æ•æ„Ÿä¿¡æ¯çš„æ”»å‡»æ–¹å¼ã€‚ç®€å•æ¥è¯´ï¼Œæ”»å‡»è€…é€šè¿‡ç²¾ç¡®æµ‹é‡ç³»ç»Ÿåœ¨æ‰§è¡Œä¸åŒæ“ä½œæ—¶æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œæ¥æ¨æ–­å‡ºä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚å¯†ç ã€‚</p><h3 id="æ—¶åºæ”»å‡»çš„åŸç†"><a href="#æ—¶åºæ”»å‡»çš„åŸç†" class="headerlink" title="æ—¶åºæ”»å‡»çš„åŸç†"></a>æ—¶åºæ”»å‡»çš„åŸç†</h3><ul><li><strong>ä¸åŒè¾“å…¥ï¼Œä¸åŒæ—¶é—´ï¼š</strong> è®¡ç®—æœºåœ¨å¤„ç†ä¸åŒçš„è¾“å…¥æ—¶ï¼Œæ‰€èŠ±è´¹çš„æ—¶é—´å¾€å¾€æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¾‹å¦‚ï¼Œæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœä»å¤´å¼€å§‹é€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼Œé‚£ä¹ˆå½“ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å‰å‡ ä¸ªå­—ç¬¦ä¸åŒæ—¶ï¼Œæ¯”è¾ƒè¿‡ç¨‹å°±ä¼šæå‰ç»“æŸï¼Œæ‰€èŠ±è´¹çš„æ—¶é—´ä¹Ÿä¼šç›¸åº”å‡å°‘ã€‚</li><li><strong>æ”»å‡»è€…åˆ©ç”¨æ—¶é—´å·®ï¼š</strong> æ”»å‡»è€…é€šè¿‡å¤šæ¬¡æäº¤ä¸åŒçš„è¾“å…¥ï¼Œå¹¶ç²¾ç¡®æµ‹é‡ç³»ç»Ÿå“åº”çš„æ—¶é—´ï¼Œå°±å¯ä»¥æ¨æ–­å‡ºç³»ç»Ÿçš„å†…éƒ¨çŠ¶æ€ï¼Œä»è€Œè·å–æ•æ„Ÿä¿¡æ¯ã€‚</li></ul><h3 id="æ—¶åºæ”»å‡»çš„å±å®³"><a href="#æ—¶åºæ”»å‡»çš„å±å®³" class="headerlink" title="æ—¶åºæ”»å‡»çš„å±å®³"></a>æ—¶åºæ”»å‡»çš„å±å®³</h3><ul><li><strong>å¯†ç æ³„éœ²ï¼š</strong> æœ€å¸¸è§çš„æ—¶åºæ”»å‡»å°±æ˜¯åˆ©ç”¨æ—¶é—´å·®æ¥ç ´è§£å¯†ç ã€‚æ”»å‡»è€…é€šè¿‡ä¸æ–­å°è¯•ä¸åŒçš„å¯†ç ï¼Œå¹¶æµ‹é‡ç³»ç»Ÿå“åº”çš„æ—¶é—´ï¼Œå°±å¯ä»¥é€æ­¥æ¨æ–­å‡ºæ­£ç¡®çš„å¯†ç ã€‚</li><li><strong>å…¶ä»–æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼š</strong> é™¤äº†å¯†ç ï¼Œæ—¶åºæ”»å‡»è¿˜å¯ä»¥ç”¨æ¥æ³„éœ²å…¶ä»–æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ç§é’¥ã€åŠ å¯†ç®—æ³•çš„å†…éƒ¨çŠ¶æ€ç­‰ã€‚</li></ul><h3 id="å¦‚ä½•é˜²å¾¡æ—¶åºæ”»å‡»"><a href="#å¦‚ä½•é˜²å¾¡æ—¶åºæ”»å‡»" class="headerlink" title="å¦‚ä½•é˜²å¾¡æ—¶åºæ”»å‡»"></a>å¦‚ä½•é˜²å¾¡æ—¶åºæ”»å‡»</h3><ul><li><strong>æ’å®šæ—¶é—´ç®—æ³•ï¼š</strong><ul><li><strong>å¯†ç éªŒè¯ï¼š</strong> åœ¨æ¯”è¾ƒå¯†ç æ—¶ï¼Œåº”ç¡®ä¿æ— è®ºå¯†ç æ˜¯å¦æ­£ç¡®ï¼Œç®—æ³•éƒ½èŠ±è´¹ç›¸åŒçš„æ—¶é—´ã€‚</li><li><strong>åŠ å¯†ç®—æ³•ï¼š</strong> é€‰æ‹©å…·æœ‰æ’å®šæ—¶é—´ç‰¹æ€§çš„åŠ å¯†ç®—æ³•ã€‚</li></ul></li><li><strong>éšæœºå»¶è¿Ÿï¼š</strong> åœ¨å¯†ç éªŒè¯è¿‡ç¨‹ä¸­ï¼Œéšæœºå¼•å…¥ä¸€äº›å»¶è¿Ÿï¼Œä½¿å¾—æ”»å‡»è€…éš¾ä»¥å‡†ç¡®æµ‹é‡æ—¶é—´å·®ã€‚</li><li><strong>é™åˆ¶é‡è¯•æ¬¡æ•°ï¼š</strong> é™åˆ¶ç”¨æˆ·åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡å°è¯•ç™»å½•ï¼Œå‡å°‘æ”»å‡»è€…è¿›è¡Œå¤šæ¬¡å°è¯•çš„æœºä¼šã€‚</li><li><strong>ä½¿ç”¨ç¡¬ä»¶å®‰å…¨æ¨¡å—ï¼ˆHSMï¼‰ï¼š</strong> HSM å¯ä»¥æä¾›æ›´é«˜çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢æ—¶åºæ”»å‡»ã€‚</li></ul><h3 id="æ—¶åºæ”»å‡»çš„ç¤ºä¾‹"><a href="#æ—¶åºæ”»å‡»çš„ç¤ºä¾‹" class="headerlink" title="æ—¶åºæ”»å‡»çš„ç¤ºä¾‹"></a>æ—¶åºæ”»å‡»çš„ç¤ºä¾‹</h3><ul><li><strong>å¯†ç éªŒè¯ï¼š</strong> æ”»å‡»è€…é€šè¿‡ä¸æ–­å°è¯•ä¸åŒçš„å¯†ç ï¼Œæµ‹é‡ç³»ç»Ÿå“åº”æ—¶é—´ï¼Œæ¥æ¨æ–­å¯†ç çš„é•¿åº¦å’Œéƒ¨åˆ†å­—ç¬¦ã€‚</li><li><strong>åŠ å¯†ç®—æ³•ï¼š</strong> æ”»å‡»è€…é€šè¿‡æµ‹é‡åŠ å¯†ç®—æ³•çš„æ‰§è¡Œæ—¶é—´ï¼Œæ¥æ¨æ–­å¯†é’¥çš„é•¿åº¦æˆ–éƒ¨åˆ†ä½ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ—¶åºæ”»å‡»æ˜¯ä¸€ç§éšè”½æ€§å¾ˆå¼ºçš„æ”»å‡»æ–¹å¼ï¼Œç»™ç³»ç»Ÿå®‰å…¨å¸¦æ¥äº†å¾ˆå¤§çš„å¨èƒã€‚ä¸ºäº†é˜²å¾¡æ—¶åºæ”»å‡»ï¼Œæˆ‘ä»¬éœ€è¦é‡‡å–å¤šç§æªæ–½ï¼Œå¦‚ä½¿ç”¨æ’å®šæ—¶é—´ç®—æ³•ã€éšæœºå»¶è¿Ÿã€é™åˆ¶é‡è¯•æ¬¡æ•°ç­‰ã€‚åœ¨è®¾è®¡å’Œå®ç°ç³»ç»Ÿæ—¶ï¼Œåº”å……åˆ†è€ƒè™‘æ—¶åºæ”»å‡»çš„å¯èƒ½æ€§ï¼Œå¹¶é‡‡å–ç›¸åº”çš„é˜²æŠ¤æªæ–½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> æ—¶åºæ”»å‡» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é›¶ä¿¡ä»»æ¶æ„ï¼šæ„å»ºæ›´å®‰å…¨çš„æ•°å­—ä¸–ç•Œ</title>
      <link href="/posts/zero-trust.html"/>
      <url>/posts/zero-trust.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯é›¶ä¿¡ä»»æ¶æ„ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é›¶ä¿¡ä»»æ¶æ„ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é›¶ä¿¡ä»»æ¶æ„ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é›¶ä¿¡ä»»æ¶æ„ï¼Ÿ</h3><p>é›¶ä¿¡ä»»æ¶æ„æ˜¯ä¸€ç§å…¨æ–°çš„å®‰å…¨ç†å¿µï¼Œå®ƒæ‘’å¼ƒäº†ä¼ ç»Ÿçš„â€œåŸå ¡ä¸æŠ¤åŸæ²³â€å¼çš„ç½‘ç»œå®‰å…¨æ¨¡å‹ï¼Œè½¬è€Œé‡‡ç”¨â€œæ°¸ä¸ä¿¡ä»»ï¼Œå§‹ç»ˆéªŒè¯â€çš„åŸåˆ™ã€‚æ— è®ºç”¨æˆ·ã€è®¾å¤‡è¿˜æ˜¯æœåŠ¡ï¼Œåœ¨è®¿é—®ç½‘ç»œèµ„æºä¹‹å‰ï¼Œéƒ½å¿…é¡»ç»è¿‡ä¸¥æ ¼çš„èº«ä»½éªŒè¯å’Œæˆæƒã€‚</p><p><strong>ä¼ ç»Ÿç½‘ç»œå®‰å…¨æ¨¡å‹ vs. é›¶ä¿¡ä»»æ¶æ„</strong></p><div class="table-container"><table><thead><tr><th>ç‰¹ç‚¹</th><th>ä¼ ç»Ÿç½‘ç»œå®‰å…¨æ¨¡å‹</th><th>é›¶ä¿¡ä»»æ¶æ„</th></tr></thead><tbody><tr><td>ä¿¡ä»»è¾¹ç•Œ</td><td>æ˜ç¡®çš„ç½‘ç»œè¾¹ç•Œï¼Œå†…éƒ¨ç½‘ç»œè¢«è§†ä¸ºå¯ä¿¡</td><td>æ²¡æœ‰å›ºå®šçš„ä¿¡ä»»è¾¹ç•Œï¼Œæ‰€æœ‰è®¿é—®éƒ½å¿…é¡»éªŒè¯</td></tr><tr><td>è®¿é—®æ§åˆ¶</td><td>åŸºäºç½‘ç»œä½ç½®çš„è®¿é—®æ§åˆ¶</td><td>åŸºäºèº«ä»½å’Œä¸Šä¸‹æ–‡çš„å¤šå› ç´ è®¤è¯</td></tr><tr><td>å®‰å…¨ç­–ç•¥</td><td>ä¸€åˆ€åˆ‡çš„å®‰å…¨ç­–ç•¥</td><td>ç²¾ç»†åŒ–çš„è®¿é—®æ§åˆ¶ç­–ç•¥</td></tr></tbody></table></div><h3 id="é›¶ä¿¡ä»»æ¶æ„çš„æ ¸å¿ƒåŸåˆ™"><a href="#é›¶ä¿¡ä»»æ¶æ„çš„æ ¸å¿ƒåŸåˆ™" class="headerlink" title="é›¶ä¿¡ä»»æ¶æ„çš„æ ¸å¿ƒåŸåˆ™"></a>é›¶ä¿¡ä»»æ¶æ„çš„æ ¸å¿ƒåŸåˆ™</h3><ul><li><strong>æ°¸ä¸ä¿¡ä»»ï¼š</strong> ä¸ä¿¡ä»»ä»»ä½•ç”¨æˆ·ã€è®¾å¤‡æˆ–æœåŠ¡ï¼Œå³ä½¿å®ƒä»¬å·²ç»åœ¨ç½‘ç»œå†…éƒ¨ã€‚</li><li><strong>å§‹ç»ˆéªŒè¯ï¼š</strong> å¯¹æ¯ä¸ªè®¿é—®è¯·æ±‚è¿›è¡Œä¸¥æ ¼çš„èº«ä»½éªŒè¯å’Œæˆæƒã€‚</li><li><strong>æœ€å°æƒé™åŸåˆ™ï¼š</strong> åªæˆäºˆç”¨æˆ·æ‰§è¡Œä»»åŠ¡æ‰€éœ€çš„æœ€å°æƒé™ã€‚</li><li><strong>åŠ¨æ€è®¿é—®æ§åˆ¶ï¼š</strong> æ ¹æ®å®æ—¶ä¸Šä¸‹æ–‡è°ƒæ•´è®¿é—®æƒé™ã€‚</li><li><strong>æ•°æ®åŠ å¯†ï¼š</strong> å¯¹æ‰€æœ‰æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†ã€‚</li><li><strong>å¾®åˆ†æ®µ:</strong> å°†ç½‘ç»œåˆ’åˆ†ä¸ºæ›´å°çš„ä¿¡ä»»åŸŸã€‚</li></ul><h3 id="é›¶ä¿¡ä»»æ¶æ„çš„ä¼˜åŠ¿"><a href="#é›¶ä¿¡ä»»æ¶æ„çš„ä¼˜åŠ¿" class="headerlink" title="é›¶ä¿¡ä»»æ¶æ„çš„ä¼˜åŠ¿"></a>é›¶ä¿¡ä»»æ¶æ„çš„ä¼˜åŠ¿</h3><ul><li><strong>å¢å¼ºå®‰å…¨æ€§ï¼š</strong> é€šè¿‡æ¶ˆé™¤å¯¹ç½‘ç»œè¾¹ç•Œçš„ä¾èµ–ï¼Œæ˜¾è‘—é™ä½äº†æ”»å‡»é¢ã€‚</li><li><strong>é€‚åº”äº‘åŸç”Ÿç¯å¢ƒï¼š</strong> é€‚ç”¨äºäº‘è®¡ç®—ã€æ··åˆäº‘å’Œå¤šäº‘ç¯å¢ƒã€‚</li><li><strong>æé«˜çµæ´»æ€§ï¼š</strong> å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€è°ƒæ•´å®‰å…¨ç­–ç•¥ã€‚</li><li><strong>é™ä½é£é™©ï¼š</strong> åŠæ—©å‘ç°å¹¶é˜»æ­¢æ½œåœ¨çš„å¨èƒã€‚</li></ul><h3 id="é›¶ä¿¡ä»»æ¶æ„çš„å®ç°"><a href="#é›¶ä¿¡ä»»æ¶æ„çš„å®ç°" class="headerlink" title="é›¶ä¿¡ä»»æ¶æ„çš„å®ç°"></a>é›¶ä¿¡ä»»æ¶æ„çš„å®ç°</h3><ul><li><strong>èº«ä»½éªŒè¯ä¸æˆæƒ:</strong> ä½¿ç”¨å¤šå› ç´ è®¤è¯ã€åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ç­‰æŠ€æœ¯ã€‚</li><li><strong>å¾®åˆ†æ®µ:</strong> å°†ç½‘ç»œåˆ’åˆ†ä¸ºæ›´å°çš„ä¿¡ä»»åŸŸï¼Œé™åˆ¶æ•°æ®æµåŠ¨ã€‚</li><li><strong>æ•°æ®åŠ å¯†:</strong> å¯¹æ•°æ®åœ¨ä¼ è¾“å’Œå­˜å‚¨è¿‡ç¨‹ä¸­è¿›è¡ŒåŠ å¯†ã€‚</li><li><strong>æ—¥å¿—ä¸ç›‘æ§:</strong> æ”¶é›†å’Œåˆ†ææ—¥å¿—æ•°æ®ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸è¡Œä¸ºã€‚</li><li><strong>æŒç»­è¯„ä¼°:</strong> ä¸æ–­è¯„ä¼°å®‰å…¨æ€åŠ¿ï¼ŒåŠæ—¶è°ƒæ•´å®‰å…¨ç­–ç•¥ã€‚</li></ul><h3 id="é›¶ä¿¡ä»»æ¶æ„çš„æŒ‘æˆ˜"><a href="#é›¶ä¿¡ä»»æ¶æ„çš„æŒ‘æˆ˜" class="headerlink" title="é›¶ä¿¡ä»»æ¶æ„çš„æŒ‘æˆ˜"></a>é›¶ä¿¡ä»»æ¶æ„çš„æŒ‘æˆ˜</h3><ul><li><strong>å¤æ‚æ€§:</strong> å®ç°é›¶ä¿¡ä»»æ¶æ„éœ€è¦å¯¹ç°æœ‰çš„ITåŸºç¡€è®¾æ–½è¿›è¡Œé‡å¤§æ”¹é€ ã€‚</li><li><strong>æˆæœ¬:</strong> é›¶ä¿¡ä»»æ¶æ„çš„å®æ–½éœ€è¦æŠ•å…¥å¤§é‡çš„èµ„é‡‘å’ŒäººåŠ›èµ„æºã€‚</li><li><strong>äººæ‰çŸ­ç¼º:</strong> å…·å¤‡é›¶ä¿¡ä»»æ¶æ„ä¸“ä¸šçŸ¥è¯†çš„äººæ‰ç›¸å¯¹è¾ƒå°‘ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é›¶ä¿¡ä»»æ¶æ„æ˜¯ä¸€ç§å…¨æ–°çš„å®‰å…¨ç†å¿µï¼Œå®ƒä¸ºæ„å»ºæ›´å®‰å…¨çš„æ•°å­—ä¸–ç•Œæä¾›äº†æ–°çš„æ€è·¯ã€‚è™½ç„¶å®ç°é›¶ä¿¡ä»»æ¶æ„é¢ä¸´è¯¸å¤šæŒ‘æˆ˜ï¼Œä½†å…¶å¸¦æ¥çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚éšç€äº‘è®¡ç®—ã€ç‰©è”ç½‘ç­‰æ–°å…´æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œé›¶ä¿¡ä»»æ¶æ„å°†æˆä¸ºæœªæ¥ç½‘ç»œå®‰å…¨çš„ä¸»æµè¶‹åŠ¿ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> é›¶ä¿¡ä»»æ¶æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç™½ç›’å¯†ç å­¦ï¼šåœ¨é€æ˜ç¯å¢ƒä¸‹ä¿æŠ¤å¯†é’¥</title>
      <link href="/posts/white-box-cryptography.html"/>
      <url>/posts/white-box-cryptography.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯ç™½ç›’å¯†ç å­¦ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç™½ç›’å¯†ç å­¦ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç™½ç›’å¯†ç å­¦ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç™½ç›’å¯†ç å­¦ï¼Ÿ</h3><p>ç™½ç›’å¯†ç å­¦æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯†ç å­¦æŠ€æœ¯ï¼Œæ—¨åœ¨ä¿æŠ¤å¯†é’¥åœ¨å®Œå…¨æš´éœ²çš„ç¯å¢ƒä¸­ä¸è¢«æå–ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ”»å‡»è€…ä¸ä»…çŸ¥é“ä½ çš„åŠ å¯†ç®—æ³•ï¼Œè¿˜èƒ½çœ‹åˆ°ä½ çš„ä»£ç ã€å†…å­˜ã€ç”šè‡³ç¡¬ä»¶çš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œè¿™ç§æç«¯çš„ç¯å¢ƒå°±è¢«ç§°ä¸ºâ€œç™½ç›’â€ç¯å¢ƒã€‚ç™½ç›’å¯†ç å­¦å°±æ˜¯è¦åœ¨è¿™ä¸ªç¯å¢ƒä¸‹ï¼Œä¾ç„¶èƒ½å¤Ÿå®‰å…¨åœ°ä¿æŠ¤å¯†é’¥ã€‚</p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦ç™½ç›’å¯†ç å­¦ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦ç™½ç›’å¯†ç å­¦ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ç™½ç›’å¯†ç å­¦ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦ç™½ç›’å¯†ç å­¦ï¼Ÿ</h3><ul><li><strong>DRMä¿æŠ¤:</strong> åœ¨æ•°å­—ç‰ˆæƒç®¡ç†ï¼ˆDRMï¼‰ä¸­ï¼ŒåŠ å¯†å†…å®¹éœ€è¦åœ¨å„ç§è®¾å¤‡ä¸Šæ’­æ”¾ï¼Œè¿™äº›è®¾å¤‡å¯èƒ½è¢«ç ´è§£ã€‚ç™½ç›’å¯†ç å­¦å¯ä»¥ç¡®ä¿å¯†é’¥ä¸ä¼šè¢«æå–ï¼Œä»è€Œä¿æŠ¤ç‰ˆæƒã€‚</li><li><strong>ç§»åŠ¨è®¾å¤‡å®‰å…¨:</strong> ç§»åŠ¨è®¾å¤‡ä¸Šçš„åº”ç”¨å¯èƒ½è¢«åç¼–è¯‘ï¼Œç™½ç›’å¯†ç å­¦å¯ä»¥ä¿æŠ¤åº”ç”¨ä¸­çš„æ•æ„Ÿæ•°æ®ã€‚</li><li><strong>ç‰©è”ç½‘å®‰å…¨:</strong> ç‰©è”ç½‘è®¾å¤‡èµ„æºæœ‰é™ï¼Œéš¾ä»¥éƒ¨ç½²å¤æ‚çš„å®‰å…¨æœºåˆ¶ã€‚ç™½ç›’å¯†ç å­¦å¯ä»¥æä¾›ä¸€ç§è½»é‡çº§çš„å®‰å…¨è§£å†³æ–¹æ¡ˆã€‚</li></ul><h3 id="ç™½ç›’å¯†ç å­¦çš„åŸç†"><a href="#ç™½ç›’å¯†ç å­¦çš„åŸç†" class="headerlink" title="ç™½ç›’å¯†ç å­¦çš„åŸç†"></a>ç™½ç›’å¯†ç å­¦çš„åŸç†</h3><p>ç™½ç›’å¯†ç å­¦ä¸»è¦é€šè¿‡ä»¥ä¸‹æŠ€æœ¯æ¥ä¿æŠ¤å¯†é’¥ï¼š</p><ul><li><strong>æŸ¥æ‰¾è¡¨:</strong> å°†å¤æ‚çš„å¯†ç è¿ç®—è½¬åŒ–ä¸ºä¸€ç³»åˆ—çš„æŸ¥æ‰¾è¡¨æ“ä½œï¼Œè¿™äº›æŸ¥æ‰¾è¡¨ä¸­éšè—äº†å¯†é’¥ä¿¡æ¯ã€‚</li><li><strong>æ··æ·†æŠ€æœ¯:</strong> å¯¹ç®—æ³•è¿›è¡Œæ··æ·†ï¼Œå¢åŠ æ”»å‡»è€…åˆ†æçš„éš¾åº¦ã€‚</li><li><strong>å¯†é’¥æ‹†åˆ†:</strong> å°†å¯†é’¥æ‹†åˆ†æˆå¤šä¸ªéƒ¨åˆ†ï¼Œåˆ†æ•£åœ¨ä¸åŒçš„ä»£ç æ®µä¸­ï¼Œå¢åŠ æ”»å‡»è€…æ¢å¤å¯†é’¥çš„éš¾åº¦ã€‚</li></ul><h3 id="ç™½ç›’å¯†ç å­¦çš„æŒ‘æˆ˜"><a href="#ç™½ç›’å¯†ç å­¦çš„æŒ‘æˆ˜" class="headerlink" title="ç™½ç›’å¯†ç å­¦çš„æŒ‘æˆ˜"></a>ç™½ç›’å¯†ç å­¦çš„æŒ‘æˆ˜</h3><ul><li><strong>æ€§èƒ½å¼€é”€:</strong> ç™½ç›’å¯†ç å­¦é€šå¸¸ä¼šå¸¦æ¥è¾ƒå¤§çš„æ€§èƒ½å¼€é”€ã€‚</li><li><strong>å®‰å…¨æ€§è¯„ä¼°å›°éš¾:</strong> è¯„ä¼°ç™½ç›’å¯†ç ç³»ç»Ÿçš„å®‰å…¨æ€§éå¸¸å›°éš¾ï¼Œæ²¡æœ‰æ ‡å‡†çš„è¯„ä¼°æ–¹æ³•ã€‚</li><li><strong>æ”»å‡»æ‰‹æ®µå¤šæ ·:</strong> æ”»å‡»è€…å¯ä»¥é‡‡ç”¨å¤šç§æ‰‹æ®µæ”»å‡»ç™½ç›’ç³»ç»Ÿï¼Œå¦‚å·®åˆ†åˆ†æã€ç§¯åˆ†æ”»å‡»ç­‰ã€‚</li></ul><h3 id="ç™½ç›’å¯†ç å­¦çš„åº”ç”¨åœºæ™¯"><a href="#ç™½ç›’å¯†ç å­¦çš„åº”ç”¨åœºæ™¯" class="headerlink" title="ç™½ç›’å¯†ç å­¦çš„åº”ç”¨åœºæ™¯"></a>ç™½ç›’å¯†ç å­¦çš„åº”ç”¨åœºæ™¯</h3><ul><li><strong>æ•°å­—ç‰ˆæƒç®¡ç†:</strong> ä¿æŠ¤æ•°å­—å†…å®¹ä¸è¢«éæ³•å¤åˆ¶ã€‚</li><li><strong>ç§»åŠ¨æ”¯ä»˜:</strong> ä¿æŠ¤æ”¯ä»˜ä¿¡æ¯çš„å®‰å…¨ã€‚</li><li><strong>ç‰©è”ç½‘å®‰å…¨:</strong> ä¿æŠ¤ç‰©è”ç½‘è®¾å¤‡ä¸­çš„æ•æ„Ÿæ•°æ®ã€‚</li><li><strong>äº‘è®¡ç®—å®‰å…¨:</strong> åœ¨äº‘ç¯å¢ƒä¸­ä¿æŠ¤æ•°æ®éšç§ã€‚</li></ul><h3 id="ç™½ç›’å¯†ç å­¦çš„å‘å±•è¶‹åŠ¿"><a href="#ç™½ç›’å¯†ç å­¦çš„å‘å±•è¶‹åŠ¿" class="headerlink" title="ç™½ç›’å¯†ç å­¦çš„å‘å±•è¶‹åŠ¿"></a>ç™½ç›’å¯†ç å­¦çš„å‘å±•è¶‹åŠ¿</h3><ul><li><strong>è½»é‡çº§ç™½ç›’å¯†ç :</strong> ä¸ºäº†é€‚åº”èµ„æºå—é™çš„è®¾å¤‡ï¼Œç ”ç©¶äººå‘˜æ­£åœ¨å¼€å‘æ›´è½»é‡çº§çš„ç™½ç›’å¯†ç ç®—æ³•ã€‚</li><li><strong>æŠ—é‡å­è®¡ç®—çš„ç™½ç›’å¯†ç :</strong> éšç€é‡å­è®¡ç®—çš„å‘å±•ï¼ŒæŠ—é‡å­è®¡ç®—çš„ç™½ç›’å¯†ç æˆä¸ºäº†ç ”ç©¶çƒ­ç‚¹ã€‚</li><li><strong>æ ‡å‡†åŒ–:</strong> ç™½ç›’å¯†ç çš„æ ‡å‡†åŒ–å·¥ä½œä¹Ÿåœ¨ä¸æ–­æ¨è¿›ï¼Œä»¥ä¿ƒè¿›å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„æ¨å¹¿ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç™½ç›’å¯†ç å­¦ä¸ºæˆ‘ä»¬åœ¨é«˜åº¦ä¸ä¿¡ä»»çš„ç¯å¢ƒä¸­ä¿æŠ¤å¯†é’¥æä¾›äº†ä¸€ç§æ–°çš„æ€è·¯ã€‚è™½ç„¶é¢ä¸´ç€è¯¸å¤šæŒ‘æˆ˜ï¼Œä½†éšç€ç ”ç©¶çš„æ·±å…¥ï¼Œç™½ç›’å¯†ç å­¦å°†åœ¨è¶Šæ¥è¶Šå¤šçš„é¢†åŸŸå‘æŒ¥é‡è¦ä½œç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ··æ·†æŠ€æœ¯ </tag>
            
            <tag> æ•°å­—ç‰ˆæƒç®¡ç† </tag>
            
            <tag> DRM </tag>
            
            <tag> ç™½ç›’å¯†ç å­¦ </tag>
            
            <tag> å¯†é’¥ä¿æŠ¤ </tag>
            
            <tag> ç‰©è”ç½‘å®‰å…¨ </tag>
            
            <tag> æŸ¥æ‰¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºä»€ä¹ˆæ•°ç»„é€šå¸¸ä»0å¼€å§‹ç¼–å·ï¼Ÿ</title>
      <link href="/posts/why-array-start-with-0.html"/>
      <url>/posts/why-array-start-with-0.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼Œå¾ˆå¤šåˆå­¦è€…éƒ½ä¼šå¯¹æ­¤æ„Ÿåˆ°ç–‘æƒ‘ã€‚</strong></p><p><strong>ä¸»è¦åŸå› å¦‚ä¸‹ï¼š</strong></p><ol><li><p><strong>å†…å­˜åœ°å€çš„ç›´æ¥æ˜ å°„ï¼š</strong></p><ul><li>è®¡ç®—æœºçš„å†…å­˜æ˜¯ä¸€å—è¿ç»­çš„åœ°å€ç©ºé—´ã€‚å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å†…å­˜ä¸­ä¸ºå®ƒåˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜åŒºåŸŸã€‚</li><li>æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å†…å­˜åœ°å€å°±æ˜¯æ•°ç»„çš„èµ·å§‹åœ°å€ã€‚å¦‚æœæˆ‘ä»¬æƒ³è®¿é—®æ•°ç»„çš„ç¬¬nä¸ªå…ƒç´ ï¼Œåªéœ€è¦å°†èµ·å§‹åœ°å€åŠ ä¸Šnä¸ªå…ƒç´ çš„å¤§å°å³å¯ã€‚</li><li>ä»0å¼€å§‹ç¼–å·ï¼Œå°±æ„å‘³ç€æ•°ç»„ä¸‹æ ‡å¯ä»¥ç›´æ¥ä½œä¸ºåç§»é‡æ¥è®¡ç®—å†…å­˜åœ°å€ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–å†…å­˜è®¿é—®çš„è®¡ç®—ï¼Œæé«˜æ•ˆç‡ã€‚</li></ul></li><li><p><strong>ä¸è®¡ç®—æœºåº•å±‚ç¡¬ä»¶çš„å¥‘åˆï¼š</strong></p><ul><li>è®¡ç®—æœºæŒ‡ä»¤é›†ä¸­çš„è®¸å¤šæ“ä½œéƒ½æ˜¯ä»0å¼€å§‹è®¡æ•°çš„ã€‚ä¾‹å¦‚ï¼Œè®¸å¤šæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°é»˜è®¤æ˜¯å¯„å­˜å™¨0ã€‚</li><li>æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå¯ä»¥æ›´å¥½åœ°ä¸åº•å±‚ç¡¬ä»¶æŒ‡ä»¤è¿›è¡Œé…åˆï¼Œæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</li></ul></li><li><p><strong>å†å²åŸå› å’Œæƒ¯æ€§ï¼š</strong></p><ul><li>Cè¯­è¨€æ˜¯æœ€æ—©å¹¿æ³›ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼Œå®ƒé€‰æ‹©äº†ä»0å¼€å§‹ç¼–å·çš„æ•°ç»„ã€‚</li><li>åæ¥çš„è®¸å¤šç¼–ç¨‹è¯­è¨€éƒ½å—åˆ°äº†Cè¯­è¨€çš„å½±å“ï¼Œæ²¿ç”¨äº†è¿™ä¸€ä¹ æƒ¯ï¼Œå½¢æˆäº†ä¸€ä¸ªçº¦å®šä¿—æˆçš„è§„èŒƒã€‚</li></ul></li></ol><p><strong>å½¢è±¡æ¯”å–»ï¼š</strong></p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€æ’æˆ¿å­ï¼Œä»å·¦åˆ°å³ç¼–å·ã€‚å¦‚æœä½ ä»1å¼€å§‹ç¼–å·ï¼Œé‚£ä¹ˆå½“ä½ æƒ³è¦æ‰¾åˆ°ç¬¬né—´æˆ¿å­æ—¶ï¼Œä½ å®é™…ä¸Šéœ€è¦æ•°åˆ°ç¬¬n-1ä¸ªæˆ¿å­æ‰èƒ½æ‰¾åˆ°ã€‚è€Œå¦‚æœä»0å¼€å§‹ç¼–å·ï¼Œä½ ç›´æ¥æ•°åˆ°ç¬¬nä¸ªæˆ¿å­å°±å¯ä»¥äº†ã€‚</p><p><strong>æ€»ç»“ï¼š</strong></p><p>æ•°ç»„ä»0å¼€å§‹ç¼–å·ï¼Œæ˜¯è®¡ç®—æœºç§‘å­¦å‘å±•è¿‡ç¨‹ä¸­å½¢æˆçš„ä¸€ç§çº¦å®šä¿—æˆçš„è§„åˆ™ã€‚å®ƒä¸è®¡ç®—æœºçš„å†…å­˜ç»“æ„å’ŒæŒ‡ä»¤é›†è®¾è®¡ç´§å¯†ç›¸å…³ï¼Œæœ‰åŠ©äºæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</p><p><strong>å½“ç„¶ï¼Œä¹Ÿæœ‰ä¸€äº›ç¼–ç¨‹è¯­è¨€çš„æ•°ç»„æ˜¯ä»1å¼€å§‹ç¼–å·çš„ï¼Œæ¯”å¦‚Matlabã€‚</strong> ä¸è¿‡ï¼Œä»0å¼€å§‹ç¼–å·ä»ç„¶æ˜¯ä¸»æµã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°ç»„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŸ¥æ‰¾è¡¨ï¼šå¿«é€Ÿé«˜æ•ˆçš„æ•°æ®æ£€ç´¢å·¥å…·</title>
      <link href="/posts/lookup-table.html"/>
      <url>/posts/lookup-table.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>æŸ¥æ‰¾è¡¨</strong>ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥æŸ¥æ‰¾æ•°æ®çš„è¡¨æ ¼ã€‚å®ƒæ˜¯ä¸€ç§éå¸¸å¸¸è§ä¸”é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œå°¤å…¶åœ¨éœ€è¦é¢‘ç¹æŸ¥æ‰¾ç‰¹å®šæ•°æ®çš„æƒ…å†µä¸‹ã€‚</p><h3 id="æŸ¥æ‰¾è¡¨çš„ç»“æ„"><a href="#æŸ¥æ‰¾è¡¨çš„ç»“æ„" class="headerlink" title="æŸ¥æ‰¾è¡¨çš„ç»“æ„"></a>æŸ¥æ‰¾è¡¨çš„ç»“æ„</h3><p>ä¸€ä¸ªç®€å•çš„æŸ¥æ‰¾è¡¨é€šå¸¸åŒ…å«ä¸¤åˆ—ï¼š</p><ul><li><strong>é”®ï¼ˆKeyï¼‰ï¼š</strong> å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•çš„å­—æ®µã€‚</li><li><strong>å€¼ï¼ˆValueï¼‰ï¼š</strong> ä¸é”®ç›¸å…³è”çš„æ•°æ®ã€‚</li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><div class="table-container"><table><thead><tr><th>å§“å</th><th>ç”µè¯å·ç </th></tr></thead><tbody><tr><td>å¼ ä¸‰</td><td>13888888888</td></tr><tr><td>æå››</td><td>13999999999</td></tr><tr><td>ç‹äº”</td><td>13666666666</td></tr></tbody></table></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œâ€œå§“åâ€æ˜¯é”®ï¼Œâ€œç”µè¯å·ç â€æ˜¯å€¼ã€‚å½“æˆ‘ä»¬éœ€è¦æŸ¥æ‰¾â€œå¼ ä¸‰â€çš„ç”µè¯å·ç æ—¶ï¼Œåªéœ€è¦æ ¹æ®â€œå§“åâ€è¿™ä¸ªé”®ï¼Œå°±èƒ½è¿…é€Ÿæ‰¾åˆ°å¯¹åº”çš„â€œç”µè¯å·ç â€ã€‚</p><h3 id="æŸ¥æ‰¾è¡¨çš„å·¥ä½œåŸç†"><a href="#æŸ¥æ‰¾è¡¨çš„å·¥ä½œåŸç†" class="headerlink" title="æŸ¥æ‰¾è¡¨çš„å·¥ä½œåŸç†"></a>æŸ¥æ‰¾è¡¨çš„å·¥ä½œåŸç†</h3><p>æŸ¥æ‰¾è¡¨çš„å·¥ä½œåŸç†éå¸¸ç®€å•ï¼š</p><ol><li><strong>è¾“å…¥é”®å€¼:</strong> ç”¨æˆ·è¾“å…¥éœ€è¦æŸ¥æ‰¾çš„é”®ã€‚</li><li><strong>æŸ¥æ‰¾é”®:</strong> ç³»ç»Ÿåœ¨æŸ¥æ‰¾è¡¨ä¸­æœç´¢ä¸è¾“å…¥é”®å€¼ç›¸åŒçš„é”®ã€‚</li><li><strong>è¿”å›ç»“æœ:</strong> å¦‚æœæ‰¾åˆ°åŒ¹é…çš„é”®ï¼Œåˆ™è¿”å›å¯¹åº”çš„å€¼ï¼›å¦åˆ™ï¼Œè¿”å›â€œæœªæ‰¾åˆ°â€çš„ä¿¡æ¯ã€‚</li></ol><h3 id="æŸ¥æ‰¾è¡¨åœ¨è®¡ç®—æœºç§‘å­¦ä¸­çš„åº”ç”¨"><a href="#æŸ¥æ‰¾è¡¨åœ¨è®¡ç®—æœºç§‘å­¦ä¸­çš„åº”ç”¨" class="headerlink" title="æŸ¥æ‰¾è¡¨åœ¨è®¡ç®—æœºç§‘å­¦ä¸­çš„åº”ç”¨"></a>æŸ¥æ‰¾è¡¨åœ¨è®¡ç®—æœºç§‘å­¦ä¸­çš„åº”ç”¨</h3><p>æŸ¥æ‰¾è¡¨åœ¨è®¡ç®—æœºç§‘å­¦ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼Œä¾‹å¦‚ï¼š</p><ul><li><strong>æ•°æ®åº“ç´¢å¼•:</strong> æ•°æ®åº“ä½¿ç”¨ç´¢å¼•æ¥åŠ é€Ÿæ•°æ®çš„æ£€ç´¢ï¼Œç´¢å¼•æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§æŸ¥æ‰¾è¡¨ã€‚</li><li><strong>ç¼“å­˜:</strong> ç¼“å­˜ç³»ç»Ÿä½¿ç”¨æŸ¥æ‰¾è¡¨æ¥å­˜å‚¨æœ€è¿‘è®¿é—®çš„æ•°æ®ï¼Œä»¥ä¾¿å¿«é€Ÿè®¿é—®ã€‚</li><li><strong>ç¼–è¯‘å™¨ç¬¦å·è¡¨:</strong> ç¼–è¯‘å™¨ä½¿ç”¨ç¬¦å·è¡¨æ¥å­˜å‚¨å˜é‡åå’Œå®ƒä»¬å¯¹åº”çš„å†…å­˜åœ°å€ã€‚</li><li><strong>è·¯ç”±è¡¨:</strong> ç½‘ç»œè®¾å¤‡ä½¿ç”¨è·¯ç”±è¡¨æ¥ç¡®å®šæ•°æ®åŒ…çš„è½¬å‘è·¯å¾„ã€‚</li></ul><h3 id="æŸ¥æ‰¾è¡¨çš„æ•°æ®ç»“æ„"><a href="#æŸ¥æ‰¾è¡¨çš„æ•°æ®ç»“æ„" class="headerlink" title="æŸ¥æ‰¾è¡¨çš„æ•°æ®ç»“æ„"></a>æŸ¥æ‰¾è¡¨çš„æ•°æ®ç»“æ„</h3><p>ä¸ºäº†æé«˜æŸ¥æ‰¾æ•ˆç‡ï¼Œä¸åŒçš„åº”ç”¨åœºæ™¯ä¼šé€‰æ‹©ä¸åŒçš„æ•°æ®ç»“æ„æ¥å®ç°æŸ¥æ‰¾è¡¨ï¼š</p><ul><li><strong>æ•°ç»„:</strong> é€‚ç”¨äºæ•°æ®é‡è¾ƒå°ä¸”æœ‰åºçš„æƒ…å†µã€‚</li><li><strong>å“ˆå¸Œè¡¨:</strong> é€‚ç”¨äºæ•°æ®é‡è¾ƒå¤§ä¸”éœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„æƒ…å†µã€‚</li><li><strong>æ ‘å½¢ç»“æ„:</strong> é€‚ç”¨äºéœ€è¦æ”¯æŒåŠ¨æ€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æƒ…å†µã€‚</li><li><strong>Bæ ‘å’ŒB+æ ‘:</strong> é€‚ç”¨äºå­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„å¤§è§„æ¨¡æ•°æ®ã€‚</li></ul><h3 id="æŸ¥æ‰¾è¡¨çš„ä¼˜ç‚¹"><a href="#æŸ¥æ‰¾è¡¨çš„ä¼˜ç‚¹" class="headerlink" title="æŸ¥æ‰¾è¡¨çš„ä¼˜ç‚¹"></a>æŸ¥æ‰¾è¡¨çš„ä¼˜ç‚¹</h3><ul><li><strong>æŸ¥è¯¢é€Ÿåº¦å¿«:</strong> å¯¹äºå·²æœ‰çš„æ•°æ®ï¼ŒæŸ¥æ‰¾é€Ÿåº¦éå¸¸å¿«ã€‚</li><li><strong>å®ç°ç®€å•:</strong> å®¹æ˜“ç†è§£å’Œå®ç°ã€‚</li><li><strong>çµæ´»é€‚ç”¨:</strong> å¯ä»¥ç”¨äºå„ç§æ•°æ®ç±»å‹å’Œåœºæ™¯ã€‚</li></ul><h3 id="æŸ¥æ‰¾è¡¨çš„ç¼ºç‚¹"><a href="#æŸ¥æ‰¾è¡¨çš„ç¼ºç‚¹" class="headerlink" title="æŸ¥æ‰¾è¡¨çš„ç¼ºç‚¹"></a>æŸ¥æ‰¾è¡¨çš„ç¼ºç‚¹</h3><ul><li><strong>å ç”¨ç©ºé—´:</strong> æŸ¥æ‰¾è¡¨éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´æ¥å­˜å‚¨é”®å€¼å¯¹ã€‚</li><li><strong>ç»´æŠ¤æˆæœ¬:</strong> å½“æ•°æ®é‡è¾ƒå¤§æˆ–é¢‘ç¹æ›´æ–°æ—¶ï¼Œç»´æŠ¤æŸ¥æ‰¾è¡¨ä¼šæœ‰ä¸€å®šçš„æˆæœ¬ã€‚</li></ul><p><strong>æ€»ç»“</strong></p><p>æŸ¥æ‰¾è¡¨æ˜¯ä¸€ç§ç®€å•è€Œé«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚é€šè¿‡é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå¯ä»¥å®ç°å¿«é€Ÿã€å‡†ç¡®çš„æ•°æ®æŸ¥æ‰¾ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®æ£€ç´¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŸ¥æ‰¾è¡¨ </tag>
            
            <tag> æ•°æ®æ£€ç´¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­ï¼ŒSupervisorçš„ä½¿ç”¨è¯¦è§£</title>
      <link href="/posts/supervisor.html"/>
      <url>/posts/supervisor.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯Supervisorï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Supervisorï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Supervisorï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Supervisorï¼Ÿ</h3><p>Supervisoræ˜¯ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç®¡ç†å’Œç›‘æ§å¤šä¸ªè¿›ç¨‹ã€‚åœ¨PHPå¼€å‘ä¸­ï¼ŒSupervisorå¸¸ç”¨äºï¼š</p><ul><li><strong>ç®¡ç†å¤šä¸ªPHP-FPMè¿›ç¨‹:</strong> ç¡®ä¿PHPåº”ç”¨ç¨‹åºå§‹ç»ˆè¿è¡Œï¼Œå¹¶åœ¨å‘ç”Ÿå´©æºƒæ—¶è‡ªåŠ¨é‡å¯ã€‚</li><li><strong>ç›‘æ§è¿›ç¨‹çŠ¶æ€:</strong> å®æ—¶ç›‘æ§è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼Œå¹¶åŠæ—¶å‘å‡ºå‘Šè­¦ã€‚</li><li><strong>ç®¡ç†ä¸åŒçš„åº”ç”¨ç¨‹åº:</strong> å¯ä»¥åŒæ—¶ç®¡ç†å¤šä¸ªä¸åŒçš„PHPåº”ç”¨ç¨‹åºã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨Supervisorï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨Supervisorï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨Supervisorï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨Supervisorï¼Ÿ</h3><ul><li><strong>æé«˜ç¨³å®šæ€§:</strong> Supervisorå¯ä»¥ä¿è¯PHPåº”ç”¨ç¨‹åºåœ¨å‘ç”Ÿå´©æºƒæ—¶è‡ªåŠ¨é‡å¯ï¼Œæé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</li><li><strong>ç®€åŒ–ç®¡ç†:</strong> é€šè¿‡ç®€å•çš„é…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥ç®¡ç†å¤šä¸ªè¿›ç¨‹ï¼Œå‡å°‘äº†æ‰‹åŠ¨æ“ä½œçš„ç¹çã€‚</li><li><strong>æä¾›ç›‘æ§åŠŸèƒ½:</strong> Supervisorå†…ç½®äº†ç›‘æ§åŠŸèƒ½ï¼Œå¯ä»¥å®æ—¶ç›‘æ§è¿›ç¨‹çš„çŠ¶æ€ï¼Œå¹¶æä¾›ä¸°å¯Œçš„å‘Šè­¦æ–¹å¼ã€‚</li><li><strong>æ”¯æŒçƒ­é‡å¯:</strong> åœ¨ä¸ä¸­æ–­æœåŠ¡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¯¹PHP-FPMè¿›ç¨‹è¿›è¡Œçƒ­é‡å¯ï¼Œæ–¹ä¾¿è¿›è¡Œé…ç½®æ›´æ–°æˆ–ä»£ç éƒ¨ç½²ã€‚</li></ul><h3 id="å®‰è£…Supervisor"><a href="#å®‰è£…Supervisor" class="headerlink" title="å®‰è£…Supervisor"></a>å®‰è£…Supervisor</h3><p><strong>Ubuntu/Debian:</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install supervisor</span><br></pre></td></tr></tbody></table></figure><p><strong>CentOS/RHEL:</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install supervisor</span><br></pre></td></tr></tbody></table></figure><h3 id="é…ç½®Supervisor"><a href="#é…ç½®Supervisor" class="headerlink" title="é…ç½®Supervisor"></a>é…ç½®Supervisor</h3><p>Supervisorçš„é…ç½®æ–‡ä»¶ä¸€èˆ¬ä½äº<code>/etc/supervisor/supervisord.conf</code>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶æ¥é…ç½®æˆ‘ä»¬çš„è¿›ç¨‹ã€‚</p><p><strong>ä¸€ä¸ªç®€å•çš„é…ç½®ç¤ºä¾‹:</strong></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[program:php-fpm]</span></span><br><span class="line"><span class="attr">command</span>=/usr/sbin/php-fpm -c /etc/php/<span class="number">7.4</span>/fpm/php-fpm.conf</span><br><span class="line"><span class="attr">directory</span>=/var/www/html</span><br><span class="line"><span class="attr">autostart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">autorestart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">user</span>=www-data</span><br><span class="line"><span class="attr">redirect_stderr</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">stdout_logfile</span>=/var/log/supervisor/php-fpm.log</span><br><span class="line"><span class="attr">stderr_logfile</span>=/var/log/supervisor/php-fpm.err.log</span><br></pre></td></tr></tbody></table></figure><ul><li><strong>program:</strong> è¿›ç¨‹çš„åç§°ï¼Œå¯ä»¥è‡ªå®šä¹‰ã€‚</li><li><strong>command:</strong> è¦å¯åŠ¨çš„å‘½ä»¤ã€‚</li><li><strong>directory:</strong> è¿›ç¨‹çš„å·¥ä½œç›®å½•ã€‚</li><li><strong>autostart:</strong> æ˜¯å¦åœ¨Supervisorå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨è¿›ç¨‹ã€‚</li><li><strong>autorestart:</strong> è¿›ç¨‹å´©æºƒæ—¶æ˜¯å¦è‡ªåŠ¨é‡å¯ã€‚</li><li><strong>user:</strong> è¿è¡Œè¿›ç¨‹çš„ç”¨æˆ·ã€‚</li><li><strong>redirect_stderr:</strong> å°†æ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºã€‚</li><li><strong>stdout_logfile</strong> å’Œ <strong>stderr_logfile:</strong> åˆ†åˆ«æŒ‡å®šæ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯çš„æ—¥å¿—æ–‡ä»¶ã€‚</li></ul><h3 id="å¯åŠ¨å’Œç®¡ç†Supervisor"><a href="#å¯åŠ¨å’Œç®¡ç†Supervisor" class="headerlink" title="å¯åŠ¨å’Œç®¡ç†Supervisor"></a>å¯åŠ¨å’Œç®¡ç†Supervisor</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨Supervisor</span></span><br><span class="line">sudo supervisorctl start all</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯Supervisor</span></span><br><span class="line">sudo supervisorctl reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢Supervisor</span></span><br><span class="line">sudo supervisorctl stop all</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€</span></span><br><span class="line">sudo supervisorctl status</span><br></pre></td></tr></tbody></table></figure><h3 id="Supervisor-Webç•Œé¢"><a href="#Supervisor-Webç•Œé¢" class="headerlink" title="Supervisor Webç•Œé¢"></a>Supervisor Webç•Œé¢</h3><p>Supervisorè¿˜æä¾›äº†ä¸€ä¸ªWebç•Œé¢ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°ç®¡ç†è¿›ç¨‹ã€‚å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®<code>http://localhost:9001</code>æ¥è®¿é—®Webç•Œé¢ã€‚é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯<code>user</code>å’Œ<code>password</code>ã€‚</p><h3 id="é«˜çº§ç”¨æ³•"><a href="#é«˜çº§ç”¨æ³•" class="headerlink" title="é«˜çº§ç”¨æ³•"></a>é«˜çº§ç”¨æ³•</h3><ul><li><strong>äº‹ä»¶ç›‘å¬:</strong> Supervisoræ”¯æŒäº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥è‡ªå®šä¹‰è„šæœ¬åœ¨å‘ç”Ÿç‰¹å®šäº‹ä»¶æ—¶æ‰§è¡Œã€‚</li><li><strong>è¿›ç¨‹ç»„:</strong> å¯ä»¥å°†å¤šä¸ªè¿›ç¨‹åˆ†ç»„ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li><li><strong>é…ç½®æ–‡ä»¶åŒ…å«:</strong> å¯ä»¥å°†é…ç½®æ–‡ä»¶æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œæé«˜å¯ç»´æŠ¤æ€§ã€‚</li></ul><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li><strong>é…ç½®æ–‡ä»¶è¯­æ³•:</strong> Supervisoré…ç½®æ–‡ä»¶çš„è¯­æ³•æ¯”è¾ƒä¸¥æ ¼ï¼Œéœ€è¦æ³¨æ„æ ¼å¼ã€‚</li><li><strong>æ—¥å¿—ç®¡ç†:</strong> å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶ï¼Œé˜²æ­¢ç£ç›˜å ç”¨è¿‡å¤§ã€‚</li><li><strong>ç›‘æ§å‘Šè­¦:</strong> é…ç½®é€‚å½“çš„å‘Šè­¦ï¼Œä»¥ä¾¿åŠæ—¶å‘ç°é—®é¢˜ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Supervisoræ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯¹äºPHPå¼€å‘äººå‘˜æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚é€šè¿‡Supervisorï¼Œå¯ä»¥æé«˜PHPåº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§ã€å¯ç®¡ç†æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> supervisor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx æ—¥å¿—</title>
      <link href="/posts/nginx-logs.html"/>
      <url>/posts/nginx-logs.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä»€ä¹ˆæ˜¯Nginx-æ—¥å¿—ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Nginx-æ—¥å¿—ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Nginx æ—¥å¿—ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Nginx æ—¥å¿—ï¼Ÿ</h3><p>Nginx æ—¥å¿—æ˜¯ Nginx æœåŠ¡å™¨è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„è®°å½•æ–‡ä»¶ï¼Œå®ƒè¯¦ç»†è®°å½•äº†æœåŠ¡å™¨çš„å„é¡¹æ´»åŠ¨ï¼ŒåŒ…æ‹¬å®¢æˆ·ç«¯è¯·æ±‚ã€æœåŠ¡å™¨å“åº”ã€é”™è¯¯ä¿¡æ¯ç­‰ã€‚é€šè¿‡åˆ†ææ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£æœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€ã€æ€§èƒ½ç“¶é¢ˆã€å®‰å…¨é—®é¢˜ç­‰ï¼Œä»è€Œè¿›è¡Œä¼˜åŒ–å’Œç»´æŠ¤ã€‚</p><h3 id="Nginx-æ—¥å¿—çš„ç±»å‹"><a href="#Nginx-æ—¥å¿—çš„ç±»å‹" class="headerlink" title="Nginx æ—¥å¿—çš„ç±»å‹"></a>Nginx æ—¥å¿—çš„ç±»å‹</h3><ul><li>è®¿é—®æ—¥å¿— (access log)ï¼š è®°å½•å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨çš„è®¿é—®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IP åœ°å€ã€è¯·æ±‚æ—¶é—´ã€è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚ URLã€çŠ¶æ€ç ã€å“åº”å­—èŠ‚æ•°ã€ç”¨æˆ·ä»£ç†ç­‰ã€‚</li><li>é”™è¯¯æ—¥å¿— (error log)ï¼š è®°å½•æœåŠ¡å™¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬é…ç½®é”™è¯¯ã€è„šæœ¬é”™è¯¯ã€è¿æ¥é”™è¯¯ç­‰ã€‚</li></ul><h3 id="Nginx-æ—¥å¿—çš„é…ç½®"><a href="#Nginx-æ—¥å¿—çš„é…ç½®" class="headerlink" title="Nginx æ—¥å¿—çš„é…ç½®"></a>Nginx æ—¥å¿—çš„é…ç½®</h3><p>Nginx æ—¥å¿—çš„é…ç½®ä¸»è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œï¼Œé€šå¸¸ä½äº /etc/nginx/nginx.conf æˆ–ç±»ä¼¼è·¯å¾„ä¸‹ã€‚<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">access_log logs/access.log main;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">error_log logs/error.log;</span></span><br></pre></td></tr></tbody></table></figure><br>access_log: é…ç½®è®¿é—®æ—¥å¿—çš„è·¯å¾„å’Œæ ¼å¼ã€‚<br>error_log: é…ç½®é”™è¯¯æ—¥å¿—çš„è·¯å¾„å’Œæ—¥å¿—çº§åˆ«ã€‚<p></p><p>æ—¥å¿—æ ¼å¼ï¼š<br>Nginx æ”¯æŒè‡ªå®šä¹‰æ—¥å¿—æ ¼å¼ï¼Œä½¿ç”¨ log_format æŒ‡ä»¤æ¥å®šä¹‰ã€‚<br></p><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">log_format</span> main <span class="string">'<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] "<span class="variable">$request</span>" '</span></span><br><span class="line">              <span class="string">'<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> "<span class="variable">$http_referer</span>" '</span></span><br><span class="line">              <span class="string">'"<span class="variable">$http_user_agent</span>"'</span>;</span><br></pre></td></tr></tbody></table></figure><br>$remote_addr: å®¢æˆ·ç«¯ IP åœ°å€<br>$remote_user: å®¢æˆ·ç«¯ç”¨æˆ·å<br>$time_local: æœ¬åœ°æ—¶é—´<br>$request: è¯·æ±‚è¡Œï¼ŒåŒ…å«æ–¹æ³•ã€URI å’Œåè®®<br>$status: çŠ¶æ€ç <br>$body_bytes_sent: å‘é€çš„å­—èŠ‚æ•°<br>$http_referer: è¯·æ±‚æ¥æºé¡µ<br>$http_user_agent: å®¢æˆ·ç«¯æµè§ˆå™¨ä¿¡æ¯<p></p><h3 id="Nginx-æ—¥å¿—çš„ç”¨é€”"><a href="#Nginx-æ—¥å¿—çš„ç”¨é€”" class="headerlink" title="Nginx æ—¥å¿—çš„ç”¨é€”"></a>Nginx æ—¥å¿—çš„ç”¨é€”</h3><ul><li>æµé‡åˆ†æï¼š ç»Ÿè®¡ç½‘ç«™è®¿é—®é‡ã€çƒ­é—¨é¡µé¢ã€è®¿é—®æ¥æºç­‰ï¼Œä¸ºç½‘ç«™ä¼˜åŒ–æä¾›æ•°æ®æ”¯æŒã€‚</li><li>é”™è¯¯æ’æŸ¥ï¼š æŸ¥æ‰¾æœåŠ¡å™¨é”™è¯¯çš„åŸå› ï¼Œå®šä½é—®é¢˜ï¼Œè§£å†³æ•…éšœã€‚</li><li>å®‰å…¨ç›‘æ§ï¼š æ£€æµ‹æ¶æ„æ”»å‡»ã€å…¥ä¾µè¡Œä¸ºï¼Œä¿éšœæœåŠ¡å™¨å®‰å…¨ã€‚</li><li>æ€§èƒ½åˆ†æï¼š åˆ†æè¯·æ±‚å¤„ç†æ—¶é—´ã€æ…¢è¯·æ±‚ç­‰ï¼Œä¼˜åŒ–æœåŠ¡å™¨æ€§èƒ½ã€‚</li></ul><h3 id="Nginx-æ—¥å¿—çš„åˆ†æ"><a href="#Nginx-æ—¥å¿—çš„åˆ†æ" class="headerlink" title="Nginx æ—¥å¿—çš„åˆ†æ"></a>Nginx æ—¥å¿—çš„åˆ†æ</h3><ul><li>æ‰‹åŠ¨åˆ†æï¼š ä½¿ç”¨ cat, grep, awk ç­‰å‘½ä»¤å¯¹æ—¥å¿—è¿›è¡Œåˆ†æã€‚</li><li>æ—¥å¿—åˆ†æå·¥å…·ï¼š ä½¿ç”¨ä¸“é—¨çš„æ—¥å¿—åˆ†æå·¥å…·ï¼Œå¦‚ logstash, elasticsearch, kibana ç­‰ï¼Œå¯¹æ—¥å¿—è¿›è¡Œå¯è§†åŒ–åˆ†æå’Œæœç´¢ã€‚</li></ul><h3 id="å¸¸è§åˆ†æåœºæ™¯ï¼š"><a href="#å¸¸è§åˆ†æåœºæ™¯ï¼š" class="headerlink" title="å¸¸è§åˆ†æåœºæ™¯ï¼š"></a>å¸¸è§åˆ†æåœºæ™¯ï¼š</h3><ul><li>ç»Ÿè®¡ç½‘ç«™è®¿é—®é‡ï¼š ä½¿ç”¨ awk æˆ– grep å‘½ä»¤ç»Ÿè®¡è®¿é—®æ—¥å¿—ä¸­ IP åœ°å€çš„æ•°é‡ã€‚</li><li>æŸ¥æ‰¾é”™è¯¯æ—¥å¿—ï¼š ä½¿ç”¨ grep å‘½ä»¤æœç´¢é”™è¯¯æ—¥å¿—ä¸­çš„å…³é”®å­—ã€‚</li><li>åˆ†æè®¿é—®æ¥æºï¼š ä½¿ç”¨ awk å‘½ä»¤æå–è®¿é—®æ—¥å¿—ä¸­çš„ $http_referer å­—æ®µï¼Œç»Ÿè®¡è®¿é—®æ¥æºã€‚</li><li>åˆ†æç”¨æˆ·è¡Œä¸ºï¼š ä½¿ç”¨æ—¥å¿—åˆ†æå·¥å…·ï¼Œå¯¹ç”¨æˆ·è¡Œä¸ºè¿›è¡Œå¯è§†åŒ–åˆ†æï¼Œäº†è§£ç”¨æˆ·è®¿é—®è·¯å¾„ã€åœç•™æ—¶é—´ç­‰ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> æ—¥å¿— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå¦‚ä½•æ’æŸ¥cpuè¿‡é«˜çš„åŸå› </title>
      <link href="/posts/linux-high-cpu-troubleshoot.html"/>
      <url>/posts/linux-high-cpu-troubleshoot.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¦æ’æŸ¥ Linux ä¸Š CPU è¿‡é«˜çš„åŸå› ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š</p><ol><li><p>ä½¿ç”¨ç³»ç»Ÿç›‘æ§å·¥å…·ï¼šä½¿ç”¨åƒ <code>top</code>ã€<code>htop</code> æˆ– <code>glances</code> ç­‰ç³»ç»Ÿç›‘æ§å·¥å…·æ¥æŸ¥çœ‹å½“å‰ CPU ä½¿ç”¨æƒ…å†µã€‚è¿™å°†ç»™æˆ‘ä»¬ä¸€ä¸ªå¿«é€Ÿçš„æ¦‚è¿°ï¼Œäº†è§£å“ªäº›è¿›ç¨‹æˆ–æœåŠ¡å ç”¨äº†å¤§é‡ CPU èµ„æºã€‚</p></li><li><p>æ£€æŸ¥æ’åé å‰çš„è¿›ç¨‹ï¼šåœ¨ç³»ç»Ÿç›‘æ§å·¥å…·ä¸­ï¼ŒæŸ¥çœ‹å“ªäº›è¿›ç¨‹å ç”¨äº†å¤§é‡çš„ CPU èµ„æºã€‚æ³¨æ„å…³æ³¨ CPU ä½¿ç”¨ç‡é«˜çš„è¿›ç¨‹å’Œå…¶å¯¹åº”çš„ PIDï¼ˆè¿›ç¨‹ IDï¼‰ã€‚</p></li><li><p>æŸ¥çœ‹è¿›ç¨‹è¯¦ç»†ä¿¡æ¯ï¼šä½¿ç”¨å‘½ä»¤ <code>ps -p &lt;PID&gt; -f</code>ï¼Œå°† <code>&lt;PID&gt;</code> æ›¿æ¢ä¸ºæ’åé å‰çš„è¿›ç¨‹çš„ PIDï¼Œå¯ä»¥æŸ¥çœ‹è¯¥è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ã€‚ç‰¹åˆ«å…³æ³¨ CPU ä½¿ç”¨ç‡ã€å†…å­˜å ç”¨æƒ…å†µä»¥åŠè¿›ç¨‹è¿è¡Œæ—¶é—´ç­‰ã€‚</p></li><li><p>æ—¥å¿—åˆ†æï¼šæŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼ˆå¦‚ <code>/var/log/syslog</code> æˆ– <code>/var/log/messages</code>ï¼‰ï¼Œå¯»æ‰¾ä¸ CPU å ç”¨ç‡é«˜ç›¸å…³è”çš„é”™è¯¯æˆ–è­¦å‘Šæ¶ˆæ¯ã€‚è¿™å¯èƒ½æœ‰åŠ©äºå®šä½é—®é¢˜ã€‚</p></li><li><p>æ£€æŸ¥è¿›ç¨‹è°ƒåº¦å’Œä¼˜å…ˆçº§ï¼šä½¿ç”¨å‘½ä»¤ <code>ps -eo pid,ppid,cmd,%cpu,%mem,nice,pri,stat</code>ï¼ŒæŸ¥çœ‹è¿›ç¨‹çš„è°ƒåº¦å’Œä¼˜å…ˆçº§ä¿¡æ¯ã€‚ç¡®ä¿æ²¡æœ‰è°ƒåº¦é—®é¢˜å¯¼è‡´æŸäº›è¿›ç¨‹å ç”¨è¿‡å¤šçš„ CPU èµ„æºã€‚</p></li><li><p>æ£€æŸ¥å®šæ—¶ä»»åŠ¡å’Œåå°è¿›ç¨‹ï¼šæŸäº›å®šæ—¶ä»»åŠ¡æˆ–åå°è¿›ç¨‹å¯èƒ½ä¼šå¯¼è‡´ CPU è´Ÿè½½è¿‡é«˜ã€‚ä½¿ç”¨å‘½ä»¤ <code>crontab -l</code> æ£€æŸ¥å®šæ—¶ä»»åŠ¡ï¼Œä½¿ç”¨ <code>service --status-all</code> æˆ– <code>systemctl list-unit-files --type=service</code> æŸ¥çœ‹ç³»ç»Ÿä¸­è¿è¡Œçš„æœåŠ¡ã€‚</p></li><li><p>CPU åˆ†æå·¥å…·ï¼šå¦‚æœä¸Šè¿°æ–¹æ³•æ²¡æœ‰æ‰¾åˆ°é—®é¢˜æ ¹æºï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ CPU åˆ†æå·¥å…·è¿›è¡Œæ·±å…¥è°ƒæŸ¥ã€‚ä¾‹å¦‚ï¼Œ<code>perf</code>ã€<code>sysstat</code>ã€<code>strace</code>ã€<code>oprofile</code> ç­‰å·¥å…·å¯ä»¥æä¾›æ›´è¯¦ç»†çš„æ€§èƒ½æ•°æ®å’Œè¿›ç¨‹æ´»åŠ¨è¿½è¸ªã€‚</p></li></ol><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿå®šä½åˆ°å¯¼è‡´ CPU ä½¿ç”¨ç‡è¿‡é«˜çš„å…·ä½“è¿›ç¨‹ã€æœåŠ¡æˆ–é—®é¢˜ã€‚æ ¹æ®é—®é¢˜çš„ä¸åŒï¼Œé‡‡å–ç›¸åº”çš„æªæ–½ï¼Œå¦‚ä¼˜åŒ–ä»£ç ã€è°ƒæ•´é…ç½®ã€æ›´æ–°è½¯ä»¶ç‰ˆæœ¬ç­‰ï¼Œä»¥è§£å†³ CPU è¿‡é«˜çš„é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿ç»´ </tag>
            
            <tag> cpu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux tee å‘½ä»¤è¯¦è§£</title>
      <link href="/posts/linux-tee.html"/>
      <url>/posts/linux-tee.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="tee-å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#tee-å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="tee å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ"></a>tee å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>tee å‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ Linux å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒå¯ä»¥å°†æ ‡å‡†è¾“å…¥çš„æ•°æ®åŒæ—¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆé€šå¸¸æ˜¯ç»ˆç«¯ï¼‰å’Œä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œtee å‘½ä»¤å¯ä»¥å°†æ•°æ®â€œåˆ†æµâ€ï¼Œä¸€è¾¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œä¸€è¾¹ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</p><h3 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tee</span> [é€‰é¡¹] [æ–‡ä»¶...]</span><br></pre></td></tr></tbody></table></figure><h3 id="å¸¸ç”¨é€‰é¡¹"><a href="#å¸¸ç”¨é€‰é¡¹" class="headerlink" title="å¸¸ç”¨é€‰é¡¹"></a>å¸¸ç”¨é€‰é¡¹</h3><ul><li><strong>-a</strong> æˆ– <strong>â€”append</strong>ï¼šå°†æ•°æ®è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ï¼Œè€Œä¸æ˜¯è¦†ç›–åŸæœ‰å†…å®¹ã€‚</li><li><strong>-i</strong> æˆ– <strong>â€”ignore-interrupts</strong>ï¼šå¿½ç•¥ä¸­æ–­ä¿¡å·ï¼Œå³ä½¿æ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼Œä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚</li><li><strong>-p</strong> æˆ– <strong>â€”pipeline</strong>ï¼šä¼˜åŒ–ç®¡é“æ€§èƒ½ï¼Œå‡å°‘ç¼“å†²ã€‚</li></ul><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><ul><li><strong>å°†å‘½ä»¤è¾“å‡ºåŒæ—¶æ˜¾ç¤ºåœ¨ç»ˆç«¯å¹¶ä¿å­˜åˆ°æ–‡ä»¶ï¼š</strong><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l | <span class="built_in">tee</span> file.txt</span><br></pre></td></tr></tbody></table></figure>è¿™ä¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ŒåŒæ—¶å°†ç»“æœä¿å­˜åˆ° <code>file.txt</code> æ–‡ä»¶ä¸­ã€‚</li><li><strong>å°†å¤šæ¡å‘½ä»¤çš„è¾“å‡ºåˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼š</strong><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> file1.txt file2.txt | <span class="built_in">tee</span> combined.txt</span><br></pre></td></tr></tbody></table></figure>è¿™ä¼šå°† <code>file1.txt</code> å’Œ <code>file2.txt</code> çš„å†…å®¹åˆå¹¶ï¼Œå¹¶è¾“å‡ºåˆ° <code>combined.txt</code> æ–‡ä»¶ä¸­ã€‚</li><li><strong>å°†å‘½ä»¤è¾“å‡ºè¿½åŠ åˆ°å·²æœ‰æ–‡ä»¶ä¸­ï¼š</strong><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> &gt;&gt; log.txt | <span class="built_in">tee</span> -a log.txt</span><br></pre></td></tr></tbody></table></figure>è¿™ä¼šå°†å½“å‰æ—¥æœŸå’Œæ—¶é—´è¿½åŠ åˆ° <code>log.txt</code> æ–‡ä»¶çš„æœ«å°¾ï¼ŒåŒæ—¶æ˜¾ç¤ºåœ¨ç»ˆç«¯ã€‚</li><li><strong>è¿‡æ»¤è¾“å‡ºå¹¶ä¿å­˜ï¼š</strong><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep error log.txt | <span class="built_in">tee</span> errors.txt</span><br></pre></td></tr></tbody></table></figure>è¿™ä¼šä» <code>log.txt</code> æ–‡ä»¶ä¸­æå–åŒ…å« â€œerrorâ€ çš„è¡Œï¼Œå¹¶å°†ç»“æœæ˜¾ç¤ºåœ¨ç»ˆç«¯å¹¶ä¿å­˜åˆ° <code>errors.txt</code> æ–‡ä»¶ä¸­ã€‚</li></ul><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ul><li><strong>æ—¥å¿—è®°å½•ï¼š</strong> å°†ç¨‹åºè¾“å‡ºå®æ—¶è®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿æŸ¥çœ‹å’Œåˆ†æã€‚</li><li><strong>æ•°æ®å¤‡ä»½ï¼š</strong> å°†é‡è¦æ•°æ®åŒæ—¶ä¿å­˜åˆ°å¤šä¸ªåœ°æ–¹ï¼Œä»¥é˜²æ•°æ®ä¸¢å¤±ã€‚</li><li><strong>è°ƒè¯•ï¼š</strong> å°†ç¨‹åºè¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿ä»”ç»†æ£€æŸ¥ã€‚</li><li><strong>ç®¡é“æ“ä½œï¼š</strong> å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ï¼ŒåŒæ—¶ä¿å­˜ä¸­é—´ç»“æœã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>tee å‘½ä»¤åœ¨ Linux ç³»ç»Ÿä¸­éå¸¸å¸¸è§ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç®¡ç†å’Œå¤„ç†æ•°æ®æµã€‚é€šè¿‡çµæ´»è¿ç”¨ tee å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> tee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Linuxåå°è¿è¡ŒæŒ‡å®šç¨‹åºçš„å‡ ç§æ–¹æ³•</title>
      <link href="/posts/program-run-in-background.html"/>
      <url>/posts/program-run-in-background.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">åœ¨Linuxç³»ç»Ÿä¸­ï¼Œå°†ç¨‹åºåœ¨åå°è¿è¡Œå¯ä»¥é‡Šæ”¾ç»ˆç«¯ï¼Œè®©æ‚¨ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ä¸‹é¢ä»‹ç»å‡ ç§å¸¸ç”¨çš„æ–¹æ³•ï¼š</div><h3 id="1-ç›´æ¥æ·»åŠ -amp-ç¬¦å·"><a href="#1-ç›´æ¥æ·»åŠ -amp-ç¬¦å·" class="headerlink" title="1. ç›´æ¥æ·»åŠ  &amp; ç¬¦å·"></a>1. <strong>ç›´æ¥æ·»åŠ  &amp; ç¬¦å·</strong></h3><ul><li><strong>æœ€ç®€å•çš„æ–¹æ³•</strong>ï¼šåœ¨å‘½ä»¤æœ«å°¾åŠ ä¸Š <code>&amp;</code> ç¬¦å·ï¼Œå³å¯å°†ç¨‹åºæ”¾å…¥åå°è¿è¡Œã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python my_script.py &amp;</span><br></pre></td></tr></tbody></table></figure></li><li><strong>æ³¨æ„</strong>ï¼š<ul><li>è¯¥æ–¹æ³•é€‚ç”¨äºå¤§å¤šæ•°å‘½ä»¤ã€‚</li><li>é€€å‡ºç»ˆç«¯åï¼Œåå°ç¨‹åºä¼šéšä¹‹ç»ˆæ­¢ã€‚</li></ul></li></ul><h3 id="2-ä½¿ç”¨-nohup-å‘½ä»¤"><a href="#2-ä½¿ç”¨-nohup-å‘½ä»¤" class="headerlink" title="2. ä½¿ç”¨ nohup å‘½ä»¤"></a>2. <strong>ä½¿ç”¨ nohup å‘½ä»¤</strong></h3><ul><li><strong>å¿½ç•¥æŒ‚æ–­ä¿¡å·</strong>ï¼š<code>nohup</code> å‘½ä»¤å¯ä»¥ä½¿ç¨‹åºåœ¨ç”¨æˆ·é€€å‡ºç»ˆç«¯åç»§ç»­è¿è¡Œã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> python my_script.py &amp;</span><br></pre></td></tr></tbody></table></figure></li><li><strong>è¾“å‡ºé‡å®šå‘</strong>ï¼šé€šå¸¸å°†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä»¥é¿å…è¾“å‡ºä¸¢å¤±ã€‚<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> python my_script.py &gt; output.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></tbody></table></figure><ul><li><code>&gt; output.log</code> å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ° <code>output.log</code> æ–‡ä»¶ã€‚</li><li><code>2&gt;&amp;1</code> å°†æ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºï¼Œå³ä¹Ÿå†™å…¥ <code>output.log</code> æ–‡ä»¶ã€‚</li></ul></li></ul><h3 id="3-ä½¿ç”¨-screen-æˆ–-tmux"><a href="#3-ä½¿ç”¨-screen-æˆ–-tmux" class="headerlink" title="3. ä½¿ç”¨ screen æˆ– tmux"></a>3. <strong>ä½¿ç”¨ screen æˆ– tmux</strong></h3><ul><li><strong>åˆ›å»ºè™šæ‹Ÿç»ˆç«¯</strong>ï¼šscreen å’Œ tmux å¯ä»¥åˆ›å»ºå¤šä¸ªè™šæ‹Ÿç»ˆç«¯ï¼Œæ‚¨å¯ä»¥åœ¨è¿™äº›ç»ˆç«¯ä¸­è¿è¡Œç¨‹åºï¼Œå³ä½¿å…³é—­äº†åŸå§‹ç»ˆç«¯ï¼Œè¿™äº›è™šæ‹Ÿç»ˆç«¯ä¸­çš„ç¨‹åºä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼š<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">screen</span><br><span class="line"><span class="comment"># åœ¨screenä¸­è¿è¡Œç¨‹åº</span></span><br><span class="line">python my_script.py</span><br><span class="line"><span class="comment"># é€€å‡ºscreenä½†ä¸ç»ˆæ­¢ç¨‹åº</span></span><br><span class="line">Ctrl+a d</span><br></pre></td></tr></tbody></table></figure></li><li><strong>æ¢å¤screen</strong>ï¼š<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -r</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="4-ä½¿ç”¨-systemd"><a href="#4-ä½¿ç”¨-systemd" class="headerlink" title="4. ä½¿ç”¨ systemd"></a>4. <strong>ä½¿ç”¨ systemd</strong></h3><ul><li><strong>ç³»ç»ŸæœåŠ¡ç®¡ç†</strong>ï¼šsystemd æ˜¯ Linux ç³»ç»Ÿçš„åˆå§‹åŒ–ç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†å™¨ï¼Œå¯ä»¥ç”¨æ¥ç®¡ç†åå°æœåŠ¡ã€‚</li><li><strong>åˆ›å»ºæœåŠ¡å•å…ƒæ–‡ä»¶</strong>ï¼šç¼–å†™ä¸€ä¸ª <code>.service</code> æ–‡ä»¶ï¼Œå®šä¹‰æœåŠ¡çš„è¡Œä¸ºã€‚</li><li><strong>å¯åŠ¨æœåŠ¡</strong>ï¼šä½¿ç”¨ <code>systemctl</code> å‘½ä»¤å¯åŠ¨æœåŠ¡ã€‚</li><li><strong>è¾ƒä¸ºå¤æ‚</strong>ï¼Œé€‚åˆé•¿æœŸè¿è¡Œçš„æœåŠ¡ã€‚</li></ul><h3 id="5-ä½¿ç”¨-jobs-å’Œ-bg-å‘½ä»¤"><a href="#5-ä½¿ç”¨-jobs-å’Œ-bg-å‘½ä»¤" class="headerlink" title="5. ä½¿ç”¨ jobs å’Œ bg å‘½ä»¤"></a>5. <strong>ä½¿ç”¨ jobs å’Œ bg å‘½ä»¤</strong></h3><ul><li><strong>å°†å‰å°è¿›ç¨‹è½¬ä¸ºåå°</strong>ï¼š<ul><li><code>Ctrl+Z</code>ï¼šå°†å½“å‰å‰å°è¿›ç¨‹æŒ‚èµ·ã€‚</li><li><code>jobs</code>ï¼šæŸ¥çœ‹åå°ä½œä¸šã€‚</li><li><code>bg %job_number</code>ï¼šå°†æŒ‡å®šä½œä¸šæ”¾å…¥åå°è¿è¡Œã€‚</li></ul></li></ul><h3 id="å…¶ä»–æ³¨æ„äº‹é¡¹"><a href="#å…¶ä»–æ³¨æ„äº‹é¡¹" class="headerlink" title="å…¶ä»–æ³¨æ„äº‹é¡¹"></a><strong>å…¶ä»–æ³¨æ„äº‹é¡¹</strong></h3><ul><li><strong>æŸ¥çœ‹åå°è¿›ç¨‹</strong>ï¼šä½¿ç”¨ <code>ps</code> å‘½ä»¤æŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚</li><li><strong>ç»ˆæ­¢åå°è¿›ç¨‹</strong>ï¼šä½¿ç”¨ <code>kill</code> å‘½ä»¤ç»ˆæ­¢æŒ‡å®šè¿›ç¨‹ã€‚</li><li><strong>æ—¥å¿—</strong>ï¼šå¯¹äºé•¿æ—¶é—´è¿è¡Œçš„ç¨‹åºï¼Œå»ºè®®å°†è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿æŸ¥çœ‹è¿è¡Œæƒ…å†µã€‚</li></ul><p><strong>é€‰æ‹©åˆé€‚çš„æ–¹æ³•</strong></p><ul><li><strong>ä¸´æ—¶ä»»åŠ¡</strong>ï¼šç›´æ¥æ·»åŠ  <code>&amp;</code> æˆ–ä½¿ç”¨ <code>jobs</code> å’Œ <code>bg</code> å‘½ä»¤ã€‚</li><li><strong>é•¿æœŸè¿è¡Œ</strong>ï¼šä½¿ç”¨ <code>nohup</code>ã€<code>screen</code>ã€<code>tmux</code> æˆ– <code>systemd</code>ã€‚</li><li><strong>å¤æ‚ç®¡ç†</strong>ï¼šä½¿ç”¨ <code>systemd</code>ã€‚</li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><p>å‡è®¾æ‚¨æœ‰ä¸€ä¸ª Python è„šæœ¬ <code>my_script.py</code>ï¼Œè¦å°†å…¶åœ¨åå°è¿è¡Œï¼Œå¹¶æŠŠè¾“å‡ºé‡å®šå‘åˆ° <code>script.log</code> æ–‡ä»¶ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> python my_script.py &gt; script.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></tbody></table></figure><p><strong>æ€»ç»“</strong></p><p>Linux æä¾›äº†å¤šç§æ–¹æ³•å°†ç¨‹åºåœ¨åå°è¿è¡Œï¼Œé€‰æ‹©å“ªç§æ–¹æ³•å–å†³äºæˆ‘ä»¬çš„å…·ä½“éœ€æ±‚å’Œç¯å¢ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> åå°è¿è¡Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæœç´¢å…³é”®è¯å‰åå‡ è¡Œ</title>
      <link href="/posts/linux-grep-few-lines.html"/>
      <url>/posts/linux-grep-few-lines.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Linux å‘½ä»¤è¡Œä¸­çš„å¿«æ·é”®éå¸¸ä¸°å¯Œï¼Œå¯ä»¥å¤§å¤§æé«˜ç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»ä¸€äº›å¸¸ç”¨çš„å¿«æ·é”®ï¼Œå¹¶åˆ†ç±»è¯´æ˜ï¼š</p><p>åœ¨å·¥ä½œä¸­ï¼Œç»å¸¸éœ€è¦åœ¨linuxä¸­æ ¹æ®å…³é”®è¯æœç´¢æ—¥å¿—ï¼Œå¹¶è·å–å‰åå‡ è¡Œï¼›å…¶å®ï¼Œ<code>grep</code> å‘½ä»¤å¯ä»¥æ­é… <code>-C</code> æˆ– <code>-A</code> æˆ– <code>-B</code> é€‰é¡¹æ¥è·å–åŒ¹é…ç»“æœå‰åçš„è¡Œã€‚å…·ä½“å¦‚ä¸‹ï¼š</p><ul><li><p>ä½¿ç”¨ <code>-C</code> é€‰é¡¹å¯ä»¥è·å–åŒ¹é…è¡Œä¸Šä¸‹è‹¥å¹²è¡Œã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -C 2 <span class="string">"error"</span> logfile.txt</span><br></pre></td></tr></tbody></table></figure><p>è¯¥å‘½ä»¤ä¼šæŸ¥æ‰¾ <code>logfile.txt</code> æ–‡ä»¶ä¸­åŒ…å« <code>error</code> å…³é”®å­—çš„è¡Œï¼Œå¹¶è¾“å‡ºä¸Šä¸‹ä¸¤è¡Œã€‚<code>-C 2</code> è¡¨ç¤ºè¾“å‡ºåŒ¹é…è¡Œçš„ä¸Šä¸‹ä¸¤è¡Œã€‚</p></li><li><p>ä½¿ç”¨ <code>-A</code> é€‰é¡¹å¯ä»¥è·å–åŒ¹é…è¡Œä¸Šæ–¹è‹¥å¹²è¡Œå’ŒåŒ¹é…è¡Œæœ¬èº«ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -A 2 <span class="string">"error"</span> logfile.txt</span><br></pre></td></tr></tbody></table></figure><p>è¯¥å‘½ä»¤ä¼šæŸ¥æ‰¾ <code>logfile.txt</code> æ–‡ä»¶ä¸­åŒ…å« <code>error</code> å…³é”®å­—çš„è¡Œï¼Œå¹¶è¾“å‡ºè¯¥è¡ŒåŠå…¶ä¸Šé¢çš„ä¸¤è¡Œã€‚</p></li><li><p>ä½¿ç”¨ <code>-B</code> é€‰é¡¹å¯ä»¥è·å–åŒ¹é…è¡Œä¸‹æ–¹è‹¥å¹²è¡Œå’ŒåŒ¹é…è¡Œæœ¬èº«ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -B 2 <span class="string">"error"</span> logfile.txt</span><br></pre></td></tr></tbody></table></figure><p>è¯¥å‘½ä»¤ä¼šæŸ¥æ‰¾ <code>logfile.txt</code> æ–‡ä»¶ä¸­åŒ…å« <code>error</code> å…³é”®å­—çš„è¡Œï¼Œå¹¶è¾“å‡ºè¯¥è¡ŒåŠå…¶ä¸‹é¢çš„ä¸¤è¡Œã€‚</p></li></ul><p>å¦‚æœæƒ³è¦åŒæ—¶ä½¿ç”¨ <code>-A</code> å’Œ <code>-B</code> é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>-C</code> é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š<br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -C 2 <span class="string">"error"</span> logfile.txt</span><br></pre></td></tr></tbody></table></figure><br>è¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºå«æœ‰ <code>error</code> å…³é”®å­—çš„è¡ŒåŠå…¶ä¸Šä¸‹å„ä¸¤è¡Œå†…å®¹ã€‚<p></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> grep </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä»»åŠ¡åŠ é”</title>
      <link href="/posts/php-task-lock.html"/>
      <url>/posts/php-task-lock.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨PHPä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ŒåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡Œã€‚è¿™å°±éœ€è¦ä½¿ç”¨äº’æ–¥é”æ¥æ§åˆ¶ï¼Œä¸‹é¢ä»‹ç»ä¸‹å®ç°æ–¹å¼ï¼š</p><h4 id="ä½¿ç”¨-flock-å‡½æ•°å®ç°æ–‡ä»¶é”"><a href="#ä½¿ç”¨-flock-å‡½æ•°å®ç°æ–‡ä»¶é”" class="headerlink" title="ä½¿ç”¨ flock å‡½æ•°å®ç°æ–‡ä»¶é”"></a>ä½¿ç”¨ flock å‡½æ•°å®ç°æ–‡ä»¶é”</h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fp</span> = <span class="title function_ invoke__">fopen</span>(<span class="string">'/tmp/lock.txt'</span>, <span class="string">'w'</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>, LOCK_EX | LOCK_NB)) { <span class="comment">// è·å–ç‹¬å é”</span></span><br><span class="line">    <span class="comment">// æ‰§è¡Œä»»åŠ¡</span></span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">    <span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>, LOCK_UN);</span><br><span class="line">}</span><br><span class="line"><span class="title function_ invoke__">fclose</span>(<span class="variable">$fp</span>);</span><br></pre></td></tr></tbody></table></figure><br>ä¸Šé¢çš„ä»£ç ä½¿ç”¨ flock å‡½æ•°è·å–ä¸€ä¸ªæ–‡ä»¶é”ï¼Œå¦‚æœèƒ½æˆåŠŸè·å–åˆ°é”ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å…¶ä»–è¿›ç¨‹æ­£åœ¨æ‰§è¡Œè¯¥ä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œè¦è®°å¾—é‡Šæ”¾é”ï¼Œä»¥ä¾¿å…¶ä»–è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œä»»åŠ¡ã€‚<p></p><h4 id="ä½¿ç”¨-Redis-é”ç­‰æ–¹å¼å®ç°äº’æ–¥"><a href="#ä½¿ç”¨-Redis-é”ç­‰æ–¹å¼å®ç°äº’æ–¥" class="headerlink" title="ä½¿ç”¨ Redis é”ç­‰æ–¹å¼å®ç°äº’æ–¥"></a>ä½¿ç”¨ Redis é”ç­‰æ–¹å¼å®ç°äº’æ–¥</h4><p>ä½¿ç”¨ Redis å®ç°äº’æ–¥é”çš„æ–¹å¼è¾ƒä¸ºå¸¸è§ï¼Œå› ä¸º Redis æœ¬èº«å°±æ”¯æŒåˆ†å¸ƒå¼é”ã€‚</p><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ Redis å®ç°äº’æ–¥é”çš„ç¤ºä¾‹ï¼š<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$redis</span> = <span class="keyword">new</span> <span class="title class_">Redis</span>();</span><br><span class="line"><span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">connect</span>(<span class="string">'127.0.0.1'</span>, <span class="number">6379</span>);</span><br><span class="line"><span class="variable">$key</span> = <span class="string">'task-lock'</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">setnx</span>(<span class="variable">$key</span>, <span class="literal">true</span>)) { <span class="comment">// å°è¯•è·å–é”</span></span><br><span class="line">    <span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">expire</span>(<span class="variable">$key</span>, <span class="number">10</span>); <span class="comment">// è®¾ç½®é”çš„è¿‡æœŸæ—¶é—´</span></span><br><span class="line">    <span class="comment">// æ‰§è¡Œä»»åŠ¡</span></span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">    <span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">del</span>(<span class="variable">$key</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br>ä¸Šé¢çš„ä»£ç ä½¿ç”¨ Redis çš„ <code>setnx</code> æ–¹æ³•å°è¯•è·å–ä¸€ä¸ªé”ã€‚å¦‚æœèƒ½æˆåŠŸè·å–åˆ°é”ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å…¶ä»–è¿›ç¨‹æ­£åœ¨æ‰§è¡Œè¯¥ä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œè¦è®°å¾—åˆ é™¤é”ä»¥ä¾¿å…¶ä»–è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œä»»åŠ¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†é¿å…ç¨‹åºå¼‚å¸¸é€€å‡ºè€Œå¯¼è‡´é”æ— æ³•é‡Šæ”¾ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºé”æ·»åŠ ä¸€ä¸ªè¿‡æœŸæ—¶é—´ã€‚åœ¨ Redis ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>expire</code> æ–¹æ³•è®¾ç½®é”®çš„è¿‡æœŸæ—¶é—´ã€‚<p></p><p>æ­¤å¤–è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–æ–¹å¼å®ç°äº’æ–¥é”ï¼Œæ¯”å¦‚æ•°æ®åº“é”ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> lock </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisä¸­setã€setexã€setnxçš„ç”¨æ³•å’ŒåŒºåˆ«</title>
      <link href="/posts/redis-set-note.html"/>
      <url>/posts/redis-set-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Redisæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„é”®å€¼å¯¹æ•°æ®åº“ï¼Œæä¾›äº†å¤šç§è®¾ç½®é”®å€¼çš„æ–¹æ³•ã€‚å…¶ä¸­ï¼Œ<code>set</code>ã€<code>setex</code> å’Œ <code>setnx</code> æ˜¯æœ€å¸¸ç”¨çš„ä¸‰ä¸ªå‘½ä»¤ï¼Œå®ƒä»¬åœ¨è®¾ç½®é”®å€¼æ–¹é¢å„æœ‰ç‰¹ç‚¹ã€‚</p><h3 id="1-setå‘½ä»¤"><a href="#1-setå‘½ä»¤" class="headerlink" title="1. setå‘½ä»¤"></a>1. setå‘½ä»¤</h3><ul><li><strong>åŠŸèƒ½ï¼š</strong> å°†å­—ç¬¦ä¸²å€¼ value å…³è”åˆ° keyã€‚</li><li><strong>è¯­æ³•ï¼š</strong> <code>SET key value</code></li><li><strong>ç‰¹ç‚¹ï¼š</strong><ul><li><strong>è¦†ç›–æ—§å€¼ï¼š</strong> å¦‚æœ key å·²ç»å­˜åœ¨ï¼ŒSET å‘½ä»¤ä¼šç›´æ¥è¦†ç›–æ—§å€¼ã€‚</li><li><strong>æ— è¿‡æœŸæ—¶é—´ï¼š</strong> è®¾ç½®çš„é”®å€¼æ²¡æœ‰é»˜è®¤çš„è¿‡æœŸæ—¶é—´ï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚</li></ul></li></ul><h3 id="2-setexå‘½ä»¤"><a href="#2-setexå‘½ä»¤" class="headerlink" title="2. setexå‘½ä»¤"></a>2. setexå‘½ä»¤</h3><ul><li><strong>åŠŸèƒ½ï¼š</strong> setex(=SET EXpire)æ˜¯å°†å€¼ value å…³è”åˆ° keyï¼Œå¹¶è®¾ç½® key çš„ç”Ÿå­˜æ—¶é—´ã€‚</li><li><strong>è¯­æ³•ï¼š</strong> <code>SETEX key seconds value</code> ï¼Œè¯¥å‘½ä»¤ç›¸å½“äºå°†ä¸‹é¢ä¸¤è¡Œæ“ä½œåˆå¹¶ä¸ºä¸€ä¸ªåŸå­æ“ä½œ<figure class="highlight gams"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> key <span class="comment">value</span></span><br><span class="line">expire <span class="comment">key seconds</span></span><br></pre></td></tr></tbody></table></figure></li><li><strong>ç‰¹ç‚¹ï¼š</strong><ul><li><strong>è®¾ç½®è¿‡æœŸæ—¶é—´ï¼š</strong> seconds å‚æ•°æŒ‡å®šäº† key çš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚</li><li><strong>è¦†ç›–æ—§å€¼ï¼š</strong> å¦‚æœ key å·²ç»å­˜åœ¨ï¼ŒSETEX å‘½ä»¤ä¼šè¦†ç›–æ—§å€¼ã€‚</li></ul></li></ul><h3 id="3-setnxå‘½ä»¤"><a href="#3-setnxå‘½ä»¤" class="headerlink" title="3. setnxå‘½ä»¤"></a>3. setnxå‘½ä»¤</h3><ul><li><strong>åŠŸèƒ½ï¼š</strong> setnx(=SET if Not eXists)æ˜¯å°†å€¼ value å…³è”åˆ° keyï¼Œä½†åªæœ‰å½“ key ä¸å­˜åœ¨æ—¶æ‰è®¾ç½®ã€‚</li><li><strong>è¯­æ³•ï¼š</strong> <code>SETNX key value</code></li><li><strong>ç‰¹ç‚¹ï¼š</strong><ul><li><strong>åŸå­æ€§æ“ä½œï¼š</strong> SETNX æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œå¦‚æœ key å·²ç»å­˜åœ¨ï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åšã€‚</li><li><strong>è¿”å›ç»“æœï¼š</strong> å¦‚æœè®¾ç½®æˆåŠŸï¼Œè¿”å› 1ï¼›å¦åˆ™è¿”å› 0ã€‚</li></ul></li></ul><h3 id="ä¸‰ä¸ªå‘½ä»¤çš„æ¯”è¾ƒ"><a href="#ä¸‰ä¸ªå‘½ä»¤çš„æ¯”è¾ƒ" class="headerlink" title="ä¸‰ä¸ªå‘½ä»¤çš„æ¯”è¾ƒ"></a>ä¸‰ä¸ªå‘½ä»¤çš„æ¯”è¾ƒ</h3><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>SET</td><td>è®¾ç½®é”®å€¼</td><td>è¦†ç›–æ—§å€¼ï¼Œæ— é»˜è®¤è¿‡æœŸæ—¶é—´</td></tr><tr><td>SETEX</td><td>è®¾ç½®é”®å€¼å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´</td><td>è¦†ç›–æ—§å€¼ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´</td></tr><tr><td>SETNX</td><td>è®¾ç½®é”®å€¼ï¼Œä»…å½“é”®ä¸å­˜åœ¨æ—¶</td><td>åŸå­æ“ä½œï¼Œè¿”å›è®¾ç½®ç»“æœ</td></tr></tbody></table></div><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ul><li><strong>setå‘½ä»¤ï¼š</strong> é€‚åˆè®¾ç½®ä¸éœ€è¦è¿‡æœŸæ—¶é—´çš„é”®å€¼ï¼Œä¾‹å¦‚ç¼“å­˜ä¸€äº›é™æ€æ•°æ®ã€‚</li><li><strong>setexå‘½ä»¤ï¼š</strong> é€‚åˆè®¾ç½®æœ‰è¿‡æœŸæ—¶é—´çš„é”®å€¼ï¼Œä¾‹å¦‚å®ç°é™æ—¶ä¼˜æƒ ã€éªŒè¯ç ç­‰åŠŸèƒ½ã€‚</li><li><strong>setnxå‘½ä»¤ï¼š</strong> é€‚åˆå®ç°åˆ†å¸ƒå¼é”ã€å”¯ä¸€æ ‡è¯†ç”Ÿæˆç­‰éœ€è¦åŸå­æ€§çš„æ“ä½œã€‚</li></ul><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹ï¼Œæ²¡æœ‰è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="attribute">SET</span> name <span class="string">"å¼ ä¸‰"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º30ç§’</span></span><br><span class="line"><span class="attribute">SETEX</span> token <span class="number">30</span> <span class="string">"123456"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åªæœ‰åœ¨keyä¸å­˜åœ¨æ—¶æ‰è®¾ç½®å€¼</span></span><br><span class="line"><span class="attribute">SETNX</span> lock <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é€‰æ‹©å“ªä¸ªå‘½ä»¤å–å†³äºå…·ä½“çš„ä¸šåŠ¡åœºæ™¯ã€‚</p><ul><li>å¦‚æœéœ€è¦è®¾ç½®ä¸€ä¸ªæ°¸ä¹…æœ‰æ•ˆçš„é”®å€¼ï¼Œä½¿ç”¨ SETã€‚</li><li>å¦‚æœéœ€è¦è®¾ç½®ä¸€ä¸ªæœ‰è¿‡æœŸæ—¶é—´çš„é”®å€¼ï¼Œä½¿ç”¨ SETEXã€‚</li><li>å¦‚æœéœ€è¦å®ç°ä¸€ä¸ªåŸå­æ€§çš„è®¾ç½®æ“ä½œï¼Œä½¿ç”¨ SETNXã€‚</li></ul><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>Redis ä¸­çš„æ‰€æœ‰é”®éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå³ä½¿å­˜å‚¨çš„æ˜¯æ•°å­—æˆ–å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œä¹Ÿä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</li><li>å¯¹äºå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥ç»“åˆ Redis çš„å…¶ä»–æ•°æ®ç»“æ„å’Œå‘½ä»¤ï¼Œä¾‹å¦‚å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆç­‰ï¼Œæ¥å®ç°æ›´çµæ´»çš„åŠŸèƒ½ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­&quot;&gt;&quot;å’Œ&quot;&gt;&gt;&quot;çš„åŒºåˆ«</title>
      <link href="/posts/linux-add-content.html"/>
      <url>/posts/linux-add-content.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨Linuxä¸­ï¼Œ<code>&gt;</code>ç¬¦å·ç”¨äºå°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶ä¼šè¦†ç›–æ–‡ä»¶ä¸­åŸæœ‰çš„å†…å®¹ã€‚</p><p>å¦‚æœè¦å°†è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶ä¸­è€Œä¸æ˜¯è¦†ç›–åŸæœ‰å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨<code>&gt;&gt;</code>ç¬¦å·ã€‚</p><p>ä¸‹é¢æ˜¯ä¸¤ä¸ªç¬¦å·çš„ç”¨æ³•ç¤ºä¾‹ï¼š</p><ul><li><p><code>&gt;</code>ç¬¦å·ï¼šè¦†ç›–åŸæœ‰å†…å®¹ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo "Hello, World!" &gt; output.txt</span><br></pre></td></tr></tbody></table></figure><p>è¿™å°†åˆ›å»ºä¸€ä¸ªåä¸º<code>output.txt</code>çš„æ–‡ä»¶ï¼Œå¹¶å°†æ–‡æœ¬<code>Hello, World!</code>å†™å…¥æ–‡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œé‚£ä¹ˆåŸæœ‰å†…å®¹å°†è¢«è¦†ç›–ã€‚</p></li><li><p><code>&gt;&gt;</code>ç¬¦å·ï¼šè¿½åŠ å†…å®¹ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo "Hello, Again!" &gt;&gt; output.txt</span><br></pre></td></tr></tbody></table></figure><p>è¿™ä¼šå°†æ–‡æœ¬<code>Hello, Again!</code>è¿½åŠ åˆ°<code>output.txt</code>æ–‡ä»¶çš„æœ«å°¾ï¼Œè€Œä¸ä¼šè¦†ç›–åŸæœ‰å†…å®¹ã€‚</p></li></ul><p>ä¾‹å¦‚ï¼šåå°è¿è¡ŒæŒ‡å®šç¨‹åºï¼Œå¹¶å°†è¾“å‡ºä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶é‡Œ<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup php artisan xx xx &gt; nohup.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Luaç¬”è®°</title>
      <link href="/posts/lua-notes.html"/>
      <url>/posts/lua-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>è¿›å…¥äº¤äº’å¼Luaï¼š<code>lua -i</code></li><li>é€€å‡ºäº¤äº’å¼Luaï¼š<ul><li>linuxï¼š<code>ctrl+D</code>     </li><li>windowsï¼š<code>ctrl+z  æˆ–è€… os.exit()</code></li></ul></li><li>Luaçš„æ•°ç»„ä¸‹æ ‡æ˜¯ä»1å¼€å§‹çš„</li></ol>]]></content>
      
      
      <categories>
          
          <category> Lua </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lua </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­if elseçš„ä¼˜åŒ–æ–¹æ¡ˆ</title>
      <link href="/posts/php-if-else.html"/>
      <url>/posts/php-if-else.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">å‰è¨€ï¼šåœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°å¤šä¸ªå¤æ‚if elseçš„æƒ…å†µï¼Œä¸‹é¢è¯´è¯´è¿™ç§æƒ…å†µçš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</div><h3 id="æå‰return"><a href="#æå‰return" class="headerlink" title="æå‰return"></a>æå‰return</h3><p> è®©æ­£å¸¸æµç¨‹èµ°ä¸»å¹²ï¼Œéæ­£å¸¸æµç¨‹æå‰returnï¼Œå»é™¤ä¸å¿…è¦çš„elseï¼Œé€‚ç”¨äºå‡½æ•°å‚æ•°æ ¡éªŒã€‚</p><ul><li>ä¼˜åŒ–å‰<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition){</span><br><span class="line">    doSomething</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>ä¼˜åŒ–å<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!condition){</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">}</span><br><span class="line">doSomething</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦"><a href="#ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦" class="headerlink" title="ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦"></a>ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦</h3><p> é€‚ç”¨äºæ ¹æ®æ¡ä»¶ç»™å˜é‡èµ‹å€¼ã€‚</p><ul><li>ä¼˜åŒ–å‰<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition){</span><br><span class="line">    <span class="variable">$status</span> = <span class="number">1</span>;</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">    <span class="variable">$status</span> = <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>ä¼˜åŒ–å<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$status</span> = condition ? <span class="number">1</span> : <span class="number">0</span>;</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼"><a href="#åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼" class="headerlink" title="åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼"></a>åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼</h3><ul><li>ä¼˜åŒ–å‰<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition1){</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition2){</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>ä¼˜åŒ–å<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition1 || condition2){</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="ä½¿ç”¨switch-caseä¼˜åŒ–"><a href="#ä½¿ç”¨switch-caseä¼˜åŒ–" class="headerlink" title="ä½¿ç”¨switch caseä¼˜åŒ–"></a>ä½¿ç”¨switch caseä¼˜åŒ–</h3><p> php8å¯ä»¥ä½¿ç”¨matchè¡¨è¾¾å¼</p><ul><li>ä¼˜åŒ–å‰<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$act</span>, <span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$act</span> == <span class="string">'sign in'</span>) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="title function_ invoke__">sign</span>(<span class="variable">$userId</span>);</span><br><span class="line">        } <span class="keyword">elseif</span> (<span class="variable">$act</span> == <span class="string">'register user'</span>) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="title function_ invoke__">register</span>(<span class="variable">$userId</span>);</span><br><span class="line">        } <span class="keyword">elseif</span> (<span class="variable">$act</span> == <span class="string">'change password'</span>) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="title function_ invoke__">changePwd</span>(<span class="variable">$userId</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sign</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">changePwd</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>ä¼˜åŒ–å<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$act</span>, <span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{</span><br><span class="line">        <span class="keyword">switch</span> (<span class="variable">$act</span>) {</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'sign in'</span>:</span><br><span class="line">                <span class="built_in">self</span>::<span class="title function_ invoke__">sign</span>(<span class="variable">$userId</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'register user'</span>:</span><br><span class="line">                <span class="built_in">self</span>::<span class="title function_ invoke__">register</span>(<span class="variable">$userId</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'change password'</span>:</span><br><span class="line">                <span class="built_in">self</span>::<span class="title function_ invoke__">changePwd</span>(<span class="variable">$userId</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sign</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">changePwd</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>æ•ˆæœï¼šå’ŒåŸæ¥çš„å·®ä¸å¤šï¼Œæ¯æ¬¡æ–°å¢æ–¹æ³•åè¿˜å¾—ä¿®æ”¹ä»£ç ã€‚</li></ul><h3 id="ä½¿ç”¨æšä¸¾"><a href="#ä½¿ç”¨æšä¸¾" class="headerlink" title="ä½¿ç”¨æšä¸¾"></a>ä½¿ç”¨æšä¸¾</h3><ul><li>ä¼˜åŒ–å‰<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable">$status</span> == <span class="number">0</span>){</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'å¾…æ”¯ä»˜'</span>;</span><br><span class="line">}<span class="keyword">elseif</span>(<span class="variable">$status</span> == <span class="number">1</span>){</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'å·²æ”¯ä»˜'</span>;</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'æ”¯ä»˜å¤±è´¥'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>ä¼˜åŒ–å<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$orderStatus</span> = [</span><br><span class="line">    <span class="number">0</span> =&gt; <span class="string">'å¾…æ”¯ä»˜'</span>,</span><br><span class="line">    <span class="number">1</span> =&gt; <span class="string">'å·²æ”¯ä»˜'</span>,</span><br><span class="line">    <span class="number">2</span> =&gt; <span class="string">'æ”¯ä»˜å¤±è´¥'</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="variable">$orderStatus</span>[<span class="variable">$status</span>];</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="è¡¨é©±åŠ¨æ³•"><a href="#è¡¨é©±åŠ¨æ³•" class="headerlink" title="è¡¨é©±åŠ¨æ³•"></a>è¡¨é©±åŠ¨æ³•</h3><ul><li>ä¼˜åŒ–å‰<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$act</span>, <span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$act</span> == <span class="string">'sign in'</span>) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="title function_ invoke__">sign</span>(<span class="variable">$userId</span>);</span><br><span class="line">        } <span class="keyword">elseif</span> (<span class="variable">$act</span> == <span class="string">'register user'</span>) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="title function_ invoke__">register</span>(<span class="variable">$userId</span>);</span><br><span class="line">        } <span class="keyword">elseif</span> (<span class="variable">$act</span> == <span class="string">'change password'</span>) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="title function_ invoke__">changePwd</span>(<span class="variable">$userId</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sign</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">changePwd</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>ä¼˜åŒ–å<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="variable">$acts</span> = [</span><br><span class="line">        <span class="string">'sign in'</span> =&gt; <span class="string">'sign'</span>,</span><br><span class="line">        <span class="string">'register use'</span> =&gt; <span class="string">'register'</span>,</span><br><span class="line">        <span class="string">'change password'</span> =&gt; <span class="string">'changePwd'</span>,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$act</span>, <span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{</span><br><span class="line">        <span class="variable">$fun</span> = !<span class="keyword">empty</span>(<span class="variable">$act</span>) &amp;&amp; <span class="keyword">isset</span>(<span class="built_in">self</span>::<span class="variable">$acts</span>[<span class="variable">$act</span>]) ? <span class="built_in">self</span>::<span class="variable">$acts</span>[<span class="variable">$act</span>] : <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$fun</span>) <span class="title function_ invoke__">call_user_func</span>(<span class="variable">$fun</span>, <span class="variable">$userId</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sign</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">changePwd</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$userId</span></span>)</span>{}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>æ•ˆæœï¼šæ–°å¢æ–¹æ³•åï¼Œåªéœ€ä¿®æ”¹é…ç½®é¡¹ï¼Œä¸ç”¨å˜æ›´å…¶ä»–ä»£ç ã€‚</li></ul><h3 id="ç­–ç•¥æ¨¡å¼-å·¥å‚æ–¹æ³•æ¶ˆé™¤if-else"><a href="#ç­–ç•¥æ¨¡å¼-å·¥å‚æ–¹æ³•æ¶ˆé™¤if-else" class="headerlink" title="ç­–ç•¥æ¨¡å¼+å·¥å‚æ–¹æ³•æ¶ˆé™¤if-else"></a>ç­–ç•¥æ¨¡å¼+å·¥å‚æ–¹æ³•æ¶ˆé™¤if-else</h3><p>å‚è€ƒï¼š<a href="https://www.phpmianshi.com/?id=197">https://www.phpmianshi.com/?id=197</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹å¦‚ä½•å°†æ¡Œé¢ä½ç½®ç§»åˆ°å…¶ä»–åœ°æ–¹</title>
      <link href="/posts/windows-move-desktop.html"/>
      <url>/posts/windows-move-desktop.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">ä¸€èˆ¬windowsç³»ç»Ÿçš„æ¡Œé¢éƒ½æ˜¯æ”¾åœ¨Cç›˜é‡Œçš„ï¼Œå¦‚æœæ¡Œé¢å†…å®¹è¿‡å¤šå°±ä¼šå¯¼è‡´Cç›˜ç©ºé—´ä¸è¶³ã€‚ä¸ºäº†ä¿è¯ç”µè„‘çš„å¹²å‡€æ•´æ´ï¼Œé™¤äº†éœ€è¦å®šæœŸæ¸…ç†æ¡Œé¢å†…å®¹ï¼Œå…¶å®æˆ‘ä»¬è¿˜å¯ä»¥æŠŠæ¡Œé¢ç§»åŠ¨åˆ°å…¶ä»–åœ°æ–¹ã€‚</div><ol><li>åœ¨â€å¿«é€Ÿè®¿é—®â€é‡Œæ‰¾åˆ°æ¡Œé¢<br><img src="/images/window_move_desktop_1.png" alt=""></li><li>å³é”®â€å±æ€§â€ï¼Œåœ¨â€ä½ç½®â€æ ç‚¹å‡»â€ç§»åŠ¨â€ï¼Œé€‰æ‹©ç›®å½•ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©äº‹å…ˆåˆ›å»ºçš„ç©ºæ–‡ä»¶å¤¹(D:\desktop)ï¼Œç„¶åç‚¹å‡»â€åº”ç”¨â€<br><img src="/images/window_move_desktop_2.png" alt=""></li><li>ç„¶åç‚¹å‡»â€æ˜¯â€<br><img src="/images/window_move_desktop_3.png" alt=""></li><li>æ¡Œé¢å†…å®¹å¼€å§‹ç§»åŠ¨ï¼Œå¾…ç§»åŠ¨å®Œæˆï¼Œç‚¹å‡»â€ç¡®å®šâ€å³å¯<br><img src="/images/window_move_desktop_4.png" alt=""></li><li>æˆ‘ä»¬ç°åœ¨åœ¨<code>D:\desktop</code>å°±å¯ä»¥çœ‹åˆ°æ¡Œé¢çš„å†…å®¹äº†ã€‚<br><img src="/images/window_move_desktop_5.png" alt=""></li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022-08-24æ‚è°ˆ</title>
      <link href="/posts/20220824-happy.html"/>
      <url>/posts/20220824-happy.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸€å¤§æ—©è¢«é›¨å£°æƒŠé†’äº†ï¼Œå“ˆå“ˆï¼Œç°åœ¨åªèƒ½ç”¨æ±ªæ´™çš„ã€Šå››å–œã€‹æ¥å½¢å®¹æ­¤åˆ»çš„å¿ƒæƒ…äº†â€”â€”çœŸæ˜¯ä¹…æ—±é€¢ç”˜éœ–å‘€ï¼åªæ˜¯ï¼Œè¿™ä¸€åœºé›¨æ¥å¾—æœ‰ç‚¹æ™šã€‚ã€‚</p><p><img src="/images/20220824-rain.jpg" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‚è°ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­»é”</title>
      <link href="/posts/dead-lock.html"/>
      <url>/posts/dead-lock.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>æ­»é”ï¼ˆDead Lockï¼‰æŒ‡çš„æ˜¯ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿ç®—å•å…ƒï¼ˆè¿›ç¨‹ã€çº¿ç¨‹æˆ–åç¨‹ï¼‰ï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œä½†æ²¡æœ‰ä¸€æ–¹æèµ·é‡Šæ”¾èµ„æºï¼Œä»è€Œé€ æˆäº†ä¸€ç§é˜»å¡çš„ç°è±¡å°±ç§°ä¸ºæ­»é”ã€‚</p><h3 id="äº§ç”ŸåŸå› "><a href="#äº§ç”ŸåŸå› " class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><p>æ­»é”çš„äº§ç”Ÿéœ€è¦æ»¡è¶³ä»¥ä¸‹ 4 ä¸ªæ¡ä»¶ï¼š</p><ol><li>äº’æ–¥æ¡ä»¶ï¼šæŒ‡è¿ç®—å•å…ƒï¼ˆè¿›ç¨‹ã€çº¿ç¨‹æˆ–åç¨‹ï¼‰å¯¹æ‰€åˆ†é…åˆ°çš„èµ„æºå…·æœ‰æ’å®ƒæ€§ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€æ®µæ—¶é—´å†…æŸä¸ªé”èµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿ç®—å•å…ƒæ‰€å ç”¨ã€‚</li><li>è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šæŒ‡è¿ç®—å•å…ƒå·²ç»ä¿æŒè‡³å°‘ä¸€ä¸ªèµ„æºï¼Œä½†åˆæå‡ºäº†æ–°çš„èµ„æºè¯·æ±‚ï¼Œè€Œè¯¥èµ„æºå·²è¢«å…¶å®ƒè¿ç®—å•å…ƒå æœ‰ï¼Œæ­¤æ—¶è¯·æ±‚è¿ç®—å•å…ƒé˜»å¡ï¼Œä½†åˆå¯¹è‡ªå·±å·²è·å¾—çš„å…¶å®ƒèµ„æºä¿æŒä¸æ”¾ã€‚</li><li>ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šæŒ‡è¿ç®—å•å…ƒå·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½è¢«å‰¥å¤ºã€‚</li><li>ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šæŒ‡åœ¨å‘ç”Ÿæ­»é”æ—¶ï¼Œå¿…ç„¶å­˜åœ¨è¿ç®—å•å…ƒå’Œèµ„æºçš„ç¯å½¢é“¾ï¼Œå³è¿ç®—å•å…ƒæ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªè¿ç®—å•å…ƒå ç”¨çš„èµ„æºï¼Œè€Œå¯¹æ–¹åˆåœ¨ç­‰å¾…è‡ªå·±å ç”¨çš„èµ„æºï¼Œä»è€Œé€ æˆç¯è·¯ç­‰å¾…çš„æƒ…å†µã€‚<br>åªæœ‰ä»¥ä¸Š 4 ä¸ªæ¡ä»¶åŒæ—¶æ»¡è¶³ï¼Œæ‰ä¼šé€ æˆæ­»é”ã€‚</li></ol><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>æ­»é”äº§ç”Ÿè¦æ»¡è¶³ä»¥ä¸Š 4 ä¸ªå¿…è¦æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ”¹å˜å…¶ä¸­çš„ 1 ä¸ªæˆ–å¤šä¸ªæ¡ä»¶å°±å¯ä»¥è§£å†³æ­»é”çš„é—®é¢˜äº†ã€‚</p><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p><a href="https://mp.weixin.qq.com/s/gq7w-V493OsRpezAZXzXog">https://mp.weixin.qq.com/s/gq7w-V493OsRpezAZXzXog</a></p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­»é” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ± åŒ–æŠ€æœ¯</title>
      <link href="/posts/pooling-technology.html"/>
      <url>/posts/pooling-technology.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>æ± åŒ–æŠ€æœ¯æŒ‡çš„æ˜¯æå‰å‡†å¤‡ä¸€äº›èµ„æºï¼Œåœ¨éœ€è¦æ—¶å¯ä»¥é‡å¤ä½¿ç”¨è¿™äº›é¢„å…ˆå‡†å¤‡çš„èµ„æºã€‚æ± åŒ–æŠ€æœ¯çš„ä¼˜ç‚¹ä¸»è¦æœ‰ä¸¤ä¸ªï¼šæå‰å‡†å¤‡å’Œé‡å¤åˆ©ç”¨ã€‚<br>å¸¸è§çš„æ± åŒ–æŠ€æœ¯çš„åº”ç”¨æœ‰ï¼šçº¿ç¨‹æ± ã€å†…å­˜æ± ã€æ•°æ®åº“è¿æ¥æ± ã€HttpClient è¿æ¥æ± ç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ± åŒ–æŠ€æœ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹å®‰å…¨</title>
      <link href="/posts/thread-safe.html"/>
      <url>/posts/thread-safe.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>çº¿ç¨‹å®‰å…¨æ˜¯æŒ‡æŸä¸ªæ–¹æ³•æˆ–æŸæ®µä»£ç ï¼Œåœ¨å¤šçº¿ç¨‹ä¸­èƒ½å¤Ÿæ­£ç¡®çš„æ‰§è¡Œï¼Œä¸ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´æˆ–æ•°æ®æ±¡æŸ“çš„æƒ…å†µï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„ç¨‹åºç§°ä¹‹ä¸ºçº¿ç¨‹å®‰å…¨çš„ï¼Œåä¹‹åˆ™ä¸ºéçº¿ç¨‹å®‰å…¨çš„ã€‚</p><h3 id="äº§ç”ŸåŸå› "><a href="#äº§ç”ŸåŸå› " class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><p>å¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜çš„å› ç´ æœ‰ä»¥ä¸‹ 5 ä¸ªï¼š</p><ul><li>å¤šçº¿ç¨‹æŠ¢å å¼æ‰§è¡Œ<br>å¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ç¬¬ä¸€å¤§å› ç´ å°±æ˜¯å¤šçº¿ç¨‹æŠ¢å å¼æ‰§è¡Œï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯å•çº¿ç¨‹æ‰§è¡Œï¼Œæˆ–è€…æ˜¯å¤šçº¿ç¨‹æœ‰åºæ‰§è¡Œï¼Œé‚£å°±ä¸ä¼šå‡ºç°æ··ä¹±çš„æƒ…å†µäº†ï¼Œä¸å‡ºç°æ··ä¹±çš„æƒ…å†µï¼Œè‡ªç„¶å°±ä¸ä¼šå‡ºç°éçº¿ç¨‹å®‰å…¨çš„é—®é¢˜äº†ã€‚</li><li>å¤šçº¿ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå˜é‡<br>å¤šçº¿ç¨‹åªè¦ä¸æ˜¯åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå˜é‡ï¼Œä¹Ÿä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li><li>éåŸå­æ€§æ“ä½œ<br>åŸå­æ€§æ“ä½œæ˜¯æŒ‡æ“ä½œä¸èƒ½å†è¢«åˆ†éš”å°±å«åŸå­æ€§æ“ä½œã€‚éåŸå­æ€§æ“ä½œæœ‰å¾ˆå¤šä¸ç¡®å®šæ€§ï¼Œè€Œè¿™äº›ä¸ç¡®å®šæ€§å°±ä¼šé€ æˆçº¿ç¨‹å®‰å…¨é—®é¢˜é—®é¢˜ã€‚åƒ i++ å’Œ iâ€” è¿™ç§æ“ä½œå°±æ˜¯éåŸå­çš„ï¼Œå®ƒåœ¨ +1 æˆ– -1 ä¹‹å‰ï¼Œå…ˆè¦æŸ¥è¯¢åŸå˜é‡çš„å€¼ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆçš„ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li><li>å†…å­˜å¯è§æ€§<br>åœ¨ Java ç¼–ç¨‹ä¸­å†…å­˜åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šå·¥ä½œå†…å­˜å’Œä¸»å†…å­˜ï¼Œè€Œå·¥ä½œå†…å­˜ä½¿ç”¨çš„æ˜¯ CPU å¯„å­˜å™¨å®ç°çš„ï¼Œè€Œä¸»å†…å­˜æ˜¯æŒ‡ç”µè„‘ä¸­çš„å†…å­˜ï¼Œæˆ‘ä»¬çŸ¥é“ CPU å¯„å­˜å™¨çš„æ“ä½œé€Ÿåº¦æ˜¯è¿œå¤§äºå†…å­˜çš„æ“ä½œé€Ÿåº¦çš„ã€‚<br>é‚£è¿™å’Œçº¿ç¨‹å®‰å…¨æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨ Java è¯­è¨€ä¸­ï¼Œä¸ºäº†æé«˜ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ï¼Œæ‰€ä»¥åœ¨æ“ä½œå˜é‡æ—¶ï¼Œä¼šå°†å˜é‡ä»ä¸»å†…å­˜ä¸­å¤åˆ¶ä¸€ä»½åˆ°å·¥ä½œå†…å­˜ï¼Œè€Œä¸»å†…å­˜æ˜¯æ‰€æœ‰çº¿ç¨‹å…±ç”¨çš„ï¼Œå·¥ä½œå†…å­˜æ˜¯æ¯ä¸ªçº¿ç¨‹ç§æœ‰çš„ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸€ä¸ªçº¿ç¨‹å·²ç»æŠŠä¸»å†…å­˜ä¸­çš„å…¬å…±å˜é‡ä¿®æ”¹äº†ï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹ä¸çŸ¥é“ï¼Œä¾æ—§ä½¿ç”¨è‡ªå·±å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œè¿™æ ·å°±å¯¼è‡´äº†é—®é¢˜çš„äº§ç”Ÿï¼Œä¹Ÿå°±å¯¼è‡´äº†çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li><li>æŒ‡ä»¤é‡æ’åº<br>æŒ‡ä»¤é‡æ’åºæ˜¯æŒ‡ Java ç¨‹åºä¸ºäº†æé«˜ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ï¼Œæ‰€ä»¥ä¼šå¯¹ä¸€ä¸‹æ“ä½œè¿›è¡Œåˆå¹¶å’Œä¼˜åŒ–çš„æ“ä½œã€‚æ¯”å¦‚è¯´ï¼Œå¼ ä¸‰è¦å»å›¾ä¹¦é¦†è¿˜ä¹¦ï¼Œèˆå‹åˆè®©å¼ ä¸‰å¸®å¿™å€Ÿä¹¦ï¼Œé‚£ä¹ˆç¨‹åºçš„æ‰§è¡Œæ€ç»´æ˜¯ï¼Œå¼ ä¸‰å…ˆå»å›¾ä¹¦é¦†æŠŠè‡ªå·±çš„ä¹¦è¿˜äº†ï¼Œå†å»ä¸€è¶Ÿå›¾ä¹¦é¦†å¸®èˆå‹æŠŠä¹¦å€Ÿå›æ¥ã€‚è€ŒæŒ‡ä»¤é‡æ’åºä¹‹åï¼ŒæŠŠä¸¤æ¬¡æ‰§è¡Œåˆå¹¶äº†ï¼Œå¼ ä¸‰å¸¦ç€è‡ªå·±çš„ä¹¦å»å›¾ä¹¦é¦†æŠŠä¹¦å…ˆè¿˜äº†ï¼Œå†å¸®èˆå‹æŠŠä¹¦å€Ÿå‡ºæ¥ï¼Œæ•´ä¸ªæµç¨‹å°±æ‰§è¡Œå®Œäº†ï¼Œè¿™æ˜¯æ­£å¸¸æƒ…å†µä¸‹çš„æŒ‡ä»¤é‡æ’åºçš„å¥½å¤„ã€‚ä½†æ˜¯æŒ‡ä»¤é‡æ’åºä¹Ÿæœ‰â€œå‰¯ä½œç”¨â€ï¼Œè€Œâ€œå‰¯ä½œç”¨â€æ˜¯å‘ç”Ÿåœ¨å¤šçº¿ç¨‹æ‰§è¡Œä¸­çš„ï¼Œè¿˜æ˜¯ä»¥å¼ ä¸‰å€Ÿä¹¦å’Œå¸®èˆå‹è¿˜ä¹¦ä¸ºä¾‹ï¼Œå¦‚æœå¼ ä¸‰æ˜¯ä¸€ä»¶äº‹åšå®Œå†åšå¦ä¸€ä»¶äº‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼ˆä¹Ÿå°±æ˜¯å•çº¿ç¨‹æ‰§è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼‰ï¼Œä½†å¦‚æœæ˜¯å¤šçº¿ç¨‹æ‰§è¡Œï¼Œå°±æ˜¯ä¸¤ä»¶äº‹ç”±å¤šä¸ªäººæ··åˆç€åšï¼Œæ¯”å¦‚å¼ ä¸‰åœ¨å›¾ä¹¦é¦†é‡åˆ°äº†è‡ªå·±çš„å¤šä¸ªåŒå­¦ï¼Œäºæ˜¯å°±æŠŠä»»åŠ¡åˆ†æ´¾ç»™å¤šä¸ªäººä¸€èµ·æ‰§è¡Œï¼Œæœ‰äººå€Ÿäº†å‡ æœ¬ä¹¦ã€æœ‰äººå€Ÿäº†è¿˜äº†å‡ æœ¬ä¹¦ã€æœ‰äººå†å€Ÿäº†å‡ æœ¬ä¹¦ã€æœ‰äººå†å€Ÿäº†è¿˜äº†å‡ æœ¬ä¹¦ï¼Œæ‰§è¡Œçš„å¾ˆæ··ä¹±æ²¡æœ‰æ˜ç¡®çš„ç›®æ ‡ï¼Œåˆ°æœ€åæ‚²å‰§å°±å‘ç”Ÿäº†ï¼Œè¿™å°±æ˜¯åœ¨æŒ‡ä»¤é‡æ’åºå¸¦æ¥çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li></ul><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜æœ‰ä»¥ä¸‹ 3 ç§æ‰‹æ®µï¼š</p><ol><li>ä½¿ç”¨çº¿ç¨‹å®‰å…¨ç±»ï¼Œæ¯”å¦‚ AtomicIntegerã€‚</li><li>åŠ é”æ’é˜Ÿæ‰§è¡Œ<br> <code>ä½¿ç”¨ synchronized åŠ é”ã€‚</code><br> <code>ä½¿ç”¨ ReentrantLock åŠ é”ã€‚</code></li><li>ä½¿ç”¨çº¿ç¨‹æœ¬åœ°å˜é‡ ThreadLocalã€‚</li></ol><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p><a href="https://mp.weixin.qq.com/s/BKp1c1gMsXWSNy3-8-FH0Q">https://mp.weixin.qq.com/s/BKp1c1gMsXWSNy3-8-FH0Q</a></p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿ç¨‹å®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­defineå’Œconstçš„åŒºåˆ«</title>
      <link href="/posts/php-define-const.html"/>
      <url>/posts/php-define-const.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">åœ¨PHPä¸­ï¼Œå®šä¹‰å¸¸é‡æœ‰ä¸¤ç§æ–¹å¼ï¼š constã€defineï¼›ä¸‹é¢è¯¦ç»†è¯´ä¸‹å®ƒä»¬çš„åŒºåˆ«ï¼š</div><ul><li>1ã€constæ˜¯è¡¨è¾¾å¼èµ‹å€¼å®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼Œè€Œdefineæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°</li><li>2ã€constå¯¹å®šä¹‰çš„å¸¸é‡å¤§å°å†™æ•æ„Ÿï¼Œè€Œdefineå¯ä»¥é€šè¿‡å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ¥æ§åˆ¶æ˜¯å¦å¤§å°å†™æ•æ„Ÿ</li><li>3ã€constå¯ä»¥ç±»ä¸­ä½¿ç”¨ï¼Œdefineä¸èƒ½</li><li>4ã€constä¸èƒ½å†æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ï¼Œè€Œdefineå¯ä»¥</li><li><p>5ã€conståœ¨ä½¿ç”¨ä¸Šæ¯”defineè¦ç®€å•ä¾¿æ·ï¼Œå¹¶ä¸”ç¼–è¯‘é€Ÿåº¦è¦æ¯”Defineæ¥å¾—å¿«</p></li><li><p>6ã€ç”¨æ³•<br>defineå¸¸æ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">defined</span>(<span class="string">'ENV_PREFIX'</span>) <span class="keyword">or</span> <span class="title function_ invoke__">define</span>(<span class="string">'ENV_PREFIX'</span>, <span class="string">'PHP_'</span>);</span><br></pre></td></tr></tbody></table></figure><p>constä¸€èˆ¬æ”¾åœ¨ç±»é‡Œï¼š</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">STATUS_NORMAL</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">STATUS_FILED</span> = <span class="number">2</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> defineä¸const </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹curlå‘½ä»¤</title>
      <link href="/posts/linux-curl.html"/>
      <url>/posts/linux-curl.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h3><figure class="highlight 1c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https:<span class="comment">//www.baidu.com</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢å‘½ä»¤å‘www.baidu.comå‘å‡º GET è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å†…å®¹ä¼šåœ¨å‘½ä»¤è¡Œè¾“å‡ºã€‚</p><h3 id="å¸¸ç”¨å‚æ•°"><a href="#å¸¸ç”¨å‚æ•°" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><h4 id="dï¼šä½¿ç”¨-då‚æ•°å‘æœåŠ¡å™¨å‘é€POSTè¯·æ±‚çš„æ•°æ®ä½“"><a href="#dï¼šä½¿ç”¨-då‚æ•°å‘æœåŠ¡å™¨å‘é€POSTè¯·æ±‚çš„æ•°æ®ä½“" class="headerlink" title="-dï¼šä½¿ç”¨-då‚æ•°å‘æœåŠ¡å™¨å‘é€POSTè¯·æ±‚çš„æ•°æ®ä½“"></a>-dï¼šä½¿ç”¨-då‚æ•°å‘æœåŠ¡å™¨å‘é€POSTè¯·æ±‚çš„æ•°æ®ä½“</h4><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -d <span class="string">'login=adminï¼†password=123'</span> -X POST https:<span class="regexp">//</span>www.aa.com<span class="regexp">/admin/</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šæ–¹çš„å‘½ä»¤å‘æœåŠ¡å™¨å‘é€ï¼ˆPOSTï¼‰äº†login=adminï¼†password=123ã€‚ä½†æ˜¯ä½¿ç”¨-då‚æ•°ä»¥åï¼ŒHTTP è¯·æ±‚ä¼šè‡ªåŠ¨åŠ ä¸Šæ ‡å¤´Content-Type : application/x-www-form-urlencodedã€‚å¹¶ä¸”ä¼šè‡ªåŠ¨å°†è¯·æ±‚è½¬ä¸º POST æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥çœç•¥-X POSTã€‚</p><figure class="highlight scilab"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -d <span class="string">'{"</span>login<span class="string">": "</span>admin<span class="string">", "</span>pass<span class="string">": "</span><span class="number">123</span><span class="string">"}'</span> -X <span class="string">'Content-Type: application/json'</span> https:<span class="comment">//www.aa.com/admin</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šæ–¹çš„å‘½ä»¤æ·»åŠ äº†HTTPè¯·æ±‚æ ‡å¤´ï¼šContent-Type:application/jsonå¹¶ä½¿ç”¨-då‚æ•°å‘æœåŠ¡å™¨å‘é€ï¼ˆPOSTï¼‰äº†jsonæ•°æ®ã€‚</p><h4 id="Hï¼šè®¾ç½®-HTTPå¤´ä¿¡æ¯"><a href="#Hï¼šè®¾ç½®-HTTPå¤´ä¿¡æ¯" class="headerlink" title="-Hï¼šè®¾ç½® HTTPå¤´ä¿¡æ¯"></a>-Hï¼šè®¾ç½® HTTPå¤´ä¿¡æ¯</h4><figure class="highlight 1c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H 'Token: xxxx' https:<span class="comment">//www.aa.com/</span></span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç”¨-Hå‚æ•°è®¾ç½®Tokenä¸ºxxxxå‘æœåŠ¡å™¨å‘é€äº†GETè¯·æ±‚ã€‚</p><h4 id="Xï¼šå¯ä»¥æŒ‡å®šHTTPè¯·æ±‚æ–¹æ³•"><a href="#Xï¼šå¯ä»¥æŒ‡å®šHTTPè¯·æ±‚æ–¹æ³•" class="headerlink" title="-Xï¼šå¯ä»¥æŒ‡å®šHTTPè¯·æ±‚æ–¹æ³•"></a>-Xï¼šå¯ä»¥æŒ‡å®šHTTPè¯·æ±‚æ–¹æ³•</h4><figure class="highlight stata"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -X <span class="keyword">POST</span> https:<span class="comment">//www.aa.com/</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šæ–¹çš„å‘½ä»¤å‘æœåŠ¡å™¨å‘é€äº†POSTè¯·æ±‚ã€‚</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://www.typeboom.com/archives/107/">https://www.typeboom.com/archives/107/</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> curl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”å»ºé€ è€…æ¨¡å¼</title>
      <link href="/posts/builder-pattern.html"/>
      <url>/posts/builder-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚é¦–å…ˆçœ‹ä¸‹å…³ç³»å›¾ï¼š<br><img src="/images/builder-pattern-1.jpg" alt=""></p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢è®²è§£ä¸‹è®¾è®¡æ¨¡å¼çš„ä»£ç å®ç°</p><ol><li>åˆ›å»ºäº§å“ç±»<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$parts</span> = [];</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$part</span></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;parts[] = <span class="variable">$part</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>):<span class="title">void</span></span>{</span><br><span class="line">        <span class="title function_ invoke__">print_r</span>(<span class="variable">$this</span>-&gt;parts);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>åˆ›å»ºå»ºé€ è€…æ¥å£<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Builder</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">buildPartA</span>(<span class="params"></span>): <span class="title">void</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">buildPartB</span>(<span class="params"></span>): <span class="title">void</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getResult</span>(<span class="params"></span>): <span class="title">Product</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>åˆ›å»ºå¤šä¸ªå»ºé€ è€…å®ç°ç±»</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteBuilder1</span> <span class="keyword">implements</span> <span class="title">Builder</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$product</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;product = <span class="keyword">new</span> <span class="title class_">Product</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">buildPartA</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;product-&gt;<span class="title function_ invoke__">add</span>(<span class="string">'éƒ¨ä»¶A'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">buildPartB</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;product-&gt;<span class="title function_ invoke__">add</span>(<span class="string">'éƒ¨ä»¶B'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getResult</span>(<span class="params"></span>): <span class="title">Product</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;product;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteBuilder2</span> <span class="keyword">implements</span> <span class="title">Builder</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$product</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;product = <span class="keyword">new</span> <span class="title class_">Product</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">buildPartA</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;product-&gt;<span class="title function_ invoke__">add</span>(<span class="string">'éƒ¨ä»¶X'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">buildPartB</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;product-&gt;<span class="title function_ invoke__">add</span>(<span class="string">'éƒ¨ä»¶Y'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getResult</span>(<span class="params"></span>): <span class="title">Product</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;product;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>åˆ›å»ºæ„é€ å™¨</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Director</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">construct</span>(<span class="params">Builder <span class="variable">$builder</span></span>)</span>{</span><br><span class="line">        <span class="variable">$builder</span>-&gt;<span class="title function_ invoke__">buildPartA</span>();</span><br><span class="line">        <span class="variable">$builder</span>-&gt;<span class="title function_ invoke__">buildPartB</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><ul><li><p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸‹ï¼š</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FactoryTest</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable">$director</span> = <span class="keyword">new</span> <span class="title class_">Director</span>();</span><br><span class="line">        <span class="variable">$builder1</span> = <span class="keyword">new</span> <span class="title class_">ConcreteBuilder1</span>();</span><br><span class="line">        <span class="variable">$builder2</span> = <span class="keyword">new</span> <span class="title class_">ConcreteBuilder2</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="variable">$director</span>-&gt;<span class="title function_ invoke__">construct</span>(<span class="variable">$builder1</span>);</span><br><span class="line">        <span class="variable">$product1</span> = <span class="variable">$builder1</span>-&gt;<span class="title function_ invoke__">getResult</span>();</span><br><span class="line">        <span class="variable">$product1</span>-&gt;<span class="title function_ invoke__">show</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="variable">$director</span>-&gt;<span class="title function_ invoke__">construct</span>(<span class="variable">$builder2</span>);</span><br><span class="line">        <span class="variable">$product2</span> = <span class="variable">$builder2</span>-&gt;<span class="title function_ invoke__">getResult</span>();</span><br><span class="line">        <span class="variable">$product2</span>-&gt;<span class="title function_ invoke__">show</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight livescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span> ( [<span class="number">0</span>] =&gt; éƒ¨ä»¶A [<span class="number">1</span>] =&gt; éƒ¨ä»¶B )</span><br><span class="line"><span class="built_in">Array</span> ( [<span class="number">0</span>] =&gt; éƒ¨ä»¶X [<span class="number">1</span>] =&gt; éƒ¨ä»¶Y )</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å®ƒä¸å·¥å‚æ¨¡å¼çš„åŒºåˆ«å°±æ˜¯ï¼šå·¥å‚æ¨¡å¼å…³æ³¨çš„æ˜¯åˆ›å»ºå•ä¸ªäº§å“ï¼Œè€Œå»ºé€ è€…æ¨¡å¼åˆ™å…³æ³¨åˆ›å»ºå¤åˆå¯¹è±¡ï¼Œå¤šä¸ªéƒ¨åˆ†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå®ç°æ–¹æ³•è¿è¡Œå‰(å)æ‰§è¡ŒæŒ‡å®šçš„ç¨‹åº</title>
      <link href="/posts/php-auto-run-func.html"/>
      <url>/posts/php-auto-run-func.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨PHPä¸­ï¼Œåˆ©ç”¨__call()ï¼Œå¯å®ç°æ–¹æ³•è¿è¡Œå‰/åæ‰§è¡ŒæŒ‡å®šçš„ç¨‹åºç‰‡æ®µã€‚</p><p>ä¸‹é¢æ¼”ç¤ºä¸‹ï¼Œåœ¨testæ–¹æ³•æ‰§è¡Œåè‡ªåŠ¨æ‰§è¡ŒafterTestæ–¹æ³•</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">A</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span>(<span class="params"><span class="variable">$method</span>, <span class="variable">$args</span></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">method_exists</span>(<span class="variable">$this</span>, <span class="variable">$method</span>)) {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">'no such method: '</span> . <span class="variable">$method</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$afterMethod</span> = <span class="string">'after'</span>.<span class="title function_ invoke__">ucfirst</span>(<span class="variable">$method</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">method_exists</span>(<span class="variable">$this</span>, <span class="variable">$afterMethod</span>)) {</span><br><span class="line">            <span class="variable">$rs</span> = <span class="title function_ invoke__">call_user_func_array</span>([<span class="variable">$this</span>, <span class="variable">$method</span>], <span class="variable">$args</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$rs</span>[<span class="string">'code'</span>] == <span class="number">0</span>) {</span><br><span class="line">                <span class="title function_ invoke__">call_user_func_array</span>([<span class="variable">$this</span>, <span class="variable">$afterMethod</span>], <span class="variable">$rs</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$rs</span>;</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_ invoke__">call_user_func_array</span>([<span class="variable">$this</span>, <span class="variable">$method</span>], <span class="variable">$args</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">afterTest</span>(<span class="params">...<span class="variable">$args</span></span>)</span>{</span><br><span class="line">        <span class="title function_ invoke__">print_r</span>(<span class="variable">$args</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Class B{</span><br><span class="line">    <span class="keyword">use</span> <span class="title">A</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"><span class="variable">$id</span>,<span class="variable">$name</span></span>): <span class="title">array</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$id</span>&gt;<span class="number">10</span> ? [<span class="string">'code'</span>=&gt;<span class="number">1</span>,<span class="string">'msg'</span>=&gt;<span class="string">'ok'</span>] : [<span class="string">'code'</span>=&gt;<span class="number">0</span>,<span class="string">'msg'</span>=&gt;<span class="string">'error'</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$rs</span> = (<span class="keyword">new</span> <span class="title function_ invoke__">B</span>())-&gt;<span class="title function_ invoke__">test</span>(<span class="number">7</span>,<span class="string">'å¼ ä¸‰'</span>);</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š<br><code>Array ( [0] =&gt; 0 [1] =&gt; error )</code></p><p>ä¸éš¾çœ‹å‡ºï¼Œè¿™ç§å¤„ç†æ–¹å¼å­˜åœ¨ä»¥ä¸‹ä¸¤ä¸ªç¼ºé™·ï¼š</p><ol><li>æ–¹æ³•éœ€è®¾ä¸ºå¤–ç•Œä¸å¯ç”¨ï¼Œprotected/privatedï¼Œåœ¨IDEä¸­å°±æ— æ³•è·³è½¬ï¼Œå…¶ä»–äººç»´æŠ¤èµ·æ¥æ¯”è¾ƒå›°éš¾ï¼›</li><li>ä»£ç è€¦åˆåº¦é«˜ï¼Œç›¸äº’å½±å“ï¼Œä¸åˆ©äºåæœŸæ‰©å±•ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­unsetçš„ä¸€äº›ä½¿ç”¨</title>
      <link href="/posts/php-unset.html"/>
      <url>/posts/php-unset.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">å‰è¨€ï¼šåœ¨PHPå¼€å‘ä¸­ï¼Œç»å¸¸ä½¿ç”¨åˆ°unsetæ¥é‡Šæ”¾æ‰ç»™å®šçš„å˜é‡ï¼›ä½†æœ‰æ—¶å€™ä¼šæœ‰äº›é—®é¢˜ï¼Œæœ¬æ–‡è®°å½•ä¸‹ã€‚</div><ul><li><p>å¦‚æœéœ€è¦å»æ‰æ•°ç»„ä¸­çš„æŸäº›keyï¼Œç›´æ¥unsetå³å¯</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">'id'</span> =&gt; <span class="number">5</span>, <span class="string">'name'</span> =&gt; <span class="string">'å¼ ä¸‰'</span>, <span class="string">'status'</span> =&gt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">unset</span>(<span class="variable">$arr</span>[<span class="string">'status'</span>]);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$arr</span>);      <span class="comment">// Array ( [id] =&gt; 5 [name] =&gt; å¼ ä¸‰ )</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>ä¹Ÿå¯ä»¥å»æ‰äºŒä½æ•°ç»„ä¸­æŒ‡å®šçš„key</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$list</span> = [</span><br><span class="line">    [<span class="string">'id'</span> =&gt; <span class="number">1</span>, <span class="string">'name'</span> =&gt; <span class="string">'å¼ ä¸‰'</span>, <span class="string">'status'</span> =&gt; <span class="number">1</span>],</span><br><span class="line">    [<span class="string">'id'</span> =&gt; <span class="number">2</span>, <span class="string">'name'</span> =&gt; <span class="string">'æå››'</span>, <span class="string">'status'</span> =&gt; <span class="number">0</span>],</span><br><span class="line">    [<span class="string">'id'</span> =&gt; <span class="number">3</span>, <span class="string">'name'</span> =&gt; <span class="string">'ç‹äº”'</span>, <span class="string">'status'</span> =&gt; <span class="number">1</span>],</span><br><span class="line">];</span><br><span class="line"><span class="title function_ invoke__">array_walk</span>(<span class="variable">$list</span>, function (&amp;<span class="variable">$item</span>) {</span><br><span class="line">    <span class="keyword">unset</span>(<span class="variable">$item</span>[<span class="string">'status'</span>]);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$list</span>);</span><br><span class="line"><span class="comment">// output:  Array ( [0] =&gt; Array ( [id] =&gt; 1 [name] =&gt; å¼ ä¸‰ ) [1] =&gt; Array ( [id] =&gt; 2 [name] =&gt; æå›› ) [2] =&gt; Array ( [id] =&gt; 3 [name] =&gt; ç‹äº” ) )</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>ä¸‹é¢è¯•ä¸‹å»æ‰ä¸€ç»´æ•°ç»„ä¸­çš„ç©ºå€¼</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$data</span> = [<span class="string">'test'</span>, <span class="string">'haha'</span>, <span class="string">''</span>, <span class="string">'hello'</span>, <span class="literal">null</span>, <span class="string">'good'</span>];</span><br><span class="line"><span class="title function_ invoke__">array_walk</span>(<span class="variable">$data</span>, function (&amp;<span class="variable">$item</span>) {</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable">$item</span>) <span class="keyword">unset</span>(<span class="variable">$item</span>);</span><br><span class="line">});</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$data</span>);</span><br><span class="line"><span class="comment">// output: Array ( [0] =&gt; test [1] =&gt; haha [2] =&gt; [3] =&gt; hello [4] =&gt; [5] =&gt; good )</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>ä¸Šé¢çš„ä»£ç æ²¡æœ‰è¾¾åˆ°é¢„æœŸçš„æ•ˆæœï¼Œé‚£æˆ‘ä»¬ä¿®æ”¹ä¸‹è¯•è¯•</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$data</span> = [<span class="string">'test'</span>, <span class="string">'haha'</span>, <span class="string">''</span>, <span class="string">'hello'</span>, <span class="literal">null</span>, <span class="string">'good'</span>, <span class="string">''</span>];</span><br><span class="line"><span class="title function_ invoke__">array_walk</span>(<span class="variable">$data</span>, function (<span class="variable">$item</span>, <span class="variable">$key</span>) <span class="keyword">use</span> (&amp;$<span class="title">data</span>) {</span><br><span class="line">    <span class="title">if</span> (!$<span class="title">item</span>) <span class="title">unset</span>($<span class="title">data</span>[$<span class="title">key</span>]);</span><br><span class="line">});</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$data</span>);</span><br><span class="line"><span class="comment">// output: Array ( [0] =&gt; test [1] =&gt; haha [3] =&gt; hello [5] =&gt; good )</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>è™½ç„¶è¾¾åˆ°äº†é¢„æœŸï¼Œä½†PHPç»™æˆ‘ä»¬æä¾›äº†æ›´ä¼˜é›…çš„è§£å†³åŠæ³•</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$data</span> = [<span class="string">'test'</span>, <span class="string">'haha'</span>, <span class="string">''</span>, <span class="string">'hello'</span>, <span class="literal">null</span>, <span class="string">'good'</span>, <span class="string">''</span>];</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">array_filter</span>(<span class="variable">$data</span>));</span><br><span class="line"><span class="comment">// output: Array ( [0] =&gt; test [1] =&gt; haha [3] =&gt; hello [5] =&gt; good )</span></span><br></pre></td></tr></tbody></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­ï¼Œé€šè¿‡&amp;æ”¹å˜å˜é‡çš„å€¼ï¼Œæ•ˆç‡å¦‚ä½•</title>
      <link href="/posts/php-assignment.html"/>
      <url>/posts/php-assignment.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨PHPä¸­ï¼Œé€šè¿‡&amp;æ”¹å˜å˜é‡çš„å€¼ï¼Œæ•ˆç‡å¦‚ä½•å‘¢ï¼Œä¸‹é¢æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">'id'</span> =&gt; <span class="literal">null</span>, <span class="string">'name'</span> =&gt; <span class="string">'test'</span>, <span class="string">'age'</span> =&gt; <span class="literal">null</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable">$time1</span> = <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="variable">$tmp</span> = &amp;<span class="variable">$arr</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">100000000</span>; <span class="variable">$i</span>++) {</span><br><span class="line">    <span class="variable">$tmp</span>[<span class="string">'id'</span>] = <span class="variable">$i</span>;</span><br><span class="line">}</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$arr</span>); </span><br><span class="line"><span class="keyword">echo</span> PHP_EOL;</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>) - <span class="variable">$time1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> PHP_EOL;</span><br><span class="line"><span class="variable">$time2</span> = <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="variable">$tmp1</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">100000000</span>; <span class="variable">$i</span>++) {</span><br><span class="line">    <span class="variable">$tmp1</span> = <span class="variable">$i</span>;</span><br><span class="line">}</span><br><span class="line"><span class="variable">$tmp</span>[<span class="string">'id'</span>] = <span class="variable">$tmp1</span>;</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$arr</span>);</span><br><span class="line"><span class="keyword">echo</span> PHP_EOL;</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>) - <span class="variable">$time2</span>;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š<code><br>Array ( [id] =&gt; 99999999 [name] =&gt; test [age] =&gt; )<br>2.0506858825684<br>Array ( [id] =&gt; 99999999 [name] =&gt; test [age] =&gt; )<br>1.1653530597687</code></p><p>ä¸éš¾çœ‹å‡ºï¼Œä¸¤æ¬¡çš„å¤„ç†ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†é€šè¿‡&amp;å¤šæ¬¡æ”¹å˜å€¼ï¼Œæ•ˆç‡è¾ƒä½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä¸­ï¼Œthisã€selfã€staticçš„åŒºåˆ«</title>
      <link href="/posts/php-self-static.html"/>
      <url>/posts/php-self-static.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ul><li>thisæŒ‡å½“å‰ç±»ï¼Œä¸èƒ½ç”¨äºé™æ€æˆå‘˜å‡½æ•°ä¸­ï¼Œä½¿ç”¨å½¢å¼ï¼š$this-&gt;</li><li>selfæ˜¯å¯¹é™æ€æˆå‘˜å‡½æ•°/å˜é‡çš„è®¿é—®ï¼Œä½¿ç”¨å½¢å¼ï¼šself::</li><li>staticå’Œselfå¾ˆæ¥è¿‘ï¼Œå”¯ä¸€åŒºåˆ«åœ¨äºï¼šselfè°ƒç”¨çš„æ˜¯æœ¬èº«ä»£ç ç‰‡æ®µçš„è¿™ä¸ªç±»ï¼›è€Œstaticè°ƒç”¨çš„æ˜¯ä»å †å†…å­˜ä¸­æå–å‡ºæ¥çš„ï¼Œå³è®¿é—®çš„æ˜¯å½“å‰å®ä¾‹åŒ–çš„é‚£ä¸ªç±»ã€‚</li></ul><p>ä¸‹é¢çœ‹ä¸‹æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">'Jams'</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="variable">$age</span> = <span class="number">26</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">get_called_class</span>() . <span class="string">'==&gt;'</span> . <span class="variable language_">$this</span>-&gt;name . <span class="string">'==&gt;'</span> . <span class="variable language_">$this</span>::<span class="variable">$age</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">get_called_class</span>() . <span class="string">'==&gt;'</span> . <span class="built_in">self</span>::<span class="variable">$age</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">get_called_class</span>() . <span class="string">'==&gt;'</span> . <span class="built_in">static</span>::<span class="variable">$age</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">'Kiv'</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="variable">$age</span> = <span class="number">20</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">(<span class="keyword">new</span> <span class="title function_ invoke__">B</span>())-&gt;<span class="title function_ invoke__">start</span>();</span><br><span class="line">B::<span class="title function_ invoke__">getAge</span>();</span><br><span class="line">B::<span class="title function_ invoke__">getInfo</span>();</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š<code><br>B==&gt;Kiv==&gt;20<br>B==&gt;26<br>B==&gt;20</code></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­issetä¸array_key_existsçš„æ€§èƒ½å¯¹æ¯”</title>
      <link href="/posts/php-isset-array_key_exists.html"/>
      <url>/posts/php-isset-array_key_exists.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">å‰è¨€ï¼šåœ¨å¼€å‘ä¸­ï¼Œä¹‹å‰åˆ¤æ–­æ•°ç»„ä¸­çš„é”®æ˜¯å¦å­˜åœ¨ï¼Œæˆ‘ä¸€ç›´ä½¿ç”¨issetï¼›ä»Šå¤©çœ‹åˆ°æœ‰åŒäº‹å¤§é‡ä½¿ç”¨array_key_existsï¼Œé—²æ¥æ²¡äº‹å°±æµ‹è¯•äº†ä¸€ä¸‹å®ƒä»¬çš„æ€§èƒ½ã€‚</div><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">'id'</span> =&gt; <span class="number">3242</span>, <span class="string">'name'</span> =&gt; <span class="string">'test'</span>, <span class="string">'age'</span> =&gt; <span class="literal">null</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable">$time1</span> = <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">100000000</span>; <span class="variable">$i</span>++) {</span><br><span class="line">    <span class="variable">$tmp</span> = <span class="keyword">isset</span>(<span class="variable">$arr</span>[<span class="string">'age'</span>]);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>) - <span class="variable">$time1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> PHP_EOL;</span><br><span class="line"><span class="variable">$time2</span> = <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">100000000</span>; <span class="variable">$i</span>++) {</span><br><span class="line">    <span class="variable">$tmp1</span> = <span class="title function_ invoke__">array_key_exists</span>(<span class="string">'age'</span>, <span class="variable">$arr</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">microtime</span>(<span class="literal">true</span>) - <span class="variable">$time2</span>;</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„ä»£ç è¿è¡Œç»“æœä¸ºï¼š<code><br>2.1061670780182<br>3.1671521663666</code></p><p>ç»æµ‹è¯•ï¼šissetçš„æ•ˆç‡è¦é«˜äºarray_key_existsã€‚</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­...çš„ç”¨æ³•</title>
      <link href="/posts/php-uncertain-params.html"/>
      <url>/posts/php-uncertain-params.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ul><li>å¦‚æœâ€¦åœ¨å‡½æ•°çš„å®šä¹‰ä¸­ï¼Œåˆ™è¡¨ç¤ºä¼ å…¥å¤šä¸ªå‚æ•°(ä¸ªæ•°ä¸å®š)å°†åˆå¹¶æˆä¸€ä¸ªæ•°ç»„(ç´¢å¼•æ•°ç»„)<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...<span class="variable">$numbers</span></span>)</span>{</span><br><span class="line">    <span class="variable">$sum</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$numbers</span> <span class="keyword">as</span> <span class="variable">$number</span>){</span><br><span class="line">        <span class="variable">$sum</span> += <span class="variable">$number</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$sum</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">sum</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);    <span class="comment">//15</span></span><br></pre></td></tr></tbody></table></figure></li><li>å¦‚æœâ€¦åœ¨è°ƒç”¨å‡½æ•°çš„è¯­å¥ä¸­ï¼Œåˆ™è¡¨ç¤ºä¼ å…¥çš„æ•°ç»„(ç´¢å¼•æ•°ç»„)å°†æ‹†åˆ†æˆå¤šä¸ªå‚æ•°<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"><span class="variable">$a</span>, <span class="variable">$b</span></span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$a</span> + <span class="variable">$b</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$arr</span> = [<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">add</span>(...<span class="variable">$arr</span>);      <span class="comment">//5</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">add</span>(...[<span class="number">1</span>]));  <span class="comment">//æ²¡æœ‰ä»»ä½•è¾“å‡º</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">add</span>(...[<span class="string">'a'</span>=&gt;<span class="number">1</span>,<span class="string">'b'</span>=&gt;<span class="number">2</span>]));  <span class="comment">//æ²¡æœ‰ä»»ä½•è¾“å‡º</span></span><br></pre></td></tr></tbody></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP5 ä¸­ruleè§„åˆ™</title>
      <link href="/posts/thinkphp-rule.html"/>
      <url>/posts/thinkphp-rule.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ruleè§„åˆ™<br></p><figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> <span class="keyword">extends</span> <span class="title">\think\Validate</span></span>{</span><br><span class="line"><span class="keyword">protected</span> $rule = [</span><br><span class="line">['mobile|æ‰‹æœºå·', 'require|length:<span class="number">11</span>', 'æ‰‹æœºå·å¿…å¡«|æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®'],</span><br><span class="line">â€¦</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> $scene = [</span><br><span class="line">'add'=&gt;['mobile','name'â€¦],</span><br><span class="line">â€¦</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p></p><p>æ·»åŠ è‡ªå®šä¹‰æ ¡éªŒ<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$rule</span> = [</span><br><span class="line">[<span class="string">'anchor_id|å…³è”è´¦å·'</span>, <span class="string">'require|checkAnchor'</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">checkAnchor</span>(<span class="params"><span class="variable">$value</span></span>)</span>{</span><br><span class="line">â€¦</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$error</span> = <span class="variable">$server</span>-&gt;<span class="title function_ invoke__">getError</span>()) {</span><br><span class="line"><span class="title function_ invoke__">extract</span>(<span class="variable">$error</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@var</span> $msg</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">return</span> <span class="variable">$msg</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä¸­çš„JSON</title>
      <link href="/posts/mysql-json.html"/>
      <url>/posts/mysql-json.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">ä»¥MySQLä¸ºä»£è¡¨çš„å…³ç³»å‹æ•°æ®åº“ï¼Œ5.7.8ä¹‹å‰æ²¡æœ‰JSONè¿™ç§æ•°æ®ç±»å‹ï¼Œåªèƒ½ä»¥varcharæˆ–è€…textå½¢å¼å˜ç›¸çš„æ”¯æŒJSONï¼Œå­˜å–é”®å€¼æä¸æ–¹ä¾¿ï¼›5.7.8å¼€å§‹æœ‰JSONæ•°æ®ç±»å‹ï¼Œæœ‰ä¸“é—¨è¯­æ³•æ”¯æŒé”®å€¼çš„å­˜å–ï¼Œæ˜“ç”¨æ€§å¾—åˆ°å¾ˆå¤§æå‡ã€‚ä¸‹é¢è¯´è¯´jsonç±»å‹çš„ä½¿ç”¨ã€‚</div><h3 id="jsonç±»å‹çš„ä½¿ç”¨"><a href="#jsonç±»å‹çš„ä½¿ç”¨" class="headerlink" title="jsonç±»å‹çš„ä½¿ç”¨"></a>jsonç±»å‹çš„ä½¿ç”¨</h3><ol><li>å…ˆçœ‹ä¸‹ç‰ˆæœ¬å·ï¼Œç¡®å®šæ˜¯å¦æ”¯æŒjsonç±»å‹<br><img src="/images/mysql_json_1.png" alt=""></li><li>åˆ›å»ºè¡¨userï¼Œå…¶ä¸­extdataå­—æ®µä¸ºjsonç±»å‹<br><img src="/images/mysql_json_2.png" alt=""></li><li>å¾€è¡¨useré‡Œæ’å…¥ä¸€æ¡æ•°æ®<br><img src="/images/mysql_json_3.png" alt=""></li><li>è®¾ç½®extdataå­—æ®µçš„å€¼<br><img src="/images/mysql_json_4.png" alt=""></li><li>æŸ¥çœ‹æ•°æ®<br><img src="/images/mysql_json_5.png" alt=""></li><li>æŸ¥çœ‹jsonå­—æ®µçš„æŒ‡å®šé¡¹ï¼š<code>json_extract(å­—æ®µå,'$.xx')</code><br><img src="/images/mysql_json_6.png" alt=""></li><li>explainçœ‹ä¸‹<br><img src="/images/mysql_json_7.png" alt=""></li><li>ä»¥jsonå­—æ®µä¸­çš„æŒ‡å®šé¡¹æ¥æ·»åŠ å­—æ®µ<br><img src="/images/mysql_json_8.png" alt=""></li><li>æ´¾ç”Ÿå­—æ®µæ·»åŠ ç´¢å¼•<br><img src="/images/mysql_json_9.png" alt=""></li></ol><h3 id="jsonå‡½æ•°ä¸find-in-setå¯¹æ¯”"><a href="#jsonå‡½æ•°ä¸find-in-setå¯¹æ¯”" class="headerlink" title="jsonå‡½æ•°ä¸find_in_setå¯¹æ¯”"></a>jsonå‡½æ•°ä¸find_in_setå¯¹æ¯”</h3><ol><li>æ–°å»ºè¡¨test<figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> test (</span><br><span class="line">id <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">member_ids <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">manager_ids <span class="type">json</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span> (id)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=<span class="number">50159</span> <span class="keyword">DEFAULT</span> CHARSET=utf8mb4;</span><br></pre></td></tr></tbody></table></figure></li><li><p>å¹¶æ’å…¥äº”ä¸‡æ¡æ•°æ®<br><img src="/images/mysql_json_10.png" alt=""><br><img src="/images/mysql_json_11.png" alt=""></p></li><li><p>å¯¹æ¯”æŸ¥è¯¢æ•ˆç‡</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> SQL_NO_CACHE * <span class="function"><span class="keyword">from</span> test <span class="keyword">where</span> <span class="title">FIND_IN_SET</span>(<span class="params"><span class="number">2</span>,member_ids</span>)</span>;</span><br><span class="line"><span class="keyword">select</span> SQL_NO_CACHE * <span class="function"><span class="keyword">from</span> test <span class="keyword">where</span> <span class="title">json_contains</span>(<span class="params">manager_ids,<span class="string">'2'</span></span>)</span>;</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/mysql_json_12.png" alt=""><br><img src="/images/mysql_json_13.png" alt=""><br><img src="/images/mysql_json_14.png" alt=""><br>find_in_setç¨³å®šæ€§ä¸å¥½ï¼Œæ—¶é—´åœ¨0.09såˆ°0.69sä¹‹é—´å˜åŠ¨<br>json_containsç¨³å®šåœ¨0.14så·¦å³ï¼Œç¬¬äºŒä¸ªå­—æ®µå¿…é¡»æ˜¯å­—ç¬¦ä¸²<br>å¦‚æœè¿è¡¨çš„è¯ï¼Œè¦ä½¿ç”¨cast(b.id as char)</p><figure class="highlight n1ql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">a.id,</span><br><span class="line">a.NAME,</span><br><span class="line">group_concat( <span class="keyword">DISTINCT</span> ( b.NAME ) <span class="keyword">ORDER</span> <span class="keyword">BY</span> b.id SEPARATOR <span class="string">'ã€'</span> ) managerNames</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">a</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> b <span class="keyword">ON</span> json_contains( a.manager_ids, <span class="keyword">cast</span>(b.id <span class="keyword">as</span> char) )</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line"><span class="symbol">`a`</span>.<span class="symbol">`id`</span> </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line"><span class="symbol">`a`</span>.<span class="symbol">`id`</span> <span class="keyword">ASC</span> </span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">0</span>,</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></tbody></table></figure><p>ç»¼ä¸Šï¼Œå¯¹äºå¤šidå­˜å‚¨ï¼Œè¿˜æ˜¯ä½¿ç”¨é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ä¼šå¥½ä¸€äº›ï¼Œjsonæ•°æ®ä½¿ç”¨jsonç±»å‹æ¥å­˜å‚¨ä¼šæ›´æ–¹ä¾¿ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JSON </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”ä¸­ä»‹è€…æ¨¡å¼</title>
      <link href="/posts/mediator-pattern.html"/>
      <url>/posts/mediator-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹ä¸­ä»‹è€…æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Mediator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">createMediator</span>(<span class="params"></span>): <span class="title">void</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">workAll</span>(<span class="params"></span>): <span class="title">void</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyMediator</span> <span class="keyword">implements</span> <span class="title">Mediator</span></span>{</span><br><span class="line">    <span class="keyword">private</span> User <span class="variable">$user1</span>,<span class="variable">$user2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getUser1</span>(<span class="params"></span>): <span class="title">User</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;user1;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getUser2</span>(<span class="params"></span>): <span class="title">User</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;user2;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">createMediator</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;user1 = <span class="keyword">new</span> <span class="title class_">User1</span>(<span class="variable language_">$this</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;user2 = <span class="keyword">new</span> <span class="title class_">User2</span>(<span class="variable language_">$this</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">workAll</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;user1-&gt;<span class="title function_ invoke__">work</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;user2-&gt;<span class="title function_ invoke__">work</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Mediator <span class="variable">$mediator</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Mediator <span class="variable">$mediator</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;mediator = <span class="variable">$mediator</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getMediator</span>(<span class="params"></span>): <span class="title">Mediator</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;mediator;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="function"><span class="keyword">function</span> <span class="title">work</span>(<span class="params"></span>):<span class="title">void</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User1</span> <span class="keyword">extends</span> <span class="title">User</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Mediator <span class="variable">$mediator</span></span>)</span>{</span><br><span class="line">        <span class="built_in">parent</span>::<span class="title function_ invoke__">__construct</span>(<span class="variable">$mediator</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">work</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"user1 exe!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User2</span> <span class="keyword">extends</span> <span class="title">User</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Mediator <span class="variable">$mediator</span></span>)</span>{</span><br><span class="line">        <span class="built_in">parent</span>::<span class="title function_ invoke__">__construct</span>(<span class="variable">$mediator</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">work</span>(<span class="params"></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"user2 exe!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$mediator</span> = <span class="keyword">new</span> <span class="title class_">MyMediator</span>();</span><br><span class="line"><span class="variable">$mediator</span>-&gt;<span class="title function_ invoke__">createMediator</span>();</span><br><span class="line"><span class="variable">$mediator</span>-&gt;<span class="title function_ invoke__">workAll</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * user1 exe!</span></span><br><span class="line"><span class="comment"> * user2 exe!</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”ä»£ç†æ¨¡å¼</title>
      <link href="/posts/proxy-pattern.html"/>
      <url>/posts/proxy-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>å…¶å®æ¯ä¸ªæ¨¡å¼åç§°å°±è¡¨æ˜äº†è¯¥æ¨¡å¼çš„ä½œç”¨ï¼Œä»£ç†æ¨¡å¼å°±æ˜¯å¤šä¸€ä¸ªä»£ç†ç±»å‡ºæ¥ï¼Œæ›¿åŸå¯¹è±¡è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ç§Ÿæˆ¿å­çš„æ—¶å€™å›å»æ‰¾ä¸­ä»‹ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä½ å¯¹è¯¥åœ°åŒºæˆ¿å±‹çš„ä¿¡æ¯æŒæ¡çš„ä¸å¤Ÿå…¨é¢ï¼Œå¸Œæœ›æ‰¾ä¸€ä¸ªæ›´ç†Ÿæ‚‰çš„äººå»å¸®ä½ åšï¼Œæ­¤å¤„çš„ä»£ç†å°±æ˜¯è¿™ä¸ªæ„æ€ã€‚å†å¦‚æˆ‘ä»¬æœ‰çš„æ—¶å€™æ‰“å®˜å¸ï¼Œæˆ‘ä»¬éœ€è¦è¯·å¾‹å¸ˆï¼Œå› ä¸ºå¾‹å¸ˆåœ¨æ³•å¾‹æ–¹é¢æœ‰ä¸“é•¿ï¼Œå¯ä»¥æ›¿æˆ‘ä»¬è¿›è¡Œæ“ä½œï¼Œè¡¨è¾¾æˆ‘ä»¬çš„æƒ³æ³•ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹ä»£ç†æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæ¥å£Sourceable</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»Sourceå®ç°æ¥å£Sourceable</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Source</span> <span class="keyword">implements</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"the original method!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç†ç±»Proxyå®ç°Sourceable</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Proxy</span> <span class="keyword">implements</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Source <span class="variable">$source</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source = <span class="keyword">new</span> <span class="title class_">Source</span>();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">before</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">after</span>();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">before</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"before proxy!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">after</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"after proxy!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$source</span> = <span class="keyword">new</span> <span class="title class_">Proxy</span>();</span><br><span class="line"><span class="variable">$source</span>-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * before proxy!</span></span><br><span class="line"><span class="comment"> * the original method!</span></span><br><span class="line"><span class="comment"> * after proxy!</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¦‚æœå·²æœ‰çš„æ–¹æ³•åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å¯¹åŸæœ‰çš„æ–¹æ³•è¿›è¡Œæ”¹è¿›ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§åŠæ³•ï¼š<br>    1ã€ä¿®æ”¹åŸæœ‰çš„æ–¹æ³•æ¥é€‚åº”ã€‚è¿™æ ·è¿åäº†â€œå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­â€çš„åŸåˆ™ã€‚<br>    2ã€å°±æ˜¯é‡‡ç”¨ä¸€ä¸ªä»£ç†ç±»è°ƒç”¨åŸæœ‰çš„æ–¹æ³•ï¼Œä¸”å¯¹äº§ç”Ÿçš„ç»“æœè¿›è¡Œæ§åˆ¶ã€‚è¿™ç§æ–¹æ³•å°±æ˜¯ä»£ç†æ¨¡å¼ã€‚<br>ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œå¯ä»¥å°†åŠŸèƒ½åˆ’åˆ†çš„æ›´åŠ æ¸…æ™°ï¼Œæœ‰åŠ©äºåæœŸç»´æŠ¤ï¼</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”äº«å…ƒæ¨¡å¼</title>
      <link href="/posts/flyweight-pattern.html"/>
      <url>/posts/flyweight-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  äº«å…ƒæ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯å®ç°å¯¹è±¡çš„å…±äº«ï¼Œå³å…±äº«æ± ï¼Œå½“ç³»ç»Ÿä¸­å¯¹è±¡å¤šçš„æ—¶å€™å¯ä»¥å‡å°‘å†…å­˜çš„å¼€é”€ï¼Œé€šå¸¸ä¸å·¥å‚æ¨¡å¼ä¸€èµ·ä½¿ç”¨ã€‚<br>  FlyWeightFactoryè´Ÿè´£åˆ›å»ºå’Œç®¡ç†äº«å…ƒå•å…ƒï¼Œå½“ä¸€ä¸ªå®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå·¥å‚éœ€è¦æ£€æŸ¥å½“å‰å¯¹è±¡æ± ä¸­æ˜¯å¦æœ‰ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡ï¼Œå¦‚æœæœ‰ï¼Œå°±è¿”å›å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼ŒFlyWeightæ˜¯è¶…ç±»ã€‚ä¸€æåˆ°å…±äº«æ± ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°Javaé‡Œé¢çš„JDBCè¿æ¥æ± ï¼Œæƒ³æƒ³æ¯ä¸ªè¿æ¥çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬ä¸éš¾æ€»ç»“å‡ºï¼šé€‚ç”¨äºä½œå…±äº«çš„ä¸€äº›ä¸ªå¯¹è±¡ï¼Œä»–ä»¬æœ‰ä¸€äº›å…±æœ‰çš„å±æ€§ï¼Œå°±æ‹¿æ•°æ®åº“è¿æ¥æ± æ¥è¯´ï¼Œurlã€driverClassNameã€usernameã€passwordåŠdbnameï¼Œè¿™äº›å±æ€§å¯¹äºæ¯ä¸ªè¿æ¥æ¥è¯´éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å°±é€‚åˆç”¨äº«å…ƒæ¨¡å¼æ¥å¤„ç†ï¼Œå»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œå°†ä¸Šè¿°ç±»ä¼¼å±æ€§ä½œä¸ºå†…éƒ¨æ•°æ®ï¼Œå…¶å®ƒçš„ä½œä¸ºå¤–éƒ¨æ•°æ®ï¼Œåœ¨æ–¹æ³•è°ƒç”¨æ—¶ï¼Œå½“åšå‚æ•°ä¼ è¿›æ¥ï¼Œè¿™æ ·å°±èŠ‚çœäº†ç©ºé—´ï¼Œå‡å°‘äº†å®ä¾‹çš„æ•°é‡ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹äº«å…ƒæ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConnectionPool</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">array</span> <span class="variable">$pool</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$server</span> = <span class="string">'127.0.0.1'</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$username</span> = <span class="string">'root'</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$password</span> = <span class="string">'root'</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$database</span> = <span class="string">'test'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> <span class="variable">$poolSize</span> = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> ?ConnectionPool <span class="variable">$instance</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$conn</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;pool = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span>&lt;<span class="variable language_">$this</span>-&gt;poolSize; <span class="variable">$i</span>++){</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="variable">$mysqlConn</span> = <span class="title function_ invoke__">mysqli_connect</span>(<span class="variable">$this</span>-&gt;server, <span class="variable">$this</span>-&gt;username, <span class="variable">$this</span>-&gt;password);</span><br><span class="line">                <span class="keyword">if</span> (!<span class="variable">$mysqlConn</span>)  <span class="keyword">die</span>(<span class="string">"connect error"</span>);</span><br><span class="line">                <span class="title function_ invoke__">mysqli_select_db</span>(<span class="variable">$mysqlConn</span>,<span class="variable">$this</span>-&gt;database);</span><br><span class="line">                <span class="title function_ invoke__">mysqli_query</span>(<span class="variable">$mysqlConn</span>,<span class="string">'SET NAMES utf8'</span>);</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;pool[] = <span class="variable">$mysqlConn</span>;</span><br><span class="line">            }<span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>){</span><br><span class="line">                <span class="keyword">die</span>(<span class="string">"connect error"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getConnection</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$this</span>-&gt;pool) &gt; <span class="number">0</span>){</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;conn = <span class="title function_ invoke__">array_shift</span>(<span class="variable">$this</span>-&gt;pool);</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;conn;</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$connPool</span> = <span class="keyword">new</span> <span class="title class_">ConnectionPool</span>();</span><br><span class="line"><span class="variable">$conn1</span> = <span class="variable">$connPool</span>-&gt;<span class="title function_ invoke__">getConnection</span>();</span><br><span class="line"><span class="variable">$conn2</span> = <span class="variable">$connPool</span>-&gt;<span class="title function_ invoke__">getConnection</span>();</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$conn1</span>===<span class="variable">$conn2</span>);      <span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”å•ä¾‹æ¨¡å¼</title>
      <link href="/posts/singleton-pattern.html"/>
      <url>/posts/singleton-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>å•ä¾‹å¯¹è±¡ï¼ˆSingletonï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚åœ¨Javaåº”ç”¨ä¸­ï¼Œå•ä¾‹å¯¹è±¡èƒ½ä¿è¯åœ¨ä¸€ä¸ªJVMä¸­ï¼Œè¯¥å¯¹è±¡åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚<br>å•ä¾‹æ¨¡å¼é€‚ç”¨äºç»å¸¸è¢«è®¿é—®çš„å¯¹è±¡ï¼Œæˆ–æ˜¯åˆ›å»ºå’Œé”€æ¯éœ€è¦è°ƒç”¨å¤§é‡èµ„æºå’Œæ—¶é—´çš„å¯¹è±¡ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ã€‚å•ä¾‹æ¨¡å¼çš„å¸¸ç”¨å®ç°æ–¹æ³•æœ‰ 4 ç§ï¼šé¥¿æ±‰æ¨¡å¼ã€æ‡’æ±‰æ¨¡å¼ã€é™æ€å†…éƒ¨ç±»å’Œæšä¸¾ã€‚ä»å†™æ³•çš„ç®€æ´æ€§ã€çº¿ç¨‹å®‰å…¨æ€§å’Œä»£ç çš„æ˜“æ‡‚æ€§ç­‰æ–¹é¢ç»¼åˆæ¥çœ‹ï¼Œåšä¸»æ¯”è¾ƒæ¨èä½¿ç”¨æšä¸¾æˆ–æ‡’æ±‰æ¨¡å¼æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹å•ä¾‹æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>{</span><br><span class="line">    <span class="comment">//æŒæœ‰ç§æœ‰é™æ€å®ä¾‹ï¼Œé˜²æ­¢è¢«å¼•ç”¨ï¼Œæ­¤å¤„èµ‹å€¼ä¸ºnullï¼Œç›®çš„æ˜¯å®ç°å»¶è¿ŸåŠ è½½</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> ?Singleton <span class="variable">$instance</span>=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¦æ­¢è¢«å®ä¾‹åŒ–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¦æ­¢è¢«å…‹éš†</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">__clone</span>(<span class="params"></span>)</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getInstance</span>(<span class="params"></span>): <span class="title">Singleton</span></span>{</span><br><span class="line">        <span class="comment">//if (!self::$instance){    æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">self</span>::<span class="variable">$instance</span> <span class="keyword">instanceof</span> <span class="built_in">self</span>){</span><br><span class="line">            <span class="built_in">self</span>::<span class="variable">$instance</span> = <span class="keyword">new</span> <span class="built_in">self</span>();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable">$instance</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä½¿ç”¨<code>if (!self::$instance){ </code>ä¼šæœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜</p><ul><li>a. Aã€Bçº¿ç¨‹åŒæ—¶è¿›å…¥äº†getInstance </li><li>b. Aé¦–å…ˆè¿›å…¥ifåˆ¤æ–­ï¼Œç”±äºinstanceä¸ºnullï¼Œæ‰€ä»¥å®ƒæ‰§è¡Œself::$instance = new self();</li><li>c. ç”±äºå†…å­˜çš„ä¼˜åŒ–æœºåˆ¶ï¼Œä¼šå…ˆåˆ’å‡ºäº†ä¸€äº›åˆ†é…ç»™Singletonå®ä¾‹çš„ç©ºç™½å†…å­˜ï¼Œå¹¶èµ‹å€¼ç»™instanceæˆå‘˜ï¼ˆæ³¨æ„æ­¤æ—¶å†…å­˜æ²¡æœ‰å¼€å§‹åˆå§‹åŒ–è¿™ä¸ªå®ä¾‹ï¼‰ï¼Œç„¶åAç¦»å¼€äº†ifä»£ç å—ã€‚</li><li>d. Bè¿›å…¥ifåˆ¤æ–­ï¼Œç”±äºinstanceæ­¤æ—¶ä¸æ˜¯nullï¼Œå› æ­¤å®ƒé©¬ä¸Šç¦»å¼€äº†ifä»£ç å—å¹¶å°†ç»“æœè¿”å›ç»™è°ƒç”¨è¯¥æ–¹æ³•çš„ç¨‹åºã€‚</li><li>e. æ­¤æ—¶Bçº¿ç¨‹æ‰“ç®—ä½¿ç”¨Singletonå®ä¾‹ï¼Œå´å‘ç°å®ƒæ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œäºæ˜¯é”™è¯¯å‘ç”Ÿäº†ã€‚<br>æ”¹ä¸º<code>if (!self::$instance instanceof self){</code>å³å¯</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å•ä¾‹æ¨¡å¼æœ‰å‡ ä¸ªå¥½å¤„ï¼š<br>    1ã€æŸäº›ç±»åˆ›å»ºæ¯”è¾ƒé¢‘ç¹ï¼Œå¯¹äºä¸€äº›å¤§å‹çš„å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ç¬”å¾ˆå¤§çš„ç³»ç»Ÿå¼€é”€ã€‚<br>    2ã€çœå»äº†newæ“ä½œç¬¦ï¼Œé™ä½äº†ç³»ç»Ÿå†…å­˜çš„ä½¿ç”¨é¢‘ç‡ï¼Œå‡è½»GCå‹åŠ›ã€‚<br>    3ã€æœ‰äº›ç±»å¦‚äº¤æ˜“æ‰€çš„æ ¸å¿ƒäº¤æ˜“å¼•æ“ï¼Œæ§åˆ¶ç€äº¤æ˜“æµç¨‹ï¼Œå¦‚æœè¯¥ç±»å¯ä»¥åˆ›å»ºå¤šä¸ªçš„è¯ï¼Œç³»ç»Ÿå®Œå…¨ä¹±äº†ã€‚ï¼ˆæ¯”å¦‚ä¸€ä¸ªå†›é˜Ÿå‡ºç°äº†å¤šä¸ªå¸ä»¤å‘˜åŒæ—¶æŒ‡æŒ¥ï¼Œè‚¯å®šä¼šä¹±æˆä¸€å›¢ï¼‰ï¼Œæ‰€ä»¥åªæœ‰ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œæ‰èƒ½ä¿è¯æ ¸å¿ƒäº¤æ˜“æœåŠ¡å™¨ç‹¬ç«‹æ§åˆ¶æ•´ä¸ªæµç¨‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”åŸå‹æ¨¡å¼</title>
      <link href="/posts/prototype-pattern.html"/>
      <url>/posts/prototype-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŸå‹ï¼Œå¯¹å…¶è¿›è¡Œå¤åˆ¶ã€å…‹éš†ï¼Œäº§ç”Ÿä¸€ä¸ªå’ŒåŸå¯¹è±¡ç±»ä¼¼çš„æ–°å¯¹è±¡ã€‚<br>  <img src="/images/prototype-pattern-1.png" alt=""></p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹åŸå‹æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰äº†ä¸€ä¸ªåŸå‹</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Prototype</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$v</span> = <span class="string">'clone'</span>.PHP_EOL;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'create'</span>.PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__clone</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcretePrototype1</span> <span class="keyword">extends</span> <span class="title">Prototype</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__clone</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"><span class="variable">$param</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;v = <span class="variable">$param</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcretePrototype2</span> <span class="keyword">extends</span> <span class="title">Prototype</span></span>{</span><br><span class="line">    <span class="comment">//å½“å¤–éƒ¨ä½¿ç”¨cloneå…³é”®å­—è¿›è¡Œå¯¹è±¡å…‹éš†æ—¶ï¼Œç›´æ¥å°±ä¼šè¿›å…¥è¿™ä¸ªé­”æœ¯æ–¹æ³•ä¸­ã€‚</span></span><br><span class="line">    <span class="comment">//åœ¨è¿™ä¸ªé­”æœ¯æ–¹æ³•é‡Œé¢æˆ‘ä»¬å¯ä»¥å¯¹å±æ€§è¿›è¡Œå¤„ç†ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹å¼•ç”¨å±æ€§è¿›è¡Œä¸€äº›ç‹¬ç‰¹çš„å¤„ç†ã€‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__clone</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;v = <span class="string">'clone 2'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$p</span> = <span class="keyword">new</span> <span class="title class_">ConcretePrototype1</span>();</span><br><span class="line"><span class="variable">$p</span>-&gt;<span class="title function_ invoke__">init</span>(<span class="string">'hello'</span>);</span><br><span class="line"><span class="variable">$p1</span> = <span class="keyword">clone</span> <span class="variable">$p</span>;    <span class="comment">// ConcretePrototype1çš„__constructä¸ä¼šè¢«æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$p</span>-&gt;v.<span class="string">'=='</span>.<span class="variable">$p1</span>-&gt;v;     <span class="comment">// output: create hello==hello</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$p</span> = <span class="keyword">new</span> <span class="title class_">ConcretePrototype2</span>();</span><br><span class="line"><span class="variable">$p2</span> = <span class="keyword">clone</span> <span class="variable">$p</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$p</span>-&gt;v.<span class="string">'=='</span>.<span class="variable">$p2</span>-&gt;v;     <span class="comment">// output: create clone ==clone 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ…å¤åˆ¶ï¼šå°†ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡éƒ½ä¼šé‡æ–°åˆ›å»ºï¼Œè€Œå¼•ç”¨ç±»å‹ï¼ŒæŒ‡å‘çš„è¿˜æ˜¯åŸå¯¹è±¡æ‰€æŒ‡å‘çš„ã€‚</span></span><br><span class="line"><span class="comment">// æ·±å¤åˆ¶ï¼šå°†ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åï¼Œä¸è®ºæ˜¯åŸºæœ¬æ•°æ®ç±»å‹è¿˜æœ‰å¼•ç”¨ç±»å‹ï¼Œéƒ½æ˜¯é‡æ–°åˆ›å»ºçš„ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ·±å¤åˆ¶è¿›è¡Œäº†å®Œå…¨å½»åº•çš„å¤åˆ¶ï¼Œè€Œæµ…å¤åˆ¶ä¸å½»åº•ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>  ç‰¹ç‚¹ï¼šå‡å°‘åˆ›å»ºå¯¹è±¡æ—¶çš„å¼€é”€</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”å‘½ä»¤æ¨¡å¼</title>
      <link href="/posts/command-pattern.html"/>
      <url>/posts/command-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹å‘½ä»¤æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæ¥å£Command</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Command</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">exe</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Receiver</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">action</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"command received!"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»MyCommandå®ç°æ¥å£Command</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCommand</span> <span class="keyword">implements</span> <span class="title">Command</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Receiver <span class="variable">$receiver</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Receiver <span class="variable">$receiver</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;receiver = <span class="variable">$receiver</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">exe</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;receiver-&gt;<span class="title function_ invoke__">action</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Invoker</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Command <span class="variable">$command</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Command <span class="variable">$command</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;command = <span class="variable">$command</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">action</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;command-&gt;<span class="title function_ invoke__">exe</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$receiver</span> = <span class="keyword">new</span> <span class="title class_">Receiver</span>();</span><br><span class="line"><span class="variable">$cmd</span> = <span class="keyword">new</span> <span class="title class_">MyCommand</span>(<span class="variable">$receiver</span>);</span><br><span class="line"><span class="variable">$invoker</span> = <span class="keyword">new</span> <span class="title class_">Invoker</span>(<span class="variable">$cmd</span>);</span><br><span class="line"><span class="variable">$invoker</span>-&gt;<span class="title function_ invoke__">action</span>();</span><br><span class="line"><span class="comment">// output:  command received!</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”å¤‡å¿˜å½•æ¨¡å¼</title>
      <link href="/posts/memento-pattern.html"/>
      <url>/posts/memento-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹å¤‡å¿˜å½•æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Original</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$value</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;value = <span class="variable">$value</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params"></span>): <span class="title">string</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;value;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setValue</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$value</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;value = <span class="variable">$value</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">createMemento</span>(<span class="params"></span>): <span class="title">Memento</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Memento</span>(<span class="variable language_">$this</span>-&gt;value);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">restoreMemento</span>(<span class="params">Memento <span class="variable">$memento</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;value = <span class="variable">$memento</span>-&gt;<span class="title function_ invoke__">getValue</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Memento</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$value</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;value = <span class="variable">$value</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params"></span>): <span class="title">string</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;value;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setValue</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$value</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;value = <span class="variable">$value</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Storage</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Memento <span class="variable">$memento</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Memento <span class="variable">$memento</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;memento = <span class="variable">$memento</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getMemento</span>(<span class="params"></span>): <span class="title">Memento</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;memento;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setMemento</span>(<span class="params">Memento <span class="variable">$memento</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;memento = <span class="variable">$memento</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$origi</span> = <span class="keyword">new</span> <span class="title class_">Original</span>(<span class="string">"egg"</span>);</span><br><span class="line"><span class="variable">$storage</span> = <span class="keyword">new</span> <span class="title class_">Storage</span>(<span class="variable">$origi</span>-&gt;<span class="title function_ invoke__">createMemento</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"åˆå§‹åŒ–çŠ¶æ€ä¸ºï¼š"</span> . <span class="variable">$origi</span>-&gt;<span class="title function_ invoke__">getValue</span>() . PHP_EOL;</span><br><span class="line"><span class="variable">$origi</span>-&gt;<span class="title function_ invoke__">setValue</span>(<span class="string">"niu"</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"ä¿®æ”¹åçš„çŠ¶æ€ä¸ºï¼š"</span> . <span class="variable">$origi</span>-&gt;<span class="title function_ invoke__">getValue</span>() . PHP_EOL;</span><br><span class="line"></span><br><span class="line"><span class="variable">$origi</span>-&gt;<span class="title function_ invoke__">restoreMemento</span>(<span class="variable">$storage</span>-&gt;<span class="title function_ invoke__">getMemento</span>());</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"æ¢å¤åçš„çŠ¶æ€ä¸ºï¼š"</span> . <span class="variable">$origi</span>-&gt;<span class="title function_ invoke__">getValue</span>() . PHP_EOL;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * åˆå§‹åŒ–çŠ¶æ€ä¸ºï¼šegg</span></span><br><span class="line"><span class="comment"> * ä¿®æ”¹åçš„çŠ¶æ€ä¸ºï¼šniu</span></span><br><span class="line"><span class="comment"> * æ¢å¤åçš„çŠ¶æ€ä¸ºï¼šegg</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”å¤–è§‚æ¨¡å¼</title>
      <link href="/posts/facade-pattern.html"/>
      <url>/posts/facade-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  å¤–è§‚æ¨¡å¼æ˜¯ä¸ºäº†è§£å†³ç±»ä¸ç±»ä¹‹å®¶çš„ä¾èµ–å…³ç³»çš„ï¼Œåƒspringä¸€æ ·ï¼Œå¯ä»¥å°†ç±»å’Œç±»ä¹‹é—´çš„å…³ç³»é…ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè€Œå¤–è§‚æ¨¡å¼å°±æ˜¯å°†ä»–ä»¬çš„å…³ç³»æ”¾åœ¨ä¸€ä¸ªFacadeç±»ä¸­ï¼Œé™ä½äº†ç±»ç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼Œè¯¥æ¨¡å¼ä¸­æ²¡æœ‰æ¶‰åŠåˆ°æ¥å£ï¼Œçœ‹ä¸‹ç±»å›¾ï¼šï¼ˆæˆ‘ä»¬ä»¥ä¸€ä¸ªè®¡ç®—æœºçš„å¯åŠ¨è¿‡ç¨‹ä¸ºä¾‹ï¼‰</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹å¤–è§‚æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CPU</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">startup</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"cpu startup!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">shutdown</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"cpu shutdown!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Memory</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">startup</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"memory startup!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">shutdown</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"memory shutdown!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Disk</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">startup</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"disk startup!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">shutdown</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"disk shutdown!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Computer</span></span>{</span><br><span class="line">    <span class="keyword">private</span> CPU <span class="variable">$cpu</span>;</span><br><span class="line">    <span class="keyword">private</span> Memory <span class="variable">$memory</span>;</span><br><span class="line">    <span class="keyword">private</span> Disk <span class="variable">$disk</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;cpu = <span class="keyword">new</span> <span class="title function_ invoke__">CPU</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;memory = <span class="keyword">new</span> <span class="title class_">Memory</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;disk = <span class="keyword">new</span> <span class="title class_">Disk</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">startup</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"start the computer!"</span> . PHP_EOL;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;cpu-&gt;<span class="title function_ invoke__">startup</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;memory-&gt;<span class="title function_ invoke__">startup</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;disk-&gt;<span class="title function_ invoke__">startup</span>();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"start computer finished!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">shutdown</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"begin to close th computer!"</span> . PHP_EOL;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;cpu-&gt;<span class="title function_ invoke__">shutdown</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;memory-&gt;<span class="title function_ invoke__">shutdown</span>();</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;disk-&gt;<span class="title function_ invoke__">shutdown</span>();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"computer closed!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line"><span class="variable">$computer</span> = <span class="keyword">new</span> <span class="title class_">Computer</span>();</span><br><span class="line"><span class="variable">$computer</span>-&gt;<span class="title function_ invoke__">startup</span>();</span><br><span class="line"><span class="variable">$computer</span>-&gt;<span class="title function_ invoke__">shutdown</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment">start the computer!</span></span><br><span class="line"><span class="comment">cpu startup!</span></span><br><span class="line"><span class="comment">memory startup!</span></span><br><span class="line"><span class="comment">disk startup!</span></span><br><span class="line"><span class="comment">start computer finished!</span></span><br><span class="line"><span class="comment">begin to close th computer!</span></span><br><span class="line"><span class="comment">cpu shutdown!</span></span><br><span class="line"><span class="comment">memory shutdown!</span></span><br><span class="line"><span class="comment">disk shutdown!</span></span><br><span class="line"><span class="comment">computer closed!</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>  å¦‚æœæˆ‘ä»¬æ²¡æœ‰Computerç±»ï¼Œé‚£ä¹ˆï¼ŒCPUã€Memoryã€Diskä»–ä»¬ä¹‹é—´å°†ä¼šç›¸äº’æŒæœ‰å®ä¾‹ï¼Œäº§ç”Ÿå…³ç³»ï¼Œè¿™æ ·ä¼šé€ æˆä¸¥é‡çš„ä¾èµ–ï¼Œä¿®æ”¹ä¸€ä¸ªç±»ï¼Œå¯èƒ½ä¼šå¸¦æ¥å…¶ä»–ç±»çš„ä¿®æ”¹ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çœ‹åˆ°çš„ï¼Œæœ‰äº†Computerç±»ï¼Œä»–ä»¬ä¹‹é—´çš„å…³ç³»è¢«æ”¾åœ¨äº†Computerç±»é‡Œï¼Œè¿™æ ·å°±èµ·åˆ°äº†è§£è€¦çš„ä½œç”¨ï¼Œè¿™ï¼Œå°±æ˜¯å¤–è§‚æ¨¡å¼ï¼</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”å·¥å‚æ–¹æ³•æ¨¡å¼</title>
      <link href="/posts/factory-method-pattern.html"/>
      <url>/posts/factory-method-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  åˆ›å»ºä¸€ä¸ªå·¥å‚æ¥å£å’Œåˆ›å»ºå¤šä¸ªå·¥å‚å®ç°ç±»ï¼Œè¿™æ ·ä¸€æ—¦éœ€è¦å¢åŠ æ–°çš„åŠŸèƒ½ï¼Œç›´æ¥å¢åŠ æ–°çš„å·¥å‚ç±»å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦ä¿®æ”¹ä¹‹å‰çš„ä»£ç ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹å·¥å‚æ–¹æ³•æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå…¬å…±æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Sender</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸¤ä¸ªå®ç°ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MailSender</span> <span class="keyword">implements</span> <span class="title">Sender</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"mail send"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmsSender</span> <span class="keyword">implements</span> <span class="title">Sender</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"sms send"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¥å‚ç±»æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Provider</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">produce</span>(<span class="params"></span>): <span class="title">Sender</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°å·¥å‚ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SendMailFactory</span> <span class="keyword">implements</span> <span class="title">Provider</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">produce</span>(<span class="params"></span>): <span class="title">Sender</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MailSender</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SendSmsFactory</span> <span class="keyword">implements</span> <span class="title">Provider</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">produce</span>(<span class="params"></span>): <span class="title">Sender</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SmsSender</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="variable">$sender</span> = (<span class="keyword">new</span> <span class="title class_">SendMailFactory</span>())-&gt;<span class="title function_ invoke__">produce</span>();</span><br><span class="line"><span class="variable">$sender</span>-&gt;<span class="title function_ invoke__">send</span>();</span><br><span class="line"><span class="comment">// output: mail send</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>  ä¼˜ç‚¹ï¼šæ‰©å±•æ€§å¥½ã€‚å¦‚æœéœ€è¦æ·»åŠ ä¸ªä¼ä¸šå¾®ä¿¡æ¨é€ï¼Œåªéœ€åšä¸€ä¸ªå®ç°ç±»ï¼Œå®ç°Senderæ¥å£ï¼ŒåŒæ—¶åšä¸€ä¸ªå·¥å‚ç±»ï¼Œå®ç°Provideræ¥å£ï¼Œå°±OKäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”æ¡¥æ¥æ¨¡å¼</title>
      <link href="/posts/bridge-pattern.html"/>
      <url>/posts/bridge-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  æ¡¥æ¥æ¨¡å¼å°±æ˜¯æŠŠäº‹ç‰©å’Œå…¶å…·ä½“å®ç°åˆ†å¼€ï¼Œä½¿ä»–ä»¬å¯ä»¥å„è‡ªç‹¬ç«‹çš„å˜åŒ–ã€‚æ¡¥æ¥çš„ç”¨æ„æ˜¯ï¼šå°†æŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦ï¼Œä½¿å¾—äºŒè€…å¯ä»¥ç‹¬ç«‹å˜åŒ–ï¼Œåƒæˆ‘ä»¬å¸¸ç”¨çš„JDBCæ¡¥DriverManagerä¸€æ ·ï¼ŒJDBCè¿›è¡Œè¿æ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œåœ¨å„ä¸ªæ•°æ®åº“ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼ŒåŸºæœ¬ä¸éœ€è¦åŠ¨å¤ªå¤šçš„ä»£ç ï¼Œç”šè‡³ä¸æ¯«ä¸ç”¨åŠ¨ï¼ŒåŸå› å°±æ˜¯JDBCæä¾›ç»Ÿä¸€æ¥å£ï¼Œæ¯ä¸ªæ•°æ®åº“æä¾›å„è‡ªçš„å®ç°ï¼Œç”¨ä¸€ä¸ªå«åšæ•°æ®åº“é©±åŠ¨çš„ç¨‹åºæ¥æ¡¥æ¥å°±è¡Œäº†ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹æ¡¥æ¥æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸¤ä¸ªå®ç°ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SourceSub1</span> <span class="keyword">implements</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"this is first sub!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SourceSub2</span> <span class="keyword">implements</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"this is the second sub!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªæ¡¥ï¼ŒæŒæœ‰Sourceableçš„ä¸€ä¸ªå®ä¾‹</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Bridge</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Sourceable <span class="variable">$source</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getMSource</span>(<span class="params"></span>): <span class="title">Sourceable</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;source;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setSource</span>(<span class="params">Sourceable <span class="variable">$source</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source = <span class="variable">$source</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBridge</span> <span class="keyword">extends</span> <span class="title">Bridge</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getMSource</span>()-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$bridge</span> = <span class="keyword">new</span> <span class="title class_">MyBridge</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$source1</span> = <span class="keyword">new</span> <span class="title class_">SourceSub1</span>();</span><br><span class="line"><span class="variable">$bridge</span>-&gt;<span class="title function_ invoke__">setSource</span>(<span class="variable">$source1</span>);</span><br><span class="line"><span class="variable">$bridge</span>-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$source2</span> = <span class="keyword">new</span> <span class="title class_">SourceSub2</span>();</span><br><span class="line"><span class="variable">$bridge</span>-&gt;<span class="title function_ invoke__">setSource</span>(<span class="variable">$source2</span>);</span><br><span class="line"><span class="variable">$bridge</span>-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line"><span class="comment">// è¿™æ ·ï¼Œå°±é€šè¿‡å¯¹Bridgeç±»çš„è°ƒç”¨ï¼Œå®ç°äº†å¯¹æ¥å£Sourceableçš„å®ç°ç±»SourceSub1å’ŒSourceSub2çš„è°ƒç”¨ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment">this is first sub!</span></span><br><span class="line"><span class="comment">this is the second sub!</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”æ¨¡æ¿æ–¹æ³•æ¨¡å¼</title>
      <link href="/posts/template-method-pattern.html"/>
      <url>/posts/template-method-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractCalculator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">function</span> <span class="title">calculate</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$exp</span>,<span class="keyword">string</span> <span class="variable">$opt</span></span>)</span>{</span><br><span class="line">        <span class="variable">$arr</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">split</span>(<span class="variable">$exp</span>,<span class="variable">$opt</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">cal</span>(<span class="variable">$arr</span>[<span class="number">0</span>],<span class="variable">$arr</span>[<span class="number">1</span>]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">cal</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$num1</span>, <span class="keyword">int</span> <span class="variable">$num2</span></span>): <span class="title">int</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">split</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$exp</span>, <span class="keyword">string</span> <span class="variable">$opt</span></span>): <span class="title">array</span></span>{</span><br><span class="line">        <span class="variable">$arr</span> = <span class="title function_ invoke__">explode</span>(<span class="variable">$opt</span>,<span class="variable">$exp</span>);</span><br><span class="line">        <span class="keyword">return</span> [<span class="title function_ invoke__">intval</span>(<span class="variable">$arr</span>[<span class="number">0</span>]),<span class="title function_ invoke__">intval</span>(<span class="variable">$arr</span>[<span class="number">1</span>])];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plus</span> <span class="keyword">extends</span> <span class="title">AbstractCalculator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">cal</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$num1</span>, <span class="keyword">int</span> <span class="variable">$num2</span></span>): <span class="title">int</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$num1</span> + <span class="variable">$num2</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$exp</span> = <span class="string">'2+8'</span>;</span><br><span class="line"><span class="variable">$cal</span> = <span class="keyword">new</span> <span class="title class_">Plus</span>();</span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$cal</span>-&gt;<span class="title function_ invoke__">calculate</span>(<span class="variable">$exp</span>, <span class="string">'+'</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$result</span>;</span><br><span class="line"><span class="comment">// output:  10</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”çŠ¶æ€æ¨¡å¼</title>
      <link href="/posts/state-pattern.html"/>
      <url>/posts/state-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹çŠ¶æ€æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">State</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params"></span>): <span class="title">string</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;value;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setValue</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$value</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;value = <span class="variable">$value</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"execute the first opt!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"execute the second opt!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Context</span></span>{</span><br><span class="line">    <span class="keyword">private</span> State <span class="variable">$state</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">State <span class="variable">$state</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;state = <span class="variable">$state</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getState</span>(<span class="params"></span>): <span class="title">State</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;state;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setState</span>(<span class="params">State <span class="variable">$state</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;state = <span class="variable">$state</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;state-&gt;<span class="title function_ invoke__">getValue</span>() == <span class="string">'state1'</span>){</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;state-&gt;<span class="title function_ invoke__">method1</span>();;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;state-&gt;<span class="title function_ invoke__">getValue</span>() == <span class="string">'state2'</span>){</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;state-&gt;<span class="title function_ invoke__">method2</span>();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$state</span> = <span class="keyword">new</span> <span class="title class_">State</span>();</span><br><span class="line"><span class="variable">$context</span> = <span class="keyword">new</span> <span class="title class_">Context</span>(<span class="variable">$state</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$state</span>-&gt;<span class="title function_ invoke__">setValue</span>(<span class="string">'state1'</span>);</span><br><span class="line"><span class="variable">$context</span>-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$state</span>-&gt;<span class="title function_ invoke__">setValue</span>(<span class="string">'state2'</span>);</span><br><span class="line"><span class="variable">$context</span>-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * execute the first opt!</span></span><br><span class="line"><span class="comment"> * execute the second opt!</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”ç­–ç•¥æ¨¡å¼</title>
      <link href="/posts/strategy-pattern.html"/>
      <url>/posts/strategy-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹ç­–ç•¥æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ICalculator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">calculate</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$exp</span></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractCalculator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">split</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$exp</span>,<span class="keyword">string</span> <span class="variable">$opt</span></span>): <span class="title">array</span></span>{</span><br><span class="line">        <span class="variable">$arr</span> = <span class="title function_ invoke__">explode</span>(<span class="variable">$opt</span>,<span class="variable">$exp</span>);</span><br><span class="line">        <span class="keyword">return</span> [<span class="title function_ invoke__">intval</span>(<span class="variable">$arr</span>[<span class="number">0</span>]),<span class="title function_ invoke__">intval</span>(<span class="variable">$arr</span>[<span class="number">1</span>])];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plus</span> <span class="keyword">extends</span> <span class="title">AbstractCalculator</span> <span class="keyword">implements</span> <span class="title">ICalculator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">calculate</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$exp</span></span>)</span>{</span><br><span class="line">        <span class="variable">$arr</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">split</span>(<span class="variable">$exp</span>,<span class="string">'+'</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$arr</span>[<span class="number">0</span>] + <span class="variable">$arr</span>[<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Minus</span> <span class="keyword">extends</span> <span class="title">AbstractCalculator</span> <span class="keyword">implements</span> <span class="title">ICalculator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">calculate</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$exp</span></span>)</span>{</span><br><span class="line">        <span class="variable">$arr</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">split</span>(<span class="variable">$exp</span>, <span class="string">'-'</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$arr</span>[<span class="number">0</span>] - <span class="variable">$arr</span>[<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Multiply</span> <span class="keyword">extends</span> <span class="title">AbstractCalculator</span> <span class="keyword">implements</span> <span class="title">ICalculator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">calculate</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$exp</span></span>)</span>{</span><br><span class="line">        <span class="variable">$arr</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">split</span>(<span class="variable">$exp</span>, <span class="string">'*'</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$arr</span>[<span class="number">0</span>] * <span class="variable">$arr</span>[<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$exp</span> = <span class="string">'2+8'</span>;</span><br><span class="line"><span class="variable">$cal</span> = <span class="keyword">new</span> <span class="title class_">Plus</span>();</span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$cal</span>-&gt;<span class="title function_ invoke__">calculate</span>(<span class="variable">$exp</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$result</span>; </span><br><span class="line"><span class="comment">// output:  10</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”ç®€å•å·¥å‚æ–¹æ³•æ¨¡å¼</title>
      <link href="/posts/simple-factory-pattern.html"/>
      <url>/posts/simple-factory-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>å‡¡æ˜¯å‡ºç°äº†å¤§é‡çš„äº§å“éœ€è¦åˆ›å»ºï¼Œå¹¶ä¸”å…·æœ‰å…±åŒçš„æ¥å£æ—¶ï¼Œå¯ä»¥é€šè¿‡å·¥å‚æ–¹æ³•æ¨¡å¼è¿›è¡Œåˆ›å»ºã€‚<br>å°±æ˜¯å»ºç«‹ä¸€ä¸ªå·¥å‚ç±»ï¼Œå¯¹å®ç°äº†åŒä¸€æ¥å£çš„ä¸€äº›ç±»è¿›è¡Œå®ä¾‹çš„åˆ›å»ºã€‚é¦–å…ˆçœ‹ä¸‹å…³ç³»å›¾ï¼š<br><img src="/images/simple-factory-pattern-1.jpg" alt=""></p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢è®²è§£ä¸‹é™æ€å·¥å‚æ–¹æ³•æ¨¡å¼çš„ä»£ç å®ç°</p><ol><li>åˆ›å»ºå…¬å…±æ¥å£<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Sender</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>åˆ›å»ºå®ç°ç±»<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MailSender</span> <span class="keyword">implements</span> <span class="title">Sender</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"mail send"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmsSender</span> <span class="keyword">implements</span> <span class="title">Sender</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"sms send"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li>åˆ›å»ºå·¥å‚ç±»<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SendFactory</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">produceMail</span>(<span class="params"></span>): <span class="title">Sender</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MailSender</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">produceSms</span>(<span class="params"></span>): <span class="title">Sender</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SmsSender</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><ul><li><p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸‹ï¼š</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FactoryTest</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable">$sender</span> = <span class="title class_">SendFactory</span>::<span class="title function_ invoke__">produceSms</span>();</span><br><span class="line">        <span class="variable">$sender</span>-&gt;<span class="title function_ invoke__">send</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight autoit"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sms <span class="built_in">send</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç¼ºé™·ï¼šç±»çš„åˆ›å»ºä¾èµ–å·¥å‚ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæƒ³è¦æ‹“å±•ç¨‹åºï¼Œå¿…é¡»å¯¹å·¥å‚ç±»è¿›è¡Œä¿®æ”¹ï¼Œè¿™è¿èƒŒäº†é—­åŒ…åŸåˆ™ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”ç»„åˆæ¨¡å¼</title>
      <link href="/posts/composite-pattern.html"/>
      <url>/posts/composite-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  åˆå«éƒ¨åˆ†-æ•´ä½“æ¨¡å¼,åœ¨å¤„ç†ç±»ä¼¼æ ‘å½¢ç»“æ„çš„é—®é¢˜æ—¶æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹ç»„åˆæ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">private</span> TreeNode <span class="variable">$parent</span>;</span><br><span class="line">    <span class="keyword">private</span> ?TreeNode <span class="variable">$children</span>=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$name</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>): <span class="title">string</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;name;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$name</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getParent</span>(<span class="params"></span>): <span class="title">TreeNode</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="built_in">parent</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setParent</span>(<span class="params">TreeNode <span class="variable">$parent</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="built_in">parent</span> = <span class="variable">$parent</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">TreeNode <span class="variable">$node</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;children = <span class="variable">$node</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//åˆ é™¤å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">TreeNode <span class="variable">$node</span></span>)</span>{</span><br><span class="line">        <span class="comment">//unset($this-&gt;children-&gt;{$node});</span></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;children-&gt;<span class="title function_ invoke__">remove</span>(<span class="variable">$node</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//å–å¾—å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getChildren</span>(<span class="params"></span>): ?<span class="title">TreeNode</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;children;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="variable">$root</span> = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="string">'A'</span>);</span><br><span class="line"><span class="variable">$nodeB</span> = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="string">'B'</span>);</span><br><span class="line"><span class="variable">$nodeC</span> = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="string">'C'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$nodeB</span>-&gt;<span class="title function_ invoke__">add</span>(<span class="variable">$nodeC</span>);</span><br><span class="line"><span class="variable">$root</span>-&gt;<span class="title function_ invoke__">add</span>(<span class="variable">$nodeB</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$root</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"build the tree finished!"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment">TreeNode Object</span></span><br><span class="line"><span class="comment">(</span></span><br><span class="line"><span class="comment">[name:TreeNode:private] =&gt; A</span></span><br><span class="line"><span class="comment">[children:TreeNode:private] =&gt; TreeNode Object</span></span><br><span class="line"><span class="comment">(</span></span><br><span class="line"><span class="comment">[name:TreeNode:private] =&gt; B</span></span><br><span class="line"><span class="comment">[children:TreeNode:private] =&gt; TreeNode Object</span></span><br><span class="line"><span class="comment">(</span></span><br><span class="line"><span class="comment">[name:TreeNode:private] =&gt; C</span></span><br><span class="line"><span class="comment">[children:TreeNode:private] =&gt;</span></span><br><span class="line"><span class="comment">)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">)</span></span><br><span class="line"><span class="comment">build the tree finished!</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>  ä½¿ç”¨åœºæ™¯ï¼šå°†å¤šä¸ªå¯¹è±¡ç»„åˆåœ¨ä¸€èµ·è¿›è¡Œæ“ä½œï¼Œå¸¸ç”¨äºè¡¨ç¤ºæ ‘å½¢ç»“æ„ä¸­ï¼Œä¾‹å¦‚äºŒå‰æ ‘ï¼Œæ•°ç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”è£…é¥°æ¨¡å¼</title>
      <link href="/posts/decorator-pattern.html"/>
      <url>/posts/decorator-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  è£…é¥°æ¨¡å¼å°±æ˜¯ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›æ–°çš„åŠŸèƒ½ï¼Œè€Œä¸”æ˜¯åŠ¨æ€çš„ï¼Œè¦æ±‚è£…é¥°å¯¹è±¡å’Œè¢«è£…é¥°å¯¹è±¡å®ç°åŒä¸€ä¸ªæ¥å£ï¼Œè£…é¥°å¯¹è±¡æŒæœ‰è¢«è£…é¥°å¯¹è±¡çš„å®ä¾‹ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹è£…é¥°æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Sourceç±»æ˜¯è¢«è£…é¥°ç±»ï¼ŒDecoratorç±»æ˜¯ä¸€ä¸ªè£…é¥°ç±»ï¼Œå¯ä»¥ä¸ºSourceç±»åŠ¨æ€çš„æ·»åŠ ä¸€äº›åŠŸèƒ½</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Source</span> <span class="keyword">implements</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"the original method!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Decorator</span> <span class="keyword">implements</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Sourceable <span class="variable">$source</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Sourceable <span class="variable">$source</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source = <span class="variable">$source</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"before decorator"</span> . PHP_EOL;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"after decorator"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line"><span class="variable">$source</span> = <span class="keyword">new</span> <span class="title class_">Source</span>();</span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> <span class="title class_">Decorator</span>(<span class="variable">$source</span>);</span><br><span class="line"><span class="variable">$obj</span>-&gt;<span class="title function_ invoke__">method</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment">before decorator</span></span><br><span class="line"><span class="comment">the original method!</span></span><br><span class="line"><span class="comment">after decorator</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>  è£…é¥°å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š<br>    1ã€éœ€è¦æ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½ã€‚<br>    2ã€åŠ¨æ€çš„ä¸ºä¸€ä¸ªå¯¹è±¡å¢åŠ åŠŸèƒ½ï¼Œè€Œä¸”è¿˜èƒ½åŠ¨æ€æ’¤é”€ã€‚ï¼ˆç»§æ‰¿ä¸èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œç»§æ‰¿çš„åŠŸèƒ½æ˜¯é™æ€çš„ï¼Œä¸èƒ½åŠ¨æ€å¢åˆ ã€‚ï¼‰<br>  ç¼ºç‚¹ï¼šäº§ç”Ÿè¿‡å¤šç›¸ä¼¼çš„å¯¹è±¡ï¼Œä¸æ˜“æ’é”™ï¼</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”è§‚å¯Ÿè€…æ¨¡å¼</title>
      <link href="/posts/observer-pattern.html"/>
      <url>/posts/observer-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹è§‚å¯Ÿè€…æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Observer</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observer1</span> <span class="keyword">implements</span> <span class="title">Observer</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"observer1 has received!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observer2</span> <span class="keyword">implements</span> <span class="title">Observer</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"observer2 has received!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Subject</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">Observer <span class="variable">$observer</span></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">del</span>(<span class="params">Observer <span class="variable">$observer</span></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">notifyObservers</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">operation</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractSubject</span> <span class="keyword">implements</span> <span class="title">Subject</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$vector</span> = [];</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">Observer <span class="variable">$observer</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;vector[] = <span class="variable">$observer</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">del</span>(<span class="params">Observer <span class="variable">$observer</span></span>)</span>{</span><br><span class="line">        <span class="variable">$index</span> = <span class="title function_ invoke__">array_search</span>(<span class="variable">$observer</span>,<span class="variable">$this</span>-&gt;vector);</span><br><span class="line">        <span class="keyword">unset</span>(<span class="variable language_">$this</span>-&gt;vector[<span class="variable">$index</span>]);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">notifyObservers</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="variable language_">$this</span>-&gt;vector <span class="keyword">as</span> <span class="variable">$value</span>){</span><br><span class="line">            <span class="variable">$value</span>-&gt;<span class="title function_ invoke__">update</span>();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubject</span> <span class="keyword">extends</span> <span class="title">AbstractSubject</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">operation</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"update self!"</span> . PHP_EOL;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">notifyObservers</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$sub</span> = <span class="keyword">new</span> <span class="title class_">MySubject</span>();</span><br><span class="line"><span class="variable">$sub</span>-&gt;<span class="title function_ invoke__">add</span>(<span class="keyword">new</span> <span class="title class_">Observer1</span>());</span><br><span class="line"><span class="variable">$sub</span>-&gt;<span class="title function_ invoke__">add</span>(<span class="keyword">new</span> <span class="title class_">Observer2</span>());</span><br><span class="line"><span class="variable">$sub</span>-&gt;<span class="title function_ invoke__">operation</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * update self!</span></span><br><span class="line"><span class="comment"> * observer1 has received!</span></span><br><span class="line"><span class="comment"> * observer2 has received!</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”è§£é‡Šå™¨æ¨¡å¼</title>
      <link href="/posts/interpreter-pattern.html"/>
      <url>/posts/interpreter-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹è§£é‡Šå™¨æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Expression</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">interpret</span>(<span class="params">Context <span class="variable">$context</span></span>): <span class="title">int</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plus</span> <span class="keyword">implements</span> <span class="title">Expression</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">interpret</span>(<span class="params">Context <span class="variable">$context</span></span>): <span class="title">int</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$context</span>-&gt;<span class="title function_ invoke__">getNum1</span>() + <span class="variable">$context</span>-&gt;<span class="title function_ invoke__">getNum2</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Minus</span> <span class="keyword">implements</span> <span class="title">Expression</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">interpret</span>(<span class="params">Context <span class="variable">$context</span></span>): <span class="title">int</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$context</span>-&gt;<span class="title function_ invoke__">getNum1</span>() - <span class="variable">$context</span>-&gt;<span class="title function_ invoke__">getNum2</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Context</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> <span class="variable">$num1</span>,<span class="variable">$num2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$num1</span>,<span class="keyword">int</span> <span class="variable">$num2</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;num1 = <span class="variable">$num1</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;num2 = <span class="variable">$num2</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getNum1</span>(<span class="params"></span>): <span class="title">int</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;num1;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setNum1</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$num1</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;num1 = <span class="variable">$num1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getNum2</span>(<span class="params"></span>): <span class="title">int</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;num2;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setNum2</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$num2</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;num2 = <span class="variable">$num2</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$result</span> = (<span class="keyword">new</span> <span class="title class_">Minus</span>())-&gt;<span class="title function_ invoke__">interpret</span>(<span class="keyword">new</span> <span class="title class_">Context</span>((<span class="keyword">new</span> <span class="title class_">Plus</span>())-&gt;<span class="title function_ invoke__">interpret</span>(<span class="keyword">new</span> <span class="title class_">Context</span>(<span class="number">9</span>,<span class="number">2</span>)),<span class="number">8</span>));</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$result</span>;</span><br><span class="line"><span class="comment">// output: 3</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”è®¿é—®è€…æ¨¡å¼</title>
      <link href="/posts/visitor-pattern.html"/>
      <url>/posts/visitor-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹è®¿é—®è€…æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Visitor</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visit</span>(<span class="params">Subject <span class="variable">$sub</span></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyVisitor</span> <span class="keyword">implements</span> <span class="title">Visitor</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visit</span>(<span class="params">Subject <span class="variable">$sub</span></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"visit the subjectï¼š"</span> . <span class="variable">$sub</span>-&gt;<span class="title function_ invoke__">getSubject</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Subject</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">accept</span>(<span class="params">Visitor <span class="variable">$visitor</span></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getSubject</span>(<span class="params"></span>): <span class="title">string</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubject</span> <span class="keyword">implements</span> <span class="title">Subject</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">accept</span>(<span class="params">Visitor <span class="variable">$visitor</span></span>)</span>{</span><br><span class="line">        <span class="variable">$visitor</span>-&gt;<span class="title function_ invoke__">visit</span>(<span class="variable">$this</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getSubject</span>(<span class="params"></span>): <span class="title">string</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"love"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$visitor</span> = <span class="keyword">new</span> <span class="title class_">MyVisitor</span>();</span><br><span class="line"><span class="variable">$sub</span> = <span class="keyword">new</span> <span class="title class_">MySubject</span>();</span><br><span class="line"><span class="variable">$sub</span>-&gt;<span class="title function_ invoke__">accept</span>(<span class="variable">$visitor</span>);</span><br><span class="line"><span class="comment">// output:  visit the subjectï¼šlove</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”è´£ä»»é“¾æ¨¡å¼</title>
      <link href="/posts/chain-of-responsibility-pattern.html"/>
      <url>/posts/chain-of-responsibility-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹è´£ä»»é“¾æ¨¡å¼çš„ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Handler</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">operation</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractHandler</span></span>{</span><br><span class="line">    <span class="keyword">private</span> ?Handler <span class="variable">$handler</span>=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHandler</span>(<span class="params"></span>): ?<span class="title">Handler</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;handler;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setHandler</span>(<span class="params">Handler <span class="variable">$handler</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;handler = <span class="variable">$handler</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHandler</span> <span class="keyword">extends</span> <span class="title">AbstractHandler</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">string</span> <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$name</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">operation</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">' deal!'</span> . PHP_EOL;</span><br><span class="line">        <span class="keyword">if</span> ((<span class="variable">$handler</span>=<span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getHandler</span>()) != <span class="literal">null</span>){</span><br><span class="line">            <span class="variable">$handler</span>-&gt;<span class="title function_ invoke__">operation</span>();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$h1</span> = <span class="keyword">new</span> <span class="title class_">MyHandler</span>(<span class="string">"h1"</span>);</span><br><span class="line"><span class="variable">$h2</span> = <span class="keyword">new</span> <span class="title class_">MyHandler</span>(<span class="string">"h2"</span>);</span><br><span class="line"><span class="variable">$h3</span> = <span class="keyword">new</span> <span class="title class_">MyHandler</span>(<span class="string">"h3"</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$h1</span>-&gt;<span class="title function_ invoke__">setHandler</span>(<span class="variable">$h2</span>);</span><br><span class="line"><span class="variable">$h2</span>-&gt;<span class="title function_ invoke__">setHandler</span>(<span class="variable">$h3</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$h1</span>-&gt;<span class="title function_ invoke__">operation</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * h1 deal! h2 deal! h3 deal!</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶çš„è®¾è®¡æ¨¡å¼</title>
      <link href="/posts/design-patterns.html"/>
      <url>/posts/design-patterns.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™"><a href="#è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™" class="headerlink" title="è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™"></a>è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™</h3><ul><li><p>æ€»åŸåˆ™ï¼šå¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰<br>å¼€é—­åŸåˆ™å°±æ˜¯è¯´å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œè€Œæ˜¯è¦æ‰©å±•åŸæœ‰ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚æ‰€ä»¥ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ç­‰ï¼Œåé¢çš„å…·ä½“è®¾è®¡ä¸­æˆ‘ä»¬ä¼šæåˆ°è¿™ç‚¹ã€‚</p></li><li><p>1ã€å•ä¸€èŒè´£åŸåˆ™<br>ä¸è¦å­˜åœ¨å¤šäºä¸€ä¸ªå¯¼è‡´ç±»å˜æ›´çš„åŸå› ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªç±»åº”è¯¥å®ç°å•ä¸€çš„èŒè´£ï¼Œå¦‚è‹¥ä¸ç„¶ï¼Œå°±åº”è¯¥æŠŠç±»æ‹†åˆ†ã€‚</p></li><li><p>2ã€é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰<br>é‡Œæ°ä»£æ¢åŸåˆ™(Liskov Substitution Principle LSP)é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ é‡Œæ°ä»£æ¢åŸåˆ™ä¸­è¯´ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚ LSPæ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“è¡ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œè½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œè¡ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹â€œå¼€-é—­â€åŸåˆ™çš„è¡¥å……ã€‚å®ç°â€œå¼€-é—­â€åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ã€‚è€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚<br>å†å²æ›¿æ¢åŸåˆ™ä¸­ï¼Œå­ç±»å¯¹çˆ¶ç±»çš„æ–¹æ³•å°½é‡ä¸è¦é‡å†™å’Œé‡è½½ã€‚å› ä¸ºçˆ¶ç±»ä»£è¡¨äº†å®šä¹‰å¥½çš„ç»“æ„ï¼Œé€šè¿‡è¿™ä¸ªè§„èŒƒçš„æ¥å£ä¸å¤–ç•Œäº¤äº’ï¼Œå­ç±»ä¸åº”è¯¥éšä¾¿ç ´åå®ƒã€‚</p></li><li><p>3ã€ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰<br>è¿™ä¸ªæ˜¯å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚å†™ä»£ç æ—¶ç”¨åˆ°å…·ä½“ç±»æ—¶ï¼Œä¸ä¸å…·ä½“ç±»äº¤äº’ï¼Œè€Œä¸å…·ä½“ç±»çš„ä¸Šå±‚æ¥å£äº¤äº’ã€‚</p></li><li><p>4ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰<br>è¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šæ¯ä¸ªæ¥å£ä¸­ä¸å­˜åœ¨å­ç±»ç”¨ä¸åˆ°å´å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œå¦‚æœä¸ç„¶ï¼Œå°±è¦å°†æ¥å£æ‹†åˆ†ã€‚ä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£ï¼ˆå¤šä¸ªæ¥å£æ–¹æ³•é›†åˆåˆ°ä¸€ä¸ªçš„æ¥å£ï¼‰è¦å¥½ã€‚</p></li><li><p>5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter Principleï¼‰<br>å°±æ˜¯è¯´ï¼šä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ã€‚ä¹Ÿå°±æ˜¯è¯´æ— è®ºè¢«ä¾èµ–çš„ç±»å¤šä¹ˆå¤æ‚ï¼Œéƒ½åº”è¯¥å°†é€»è¾‘å°è£…åœ¨æ–¹æ³•çš„å†…éƒ¨ï¼Œé€šè¿‡publicæ–¹æ³•æä¾›ç»™å¤–éƒ¨ã€‚è¿™æ ·å½“è¢«ä¾èµ–çš„ç±»å˜åŒ–æ—¶ï¼Œæ‰èƒ½æœ€å°çš„å½±å“è¯¥ç±»ã€‚</p></li></ul><p>æœ€å°‘çŸ¥é“åŸåˆ™çš„å¦ä¸€ä¸ªè¡¨è¾¾æ–¹å¼æ˜¯ï¼šåªä¸ç›´æ¥çš„æœ‹å‹é€šä¿¡ã€‚ç±»ä¹‹é—´åªè¦æœ‰è€¦åˆå…³ç³»ï¼Œå°±å«æœ‹å‹å…³ç³»ã€‚è€¦åˆåˆ†ä¸ºä¾èµ–ã€å…³è”ã€èšåˆã€ç»„åˆç­‰ã€‚æˆ‘ä»¬ç§°å‡ºç°ä¸ºæˆå‘˜å˜é‡ã€æ–¹æ³•å‚æ•°ã€æ–¹æ³•è¿”å›å€¼ä¸­çš„ç±»ä¸ºç›´æ¥æœ‹å‹ã€‚å±€éƒ¨å˜é‡ã€ä¸´æ—¶å˜é‡åˆ™ä¸æ˜¯ç›´æ¥çš„æœ‹å‹ã€‚æˆ‘ä»¬è¦æ±‚é™Œç”Ÿçš„ç±»ä¸è¦ä½œä¸ºå±€éƒ¨å˜é‡å‡ºç°åœ¨ç±»ä¸­ã€‚</p><ul><li>6ã€åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰<br>åŸåˆ™æ˜¯å°½é‡é¦–å…ˆä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚</li></ul><h3 id="è®¾è®¡æ¨¡å¼çš„åˆ†ç±»"><a href="#è®¾è®¡æ¨¡å¼çš„åˆ†ç±»" class="headerlink" title="è®¾è®¡æ¨¡å¼çš„åˆ†ç±»"></a>è®¾è®¡æ¨¡å¼çš„åˆ†ç±»</h3><p>æ€»ä½“æ¥è¯´è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼š</p><ul><li>åˆ›å»ºå‹æ¨¡å¼ï¼Œå…±äº”ç§ï¼š<a href="simple-factory-pattern.html" target="_blank">å·¥å‚æ–¹æ³•æ¨¡å¼</a>ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€<a href="singleton-pattern.html" target="_blank">å•ä¾‹æ¨¡å¼</a>ã€<a href="builder-pattern.html" target="_blank">å»ºé€ è€…æ¨¡å¼</a>ã€<a href="prototype-pattern.html" target="_blank">åŸå‹æ¨¡å¼</a>ã€‚</li><li>ç»“æ„å‹æ¨¡å¼ï¼Œå…±ä¸ƒç§ï¼š<a href="adapter-pattern.html" target="_blank">é€‚é…å™¨æ¨¡å¼</a>ã€<a href="decorator-pattern.html" target="_blank">è£…é¥°å™¨æ¨¡å¼</a>ã€<a href="proxy-pattern.html" target="_blank">ä»£ç†æ¨¡å¼</a>ã€<a href="facade-pattern.html" target="_blank">å¤–è§‚æ¨¡å¼</a>ã€<a href="bridge-pattern.html" target="_blank">æ¡¥æ¥æ¨¡å¼</a>ã€<a href="composite-pattern.html" target="_blank">ç»„åˆæ¨¡å¼</a>ã€<a href="flyweight-pattern.html" target="_blank">äº«å…ƒæ¨¡å¼</a>ã€‚</li><li>è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…±åä¸€ç§ï¼š<a href="strategy-pattern.html" target="_blank">ç­–ç•¥æ¨¡å¼</a>ã€<a href="template-method-pattern.html" target="_blank">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</a>ã€<a href="observer-pattern.html" target="_blank">è§‚å¯Ÿè€…æ¨¡å¼</a>ã€<a href="iterator-pattern.html" target="_blank">è¿­ä»£å­æ¨¡å¼</a>ã€<a href="chain-of-responsibility-pattern.html" target="_blank">è´£ä»»é“¾æ¨¡å¼</a>ã€<a href="command-pattern.html" target="_blank">å‘½ä»¤æ¨¡å¼</a>ã€<a href="memento-pattern.html" target="_blank">å¤‡å¿˜å½•æ¨¡å¼</a>ã€<a href="state-pattern.html" target="_blank">çŠ¶æ€æ¨¡å¼</a>ã€<a href="visitor-pattern.html" target="_blank">è®¿é—®è€…æ¨¡å¼</a>ã€<a href="mediator-pattern.html" target="_blank">ä¸­ä»‹è€…æ¨¡å¼</a>ã€<a href="interpreter-pattern.html" target="_blank">è§£é‡Šå™¨æ¨¡å¼</a>ã€‚</li><li>å…¶å®è¿˜æœ‰ä¸¤ç±»ï¼šå¹¶å‘å‹æ¨¡å¼å’Œçº¿ç¨‹æ± æ¨¡å¼ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”è¿­ä»£å™¨æ¨¡å¼</title>
      <link href="/posts/iterator-pattern.html"/>
      <url>/posts/iterator-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä¸‹é¢çœ‹ä¸‹ä»£ç å®ç°</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Collection</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">iterator</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$i</span></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">size</span>(<span class="params"></span>): <span class="title">int</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">previous</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hasNext</span>(<span class="params"></span>): <span class="title">bool</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">first</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCollection</span> <span class="keyword">implements</span> <span class="title">Collection</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> <span class="variable">$str</span> = <span class="string">'ABCDE'</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">iterator</span>(<span class="params"></span>): <span class="title">MyIterator</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyIterator</span>(<span class="variable language_">$this</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$i</span></span>): <span class="title">string</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;str[<span class="variable">$i</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">size</span>(<span class="params"></span>): <span class="title">int</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">strlen</span>(<span class="variable">$this</span>-&gt;str);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Collection <span class="variable">$collection</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> <span class="variable">$pos</span> = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Collection <span class="variable">$collection</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;collection = <span class="variable">$collection</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">previous</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;pos &gt; <span class="number">0</span>){</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;pos--;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;collection-&gt;<span class="title function_ invoke__">get</span>(<span class="variable">$this</span>-&gt;pos);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;pos &lt; <span class="variable language_">$this</span>-&gt;collection-&gt;<span class="title function_ invoke__">size</span>() - <span class="number">1</span>){</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;pos++;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;collection-&gt;<span class="title function_ invoke__">get</span>(<span class="variable">$this</span>-&gt;pos);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hasNext</span>(<span class="params"></span>): <span class="title">bool</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;pos &lt; <span class="variable language_">$this</span>-&gt;collection-&gt;<span class="title function_ invoke__">size</span>() - <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">first</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;pos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;collection-&gt;<span class="title function_ invoke__">get</span>(<span class="variable">$this</span>-&gt;pos);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$collection</span> = <span class="keyword">new</span> <span class="title class_">MyCollection</span>();</span><br><span class="line"><span class="variable">$it</span> = <span class="variable">$collection</span>-&gt;<span class="title function_ invoke__">iterator</span>();</span><br><span class="line"><span class="keyword">while</span> (<span class="variable">$it</span>-&gt;<span class="title function_ invoke__">hasNext</span>()){</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$it</span>-&gt;<span class="title function_ invoke__">next</span>().<span class="string">'&amp;nbsp;&amp;nbsp;'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// output: A  B  C  D  E</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼â€”â€”é€‚é…å™¨æ¨¡å¼</title>
      <link href="/posts/adapter-pattern.html"/>
      <url>/posts/adapter-pattern.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>  é€‚é…å™¨æ¨¡å¼å°†æŸä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£è¡¨ç¤ºï¼Œç›®çš„æ˜¯æ¶ˆé™¤ç”±äºæ¥å£ä¸åŒ¹é…æ‰€é€ æˆçš„ç±»çš„å…¼å®¹æ€§é—®é¢˜ã€‚ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šç±»çš„é€‚é…å™¨æ¨¡å¼ã€å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼ã€æ¥å£çš„é€‚é…å™¨æ¨¡å¼ã€‚</p><h3 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h3><h4 id="ç±»çš„é€‚é…å™¨æ¨¡å¼"><a href="#ç±»çš„é€‚é…å™¨æ¨¡å¼" class="headerlink" title="ç±»çš„é€‚é…å™¨æ¨¡å¼"></a>ç±»çš„é€‚é…å™¨æ¨¡å¼</h4><p>  æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼šæœ‰ä¸€ä¸ªSourceç±»ï¼Œæ‹¥æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¾…é€‚é…ï¼Œç›®æ ‡æ¥å£æ˜¯Targetableï¼Œé€šè¿‡Adapterç±»ï¼Œå°†Sourceçš„åŠŸèƒ½æ‰©å±•åˆ°Targetableé‡Œ</p><p>ç¤ºä¾‹<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Source</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'this is original method!'</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Targetable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//Adapterç±»ç»§æ‰¿Sourceç±»ï¼Œå®ç°Targetableæ¥å£ï¼Œè¿™æ ·Targetableæ¥å£çš„å®ç°ç±»å°±å…·æœ‰äº†Sourceç±»çš„åŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> <span class="keyword">extends</span> <span class="title">Source</span> <span class="keyword">implements</span> <span class="title">Targetable</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'this is the targetable method!'</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$target</span> = <span class="keyword">new</span> <span class="title class_">Adapter</span>();</span><br><span class="line"><span class="variable">$target</span>-&gt;<span class="title function_ invoke__">method1</span>();</span><br><span class="line"><span class="variable">$target</span>-&gt;<span class="title function_ invoke__">method2</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * this is original method!</span></span><br><span class="line"><span class="comment"> * this is the targetable method!</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼"><a href="#å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼" class="headerlink" title="å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼"></a>å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼</h4><p>  ä¸ç±»çš„é€‚é…å™¨æ¨¡å¼å¤§ä½“ç›¸åŒï¼Œåªæ˜¯é€‚é…çš„æ–¹æ³•ä¸åŒã€‚</p><p>ç¤ºä¾‹<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Source</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'this is original method!'</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Targetable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//Adapterç±»ä¸ç»§æ‰¿Sourceç±»ï¼Œè€Œæ˜¯æŒæœ‰Sourceç±»çš„å®ä¾‹ï¼Œä»¥è¾¾åˆ°è§£å†³å…¼å®¹æ€§çš„é—®é¢˜ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wrapper</span> <span class="keyword">implements</span> <span class="title">Targetable</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> Source <span class="variable">$source</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">Source <span class="variable">$source</span></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source = <span class="variable">$source</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'this is the targetable method!'</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;source-&gt;<span class="title function_ invoke__">method1</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="variable">$source</span> = <span class="keyword">new</span> <span class="title class_">Source</span>();</span><br><span class="line"><span class="variable">$target</span> = <span class="keyword">new</span> <span class="title class_">Wrapper</span>(<span class="variable">$source</span>);</span><br><span class="line"><span class="variable">$target</span>-&gt;<span class="title function_ invoke__">method1</span>();</span><br><span class="line"><span class="variable">$target</span>-&gt;<span class="title function_ invoke__">method2</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * this is original method!</span></span><br><span class="line"><span class="comment"> * this is the targetable method!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="æ¥å£çš„é€‚é…å™¨æ¨¡å¼"><a href="#æ¥å£çš„é€‚é…å™¨æ¨¡å¼" class="headerlink" title="æ¥å£çš„é€‚é…å™¨æ¨¡å¼"></a>æ¥å£çš„é€‚é…å™¨æ¨¡å¼</h4><p>  æ¥å£çš„é€‚é…å™¨æ˜¯è¿™æ ·çš„ï¼šæœ‰æ—¶æˆ‘ä»¬å†™çš„ä¸€ä¸ªæ¥å£ä¸­æœ‰å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå½“æˆ‘ä»¬å†™è¯¥æ¥å£çš„å®ç°ç±»æ—¶ï¼Œå¿…é¡»å®ç°è¯¥æ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œè¿™æ˜æ˜¾æœ‰æ—¶æ¯”è¾ƒæµªè´¹ï¼Œå› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œæœ‰æ—¶åªéœ€è¦æŸä¸€äº›ï¼Œæ­¤å¤„ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†æ¥å£çš„é€‚é…å™¨æ¨¡å¼ï¼Œå€ŸåŠ©äºä¸€ä¸ªæŠ½è±¡ç±»ï¼Œè¯¥æŠ½è±¡ç±»å®ç°äº†è¯¥æ¥å£ï¼Œå®ç°äº†æ‰€æœ‰çš„æ–¹æ³•ï¼Œè€Œæˆ‘ä»¬ä¸å’ŒåŸå§‹çš„æ¥å£æ‰“äº¤é“ï¼Œåªå’Œè¯¥æŠ½è±¡ç±»å–å¾—è”ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬å†™ä¸€ä¸ªç±»ï¼Œç»§æ‰¿è¯¥æŠ½è±¡ç±»ï¼Œé‡å†™æˆ‘ä»¬éœ€è¦çš„æ–¹æ³•å°±è¡Œã€‚</p><p>ç¤ºä¾‹<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Wrapper</span> <span class="keyword">implements</span> <span class="title">Sourceable</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>{}</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>{}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SourceSub1</span> <span class="keyword">extends</span> <span class="title">Wrapper</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method1</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"the sourceable interface's first Sub1!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SourceSub2</span> <span class="keyword">extends</span> <span class="title">Wrapper</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method2</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"ths sourceable interface's second Sub2!"</span> . PHP_EOL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line"><span class="variable">$source1</span> = <span class="keyword">new</span> <span class="title class_">SourceSub1</span>();</span><br><span class="line"><span class="variable">$source2</span> = <span class="keyword">new</span> <span class="title class_">SourceSub2</span>();</span><br><span class="line"><span class="variable">$source1</span>-&gt;<span class="title function_ invoke__">method1</span>();</span><br><span class="line"><span class="variable">$source1</span>-&gt;<span class="title function_ invoke__">method2</span>();</span><br><span class="line"><span class="variable">$source2</span>-&gt;<span class="title function_ invoke__">method1</span>();</span><br><span class="line"><span class="variable">$source2</span>-&gt;<span class="title function_ invoke__">method2</span>();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * output:</span></span><br><span class="line"><span class="comment"> * the sourceable interface's first Sub1!</span></span><br><span class="line"><span class="comment"> * ths sourceable interface's second Sub2!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>  ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼šå½“å¸Œæœ›å°†ä¸€ä¸ªç±»è½¬æ¢æˆæ»¡è¶³å¦ä¸€ä¸ªæ–°æ¥å£çš„ç±»æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼Œåˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼Œç»§æ‰¿åŸæœ‰çš„ç±»ï¼Œå®ç°æ–°çš„æ¥å£å³å¯ã€‚<br>  å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼ï¼šå½“å¸Œæœ›å°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆæ»¡è¶³å¦ä¸€ä¸ªæ–°æ¥å£çš„å¯¹è±¡æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªWrapperç±»ï¼ŒæŒæœ‰åŸç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œåœ¨Wrapperç±»çš„æ–¹æ³•ä¸­ï¼Œè°ƒç”¨å®ä¾‹çš„æ–¹æ³•å°±è¡Œã€‚<br>  æ¥å£çš„é€‚é…å™¨æ¨¡å¼ï¼šå½“ä¸å¸Œæœ›å®ç°ä¸€ä¸ªæ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»Wrapperï¼Œå®ç°æ‰€æœ‰æ–¹æ³•ï¼Œæˆ‘ä»¬å†™åˆ«çš„ç±»çš„æ—¶å€™ï¼Œç»§æ‰¿æŠ½è±¡ç±»å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisç¬”è®°</title>
      <link href="/posts/redis-note.html"/>
      <url>/posts/redis-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å®‰è£…rediså®¢æˆ·ç«¯"><a href="#å®‰è£…rediså®¢æˆ·ç«¯" class="headerlink" title="å®‰è£…rediså®¢æˆ·ç«¯"></a>å®‰è£…rediså®¢æˆ·ç«¯</h3><p><code>yum install redis</code></p><h3 id="æŸ¥çœ‹ç‰ˆæœ¬å·"><a href="#æŸ¥çœ‹ç‰ˆæœ¬å·" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬å·"></a>æŸ¥çœ‹ç‰ˆæœ¬å·</h3><p><code>info</code><br><img src="/images/redis_note_1.png" alt=""></p><h3 id="é€šè¿‡å‘½ä»¤è¡Œæ–¹å¼è¿æ¥redis"><a href="#é€šè¿‡å‘½ä»¤è¡Œæ–¹å¼è¿æ¥redis" class="headerlink" title="é€šè¿‡å‘½ä»¤è¡Œæ–¹å¼è¿æ¥redis"></a>é€šè¿‡å‘½ä»¤è¡Œæ–¹å¼è¿æ¥redis</h3><p><code>redis-cli -h host -p port -a password</code><br>host:è¿œç¨‹redisæœåŠ¡å™¨host<br>port:è¿œç¨‹redisæœåŠ¡ç«¯å£<br>password:è¿œç¨‹redisæœåŠ¡å¯†ç ï¼ˆæ— å¯†ç çš„çš„è¯å°±ä¸éœ€è¦-aå‚æ•°äº†ï¼‰<br><img src="/images/redis_note_2.png" alt=""></p><h3 id="redisæ‰§è¡Œluaè„šæœ¬"><a href="#redisæ‰§è¡Œluaè„šæœ¬" class="headerlink" title="redisæ‰§è¡Œluaè„šæœ¬"></a>redisæ‰§è¡Œluaè„šæœ¬</h3><p><img src="/images/redis_note_3.png" alt=""><br><img src="/images/redis_note_4.png" alt=""></p><h3 id="monitorç›‘æ§"><a href="#monitorç›‘æ§" class="headerlink" title="monitorç›‘æ§"></a>monitorç›‘æ§</h3><p>åœ¨é¡¹ç›®ä¸­æœ‰æ—¶å€™éœ€è¦æŸ¥çœ‹æŸä¸ªredisæ•°æ®çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨monitoræ¥ç›‘æ§<br><img src="/images/redis_monitor_1.png" alt=""><br>ä¸Šè¿°ä»£ç æ˜¯åœ¨redisé‡Œç›‘æ§keyåŒ…å«<code>pay_center_pay_methods</code>çš„ä¿¡æ¯ï¼Œå‘ç°åœ¨db3é‡Œæœ‰è¢«getä¸€æ¬¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpStormå¸¸ç”¨å¿«æ·é”®</title>
      <link href="/posts/phpstorm-quick-key.html"/>
      <url>/posts/phpstorm-quick-key.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="åˆ é™¤æŸè¡Œ"><a href="#åˆ é™¤æŸè¡Œ" class="headerlink" title="åˆ é™¤æŸè¡Œ"></a>åˆ é™¤æŸè¡Œ</h3><p>ctrl+Y</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> phpStorm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³phpStormæ— æ³•æ˜¾ç¤ºç›®å½•ç»“æ„çš„é—®é¢˜</title>
      <link href="/posts/phpstorm-show-dir.html"/>
      <url>/posts/phpstorm-show-dir.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>é—®é¢˜ï¼šPhpStormä¾§è¾¹æ Projecté‡Œé¢åªæ˜¾ç¤ºæ–‡ä»¶ä¸æ˜¾ç¤ºæ–‡ä»¶å¤¹<br><img src="/images/phpstorm_show_dir_1.png" alt=""></p><p>è§£å†³ï¼šåˆ é™¤é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„.ideaæ–‡ä»¶å¤¹ï¼Œé‡å¯Phpstormæ‰“å¼€é¡¹ç›®ç›®å½•ã€‚Alt + 1è°ƒå‡ºå·¦ä¾§çš„ç›®å½•<br><img src="/images/phpstorm_show_dir_2.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> phpStorm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpStormä½¿ç”¨ç¬”è®°</title>
      <link href="/posts/phpstorm-notes.html"/>
      <url>/posts/phpstorm-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="phpStormæ˜¾ç¤ºç±»çš„å‡½æ•°æˆ–æ–¹æ³•åˆ—è¡¨"><a href="#phpStormæ˜¾ç¤ºç±»çš„å‡½æ•°æˆ–æ–¹æ³•åˆ—è¡¨" class="headerlink" title="phpStormæ˜¾ç¤ºç±»çš„å‡½æ•°æˆ–æ–¹æ³•åˆ—è¡¨"></a>phpStormæ˜¾ç¤ºç±»çš„å‡½æ•°æˆ–æ–¹æ³•åˆ—è¡¨</h4><p> ç‚¹å‡»å·¦ä¸‹æ–¹çš„Structureå³å¯<br><img src="/images/phpstorm_notes_1.png" alt=""></p><h4 id="è®¾ç½®åœ¨æ–°çª—å£æ‰“å¼€é¡¹ç›®"><a href="#è®¾ç½®åœ¨æ–°çª—å£æ‰“å¼€é¡¹ç›®" class="headerlink" title="è®¾ç½®åœ¨æ–°çª—å£æ‰“å¼€é¡¹ç›®"></a>è®¾ç½®åœ¨æ–°çª—å£æ‰“å¼€é¡¹ç›®</h4><p> åœ¨File=&gt;Settings=&gt;Appearance &amp; Behavior=&gt;System Settingsä¸­è®¾ç½®<br><img src="/images/phpstorm_notes_2.png" alt=""></p><h4 id="ä¿®æ”¹å­—ä½“çš„é£æ ¼å’Œå¤§å°"><a href="#ä¿®æ”¹å­—ä½“çš„é£æ ¼å’Œå¤§å°" class="headerlink" title="ä¿®æ”¹å­—ä½“çš„é£æ ¼å’Œå¤§å°"></a>ä¿®æ”¹å­—ä½“çš„é£æ ¼å’Œå¤§å°</h4><p> åœ¨File=&gt;Setting=&gt;Editor/Fontä¸­è®¾ç½®<br><img src="/images/phpstorm_notes_3.png" alt=""></p><h4 id="åœ¨phpstormä¸­å†™lua"><a href="#åœ¨phpstormä¸­å†™lua" class="headerlink" title="åœ¨phpstormä¸­å†™lua"></a>åœ¨phpstormä¸­å†™lua</h4><p> å¯ä»¥å®‰è£…æ’ä»¶<a href="https://github.com/EmmyLua/IntelliJ-EmmyLua">EmmyLua</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> phpStorm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DOSå‘½ä»¤è¿›å…¥MySQL</title>
      <link href="/posts/use-mysql-on-dos.html"/>
      <url>/posts/use-mysql-on-dos.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-å…ˆè¿›å…¥mysqlå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•ä¸­"><a href="#1-å…ˆè¿›å…¥mysqlå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•ä¸­" class="headerlink" title="1. å…ˆè¿›å…¥mysqlå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•ä¸­"></a>1. å…ˆè¿›å…¥mysqlå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•ä¸­</h3><p><img src="/images/doc_mysql_1.png" alt=""></p><h3 id="2-æ‰§è¡Œå‘½ä»¤"><a href="#2-æ‰§è¡Œå‘½ä»¤" class="headerlink" title="2. æ‰§è¡Œå‘½ä»¤"></a>2. æ‰§è¡Œå‘½ä»¤</h3><p><code>mysql -hlocalhost -uroot -p</code><br>æŒ‰è¦æ±‚è¾“å…¥å¯†ç ï¼Œå›è½¦å³å¯ã€‚<br><img src="/images/doc_mysql_2.png" alt=""></p><h3 id="3-æ‰§è¡Œå‘½ä»¤æ“ä½œæ•°æ®åº“"><a href="#3-æ‰§è¡Œå‘½ä»¤æ“ä½œæ•°æ®åº“" class="headerlink" title="3. æ‰§è¡Œå‘½ä»¤æ“ä½œæ•°æ®åº“"></a>3. æ‰§è¡Œå‘½ä»¤æ“ä½œæ•°æ®åº“</h3><p>å¦‚ï¼šæ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®åº“<br><img src="/images/doc_mysql_3.png" alt=""></p><h3 id="4-é€€å‡ºmysqlæ•°æ®åº“"><a href="#4-é€€å‡ºmysqlæ•°æ®åº“" class="headerlink" title="4. é€€å‡ºmysqlæ•°æ®åº“"></a>4. é€€å‡ºmysqlæ•°æ®åº“</h3><p>exitå›è½¦å³å¯<br><img src="/images/doc_mysql_4.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DOSå‘½ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä¸­çš„binlog</title>
      <link href="/posts/mysql-binlog.html"/>
      <url>/posts/mysql-binlog.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å¦‚ä½•æŸ¥çœ‹binlogæ—¥å¿—"><a href="#å¦‚ä½•æŸ¥çœ‹binlogæ—¥å¿—" class="headerlink" title="å¦‚ä½•æŸ¥çœ‹binlogæ—¥å¿—"></a>å¦‚ä½•æŸ¥çœ‹binlogæ—¥å¿—</h3><h4 id="1-å¼€å¯binlog"><a href="#1-å¼€å¯binlog" class="headerlink" title="1. å¼€å¯binlog"></a>1. å¼€å¯binlog</h4><ul><li>åœ¨my.iniæ–‡ä»¶[mysqld]é‡Œæ·»åŠ <code>log_bin=mysql-bin</code>ï¼Œå€¼ mysql-bin æ˜¯æ—¥å¿—çš„åŸºæœ¬åæˆ–å‰ç¼€å</li><li>é€šè¿‡mysqlçš„å˜é‡é…ç½®è¡¨ï¼ŒæŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—æ˜¯å¦å·²å¼€å¯<br><img src="/images/mysql_binlog_1.png" alt=""></li><li>æŸ¥çœ‹MySQLçš„binlogæ¨¡å¼<br><img src="/images/mysql_binlog_2.png" alt=""><br>åœ¨æŸ¥çœ‹binlogçš„æ—¶å€™å¯èƒ½ä¼šé‡åˆ°é”™è¯¯ï¼š<code>mysqlbinlog: [ERROR] unknown variable 'default-character-set=utf8'</code><br><img src="/images/mysql_binlog_3.png" alt=""><br>åŸå› æ˜¯mysqlbinlogè¿™ä¸ªå·¥å…·æ— æ³•è¯†åˆ«binlogä¸­çš„é…ç½®ä¸­çš„default-character-set=utf8è¿™ä¸ªæŒ‡ä»¤ã€‚<br>ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜<br>A. åœ¨MySQLçš„é…ç½®/etc/my.cnfä¸­å°†<code>default-character-set=utf8</code> ä¿®æ”¹ä¸º<br><code>character-set-server = utf8</code>ï¼Œä½†æ˜¯è¿™éœ€è¦é‡å¯MySQLæœåŠ¡ï¼Œå¦‚æœä½ çš„MySQLæœåŠ¡æ­£åœ¨å¿™ï¼Œé‚£è¿™æ ·çš„ä»£ä»·ä¼šæ¯”è¾ƒå¤§ã€‚<br>B. ç”¨mysqlbinlog â€”no-defaults mysql-bin.000001 å‘½ä»¤æ‰“å¼€<br><img src="/images/mysql_binlog_4.png" alt=""></li></ul><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="https://blog.csdn.net/weixin_43944305/article/details/108620849">https://blog.csdn.net/weixin_43944305/article/details/108620849</a><br><a href="https://www.kancloud.cn/wenshunbiao/wenshunbiao/1403850">https://www.kancloud.cn/wenshunbiao/wenshunbiao/1403850</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> binlog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP5æ¡†æ¶whereæ¡ä»¶ä¸­å«æœ‰orçš„ä½¿ç”¨æ–¹æ³•</title>
      <link href="/posts/thinkphp-where.html"/>
      <url>/posts/thinkphp-where.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-ç›´æ¥whereOr"><a href="#1-ç›´æ¥whereOr" class="headerlink" title="1. ç›´æ¥whereOr"></a>1. ç›´æ¥whereOr</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$list</span> = <span class="title class_">Db</span>::<span class="title function_ invoke__">name</span>(<span class="string">'tb'</span>)-&gt;<span class="title function_ invoke__">where</span>([<span class="string">'status'</span>=&gt;<span class="number">1</span>,<span class="string">'admin_id'</span>=&gt;<span class="number">5</span>])-&gt;<span class="title function_ invoke__">whereOr</span>([<span class="string">'type'</span>=&gt;<span class="number">1</span>,<span class="string">'step'</span>=&gt;<span class="number">2</span>])-&gt;<span class="title function_ invoke__">select</span>();</span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„sqlä¸ºï¼šselect * from `tb` where `status`=1 and `admin_id`=5 or (`type`=1 or `step`=2);</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-é‡‡ç”¨é—­åŒ…çš„æ–¹å¼"><a href="#2-é‡‡ç”¨é—­åŒ…çš„æ–¹å¼" class="headerlink" title="2. é‡‡ç”¨é—­åŒ…çš„æ–¹å¼"></a>2. é‡‡ç”¨é—­åŒ…çš„æ–¹å¼</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$map</span> = [<span class="string">'status'</span>=&gt;<span class="number">1</span>,<span class="string">'admin_id'</span>=&gt;<span class="number">5</span>];</span><br><span class="line"><span class="variable">$orMap</span> = [<span class="string">'type'</span>=&gt;<span class="number">1</span>,<span class="string">'step'</span>=&gt;<span class="number">2</span>];</span><br><span class="line"><span class="variable">$list</span> = <span class="title class_">Db</span>::<span class="title function_ invoke__">name</span>(<span class="string">'tb'</span>)-&gt;<span class="title function_ invoke__">where</span>(function (<span class="variable">$query</span>) <span class="keyword">use</span> ($<span class="title">map</span>) {</span><br><span class="line">    $<span class="title">query</span>-&gt;<span class="title">where</span>($<span class="title">map</span>);</span><br><span class="line">})-&gt;<span class="title function_ invoke__">whereOr</span>(function (<span class="variable">$query</span>) <span class="keyword">use</span> ($<span class="title">orMap</span>) {</span><br><span class="line">    $<span class="title">query</span>-&gt;<span class="title">where</span>($<span class="title">orMap</span>);</span><br><span class="line">})-&gt;<span class="title function_ invoke__">order</span>(<span class="string">'id desc'</span>)-&gt;<span class="title function_ invoke__">select</span>();</span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„sqlä¸ºï¼šselect * from `tb` where (`status`=1 and `admin_id`=5) or (`type`=1 and `step`=2);</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å¤æ‚çš„æŸ¥è¯¢é‡Œï¼Œæˆ‘ä»¬æ›´å¤šçš„æ˜¯ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­æ•°ç»„å†…å®¹ä¾æ¬¡èµ‹å€¼ç»™å˜é‡</title>
      <link href="/posts/php-assign-array-values.html"/>
      <url>/posts/php-assign-array-values.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸éœ€è¦æŠŠæ•°ç»„ä¸­çš„å†…å®¹ä¾æ¬¡èµ‹å€¼ç»™å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨listã€[]ã€extractæ¥å¤„ç†ã€‚</p><h3 id="1-list-var1-var2â€¦-arr"><a href="#1-list-var1-var2â€¦-arr" class="headerlink" title="1. list($var1,$var2â€¦) = $arr;"></a>1. list($var1,$var2â€¦) = $arr;</h3><p>   æˆ–è€…[$var1,$var2â€¦] = $arr;<br>   å°†æ•°ç»„ä¸­çš„å€¼èµ‹ç»™ä¸€äº›å˜é‡<br>   è¯¥å‡½æ•°åªèƒ½ç”¨äºç´¢å¼•æ•°ç»„ï¼Œä¸”æ•°å­—ç´¢å¼•ä»0å¼€å§‹ã€‚<br>   å¦‚æœå¯¹åº”çš„æ•°å­—ä¸‹æ ‡ï¼Œåˆ™è¯¥å˜é‡èµ‹å€¼ä¸ºnull</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">list</span>(<span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span>) = [<span class="string">'Jone'</span>, <span class="string">'Jam'</span>, <span class="string">'Kav'</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span>);       <span class="comment">//outputï¼šstring(4) "Jone" string(3) "Jam" string(3) "Kav"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">list</span>(<span class="variable">$a</span>, <span class="variable">$b</span>) = [<span class="string">'Jone'</span>, <span class="string">'Jam'</span>, <span class="string">'Kav'</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span>, <span class="variable">$b</span>);           <span class="comment">//outputï¼šstring(4) "Jone" string(3) "Jam"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">list</span>(<span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span>) = [<span class="number">2</span> =&gt; <span class="string">'Jone'</span>, <span class="number">3</span> =&gt; <span class="string">'Jam'</span>, <span class="number">4</span> =&gt; <span class="string">'Kav'</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span>);       <span class="comment">//outputï¼šNULL NULL string(4) "Jone"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">list</span>(<span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span>) = [<span class="string">'id'</span> =&gt; <span class="number">4</span>, <span class="number">2</span> =&gt; <span class="string">'Jam'</span>, <span class="string">'name'</span> =&gt; <span class="string">'Kav'</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span>);       <span class="comment">//outputï¼šNULL NULL string(3) "Jam"</span></span><br></pre></td></tr></tbody></table></figure><p>   list()å¦‚æœéœ€è¦è·³è¿‡æŸäº›å€¼<br></p><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$info</span> = [<span class="string">'coffee'</span>, <span class="string">'brown'</span>, <span class="string">'caffeine'</span>];</span><br><span class="line">[,<span class="variable">$a</span>,] = <span class="variable">$info</span>;</span><br><span class="line">var_dump(<span class="variable">$a</span>);<span class="regexp">//</span> string(<span class="number">5</span>) <span class="string">"brown"</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="2-extract-array-extract-rules-prefix"><a href="#2-extract-array-extract-rules-prefix" class="headerlink" title="2. extract(array,extract_rules,prefix);"></a>2. extract(array,extract_rules,prefix);</h3><p>   ä»æ•°ç»„ä¸­å°†å˜é‡å¯¼å…¥åˆ°å½“å‰çš„ç¬¦å·è¡¨<br>   è¯¥å‡½æ•°ä½¿ç”¨æ•°ç»„é”®åä½œä¸ºå˜é‡åï¼Œä½¿ç”¨æ•°ç»„é”®å€¼ä½œä¸ºå˜é‡å€¼ï¼Œè¿›è¡Œä¾æ¬¡èµ‹å€¼<br></p><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">extract([<span class="string">'id'</span> =&gt; <span class="number">3</span>, <span class="string">'name'</span> =&gt; <span class="string">'Hoj'</span>]);</span><br><span class="line">/**</span><br><span class="line"> * åœ¨IDEä¸­ä¼šæç¤ºé”™è¯¯ï¼ŒåŠ ä¸Šæ³¨é‡Šå³å¯</span><br><span class="line"> * @var <span class="variable">$id</span></span><br><span class="line"> * @var <span class="variable">$name</span></span><br><span class="line"> */</span><br><span class="line">var_dump(<span class="variable">$id</span>, <span class="variable">$name</span>);       <span class="regexp">//</span>outputï¼šint(<span class="number">3</span>) string(<span class="number">3</span>) <span class="string">"Hoj"</span></span><br><span class="line"></span><br><span class="line">extract([<span class="number">3</span>, <span class="string">'name'</span> =&gt; <span class="string">'Hoj'</span>]);</span><br><span class="line">var_dump(<span class="variable">$name</span>);            <span class="regexp">//</span>outputï¼šstring(<span class="number">3</span>) <span class="string">"Hoj"</span></span><br></pre></td></tr></tbody></table></figure><br>æ€»ç»“ï¼šä¸€èˆ¬ç´¢å¼•æ•°ç»„ç”¨listï¼Œå…³è”æ•°ç»„ç”¨extractã€‚<p></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹å¿«é€Ÿæ‹†åˆ†txtæ–‡ä»¶</title>
      <link href="/posts/windows-quick-split-file.html"/>
      <url>/posts/windows-quick-split-file.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœ‰æ—¶å€™ï¼Œéœ€è¦æŠŠä¸€ä¸ªå¤§çš„txtæ–‡ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªå°æ–‡ä»¶ï¼Œå¹¶è¡Œå¤„ç†æ–‡ä»¶é‡Œçš„å†…å®¹ï¼Œæ¥æé«˜å·¥ä½œæ•ˆç‡ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹åœ¨windowsä¸‹çš„æ‹†åˆ†æ–¹æ³•ã€‚</p><p>ç°åœ¨æœ‰ä¸ªa.txtæ–‡ä»¶ï¼Œé‡Œé¢æœ‰è‹¥å¹²è¡Œå†…å®¹ï¼Œç°è¦æ‹†åˆ†ä¸ºå¤šä¸ªå°æ–‡ä»¶<br><img src="/images/split_txt_1.png" alt=""></p><h2 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h2><h3 id="1ã€åœ¨æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰“å¼€git-bashï¼›"><a href="#1ã€åœ¨æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰“å¼€git-bashï¼›" class="headerlink" title="1ã€åœ¨æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰“å¼€git bashï¼›"></a>1ã€åœ¨æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰“å¼€git bashï¼›</h3><h3 id="2ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹"><a href="#2ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹" class="headerlink" title="2ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹"></a>2ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</h3><p><img src="/images/split_txt_2.png" alt=""></p><h3 id="3ã€æ‰§è¡Œå‘½ä»¤"><a href="#3ã€æ‰§è¡Œå‘½ä»¤" class="headerlink" title="3ã€æ‰§è¡Œå‘½ä»¤"></a>3ã€æ‰§è¡Œå‘½ä»¤</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">split</span> -l 5 -d -a 1 a.txt tmp/m_ &amp;&amp; <span class="built_in">cd</span> tmp/ &amp;&amp; <span class="built_in">ls</span>|grep m_|xargs -n1 -i{} <span class="built_in">mv</span>  {} {}.txt</span><br></pre></td></tr></tbody></table></figure><p>å‘½ä»¤åˆ†è§£ï¼š<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-l 5 ï¼šæŒ‰è¡Œåˆ†å‰²ï¼Œæ¯ä¸ªæ–‡ä»¶5è¡Œ</span><br><span class="line">-d ï¼šæ·»åŠ æ•°å­—åç¼€ï¼Œå¦‚00,01</span><br><span class="line">-a 1 : ç”¨ä¸€ä½æ•°æ®æ¥é¡ºåºå‘½å(ä»0å¼€å§‹)</span><br><span class="line">tmp/ ï¼šæ‹†åˆ†åçš„æ–‡ä»¶æ”¾åœ¨tmpç›®å½•ä¸‹</span><br><span class="line">m_ ï¼šæ‹†åˆ†åçš„æ–‡ä»¶åå‰ç¼€</span><br><span class="line">&amp;&amp; <span class="built_in">cd</span> tmp/ &amp;&amp; <span class="built_in">ls</span>|grep m_|xargs -n1 -i{} <span class="built_in">mv</span>  {} {}.txt ï¼šè¿›å…¥tmpç›®å½•ï¼Œå¯¹æ‹†åˆ†åçš„æ–‡ä»¶æ·»åŠ æ‰©å±•åtxt(é»˜è®¤ç”Ÿæˆçš„æ–‡ä»¶æ˜¯æ²¡æœ‰æ‰©å±•åçš„)</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="4ã€åœ¨tmpç›®å½•ä¸‹å°±çœ‹åˆ°ç”Ÿæˆçš„æ–‡ä»¶äº†"><a href="#4ã€åœ¨tmpç›®å½•ä¸‹å°±çœ‹åˆ°ç”Ÿæˆçš„æ–‡ä»¶äº†" class="headerlink" title="4ã€åœ¨tmpç›®å½•ä¸‹å°±çœ‹åˆ°ç”Ÿæˆçš„æ–‡ä»¶äº†"></a>4ã€åœ¨tmpç›®å½•ä¸‹å°±çœ‹åˆ°ç”Ÿæˆçš„æ–‡ä»¶äº†</h3><p><img src="/images/split_txt_3.png" alt=""></p><p>æ³¨ï¼šå¯¹xlsxæ–‡ä»¶æ‹†åˆ†æœ‰é—®é¢˜</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä¸­ä¸å¤ªå¸¸ç”¨çš„å‡½æ•°</title>
      <link href="/posts/php-unusual-functions.html"/>
      <url>/posts/php-unusual-functions.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-constant"><a href="#1-constant" class="headerlink" title="1. constant()"></a>1. constant()</h3><p>   è¿”å›å¸¸é‡çš„å€¼<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">'DEV'</span>,<span class="string">'test'</span>);</span><br><span class="line"></span><br><span class="line">var_dump(constant(<span class="string">'DEV'</span>));       //string(4) <span class="string">"test"</span>     ç­‰åŒäºvar_dump(DEV);</span><br><span class="line">var_dump(constant(<span class="string">'SORT_ASC'</span>));  //int(4)    ç­‰åŒäºvar_dump(SORT_ASC);</span><br><span class="line">var_dump(constant(SORT_ASC));    //NULL</span><br><span class="line">var_dump(TEST);                  //string(4) <span class="string">"TEST"</span></span><br></pre></td></tr></tbody></table></figure><br>   ä¸ªäººæ„Ÿè§‰ä½œç”¨ä¸å¤§ï¼Œè¿˜ä¸å¦‚ç›´æ¥ä½¿ç”¨å¸¸é‡å‘¢ï¼Œæœ€å¤šä¹Ÿå°±æ˜¯åˆ¤æ–­å¸¸é‡æ˜¯å¦è¢«å®šä¹‰ã€‚<p></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP5 ä¸­orderçš„ä½¿ç”¨</title>
      <link href="/posts/thinkphp-order.html"/>
      <url>/posts/thinkphp-order.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¹‹å‰ä¸€ç›´åœ¨ä½¿ç”¨Yii2ï¼Œåœ¨æŸ¥è¯¢æ’åºæ—¶ä¹ æƒ¯äº†ä½¿ç”¨ SORT_DESC | SORT_ASCï¼Œä»Šå¤©åœ¨ä½¿ç”¨çš„æ—¶å€™å‘ç°äº†é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚<br>ä¸‹é¢è¿™ä¸ªæŸ¥è¯¢æ²¡æœ‰å¾—åˆ°é¢„æœŸçš„ç»“æœï¼š<br></p><figure class="highlight livescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> $<span class="keyword">list</span> = Db::name<span class="function"><span class="params">(<span class="string">'tb'</span>)</span>-&gt;</span>where<span class="function"><span class="params">([<span class="string">'status'</span>=&gt;<span class="number">1</span>])</span>-&gt;</span>order<span class="function"><span class="params">([<span class="string">'create_time'</span>=&gt;SORT_DESC])</span>-&gt;</span>field<span class="function"><span class="params">(<span class="string">'id,name'</span>)</span>-&gt;</span>select();</span><br><span class="line"><span class="regexp">// è¾“å‡ºsqlä¸ºï¼šselect id,name from tb where status=1 order by create_time;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>é—®é¢˜åœ¨äºSORT_DESC=3ã€SORT_ASC=4ï¼Œè¿™ä¸ç¬¦åˆthinkphpä¸­orderæ–¹æ³•çš„ä¼ å‚è§„åˆ™ï¼Œ<br>å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p><figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">order</span><span class="params">(<span class="string">'id'</span>,<span class="string">'desc'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">order</span><span class="params">(<span class="string">'id desc'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">order</span><span class="params">([<span class="string">'id'</span>=&gt;<span class="string">'desc'</span>,<span class="string">'create_time'</span>=&gt;<span class="string">'asc'</span>])</span></span></span><br><span class="line"><span class="function"><span class="title">order</span><span class="params">(<span class="string">'id,create_time desc'</span>)</span></span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€§èƒ½æµ‹è¯•â€”â€”ab.exe</title>
      <link href="/posts/performance-test.html"/>
      <url>/posts/performance-test.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ab.exeæ˜¯apache serverä¸‹çš„ä¸€ä¸ªæ€§èƒ½æ£€æµ‹å°ç»„ä»¶ï¼Œä½¿ç”¨æ–¹ä¾¿ç®€å•ã€‚<br>ä½¿ç”¨æ–¹æ³•ï¼š</p><h3 id="1-æ‰¾åˆ°ab-exeçš„ä½ç½®"><a href="#1-æ‰¾åˆ°ab-exeçš„ä½ç½®" class="headerlink" title="1. æ‰¾åˆ°ab.exeçš„ä½ç½®"></a>1. æ‰¾åˆ°ab.exeçš„ä½ç½®</h3><p>åœ¨ç”µè„‘ä¸­æ‰¾åˆ°ab.exeçš„ä½ç½®ï¼Œä¸€èˆ¬åœ¨Apacheæ–‡ä»¶ä¸‹çš„binç›®å½•ä¸­ï¼Œæˆ‘è¿™é‡Œçš„ç›®å½•è·¯å¾„ä¸ºï¼šD:\software\phpstudy_pro\Extensions\Apache2.4.39\bin<br><img src="/images/test_ab_1.png" alt=""></p><h3 id="2-æ‰“å¼€cmd"><a href="#2-æ‰“å¼€cmd" class="headerlink" title="2. æ‰“å¼€cmd"></a>2. æ‰“å¼€cmd</h3><h3 id="3-è¿›å…¥ab-exeæ‰€åœ¨ç›®å½•"><a href="#3-è¿›å…¥ab-exeæ‰€åœ¨ç›®å½•" class="headerlink" title="3. è¿›å…¥ab.exeæ‰€åœ¨ç›®å½•"></a>3. è¿›å…¥ab.exeæ‰€åœ¨ç›®å½•</h3><p><img src="/images/test_ab_2.png" alt=""></p><h3 id="4-å¼€å§‹å‹æµ‹"><a href="#4-å¼€å§‹å‹æµ‹" class="headerlink" title="4. å¼€å§‹å‹æµ‹"></a>4. å¼€å§‹å‹æµ‹</h3><p><img src="/images/test_ab_3.png" alt=""></p><p>å¸¸ç”¨å‚æ•°è¯´æ˜ï¼š<br>-nï¼šè¯·æ±‚ä¸ªæ•°ï¼Œé»˜è®¤ä¸€æ¬¡ä¸€ä¸ª<br>-cï¼šå¹¶å‘æ•°<br>-tï¼šè¶…æ—¶é™åˆ¶(ç§’)ï¼Œé»˜è®¤ä¸é™åˆ¶</p><p>ç»“æœåˆ†æï¼š<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">D:\software\phpstudy_pro\Extensions\Apache2.4.39\bin&gt;ab -n 10 -c 10 http://www.baidu.com/</span><br><span class="line">This is ApacheBench, Version 2.3 &lt;$Revision: 1843412 $&gt;</span><br><span class="line">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</span><br><span class="line">Licensed to The Apache Software Foundation, http://www.apache.org/</span><br><span class="line"></span><br><span class="line">Benchmarking www.baidu.com (be patient).....done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Server Software:        BWS/1.1</span><br><span class="line">Server Hostname:        www.baidu.com</span><br><span class="line">Server Port:            80    #ç«¯å£</span><br><span class="line"></span><br><span class="line">Document Path:          /</span><br><span class="line">Document Length:        353122 bytes    #è¯·æ±‚æ–‡ä»¶å¤§å°</span><br><span class="line"></span><br><span class="line">Concurrency Level:      10           #å¹¶å‘æ•°</span><br><span class="line">Time taken for tests:   0.535 seconds    #æ•´ä¸ªæµ‹è¯•æ‰€ç”¨çš„æ—¶é—´</span><br><span class="line">Complete requests:      10               #å®Œæˆçš„è¯·æ±‚æ•°é‡</span><br><span class="line">Failed requests:        9                #å¤±è´¥çš„è¯·æ±‚æ•°é‡</span><br><span class="line">   (Connect: 0, Receive: 0, Length: 9, Exceptions: 0)</span><br><span class="line">Total transferred:      3548070 bytes    #æ•´ä¸ªåœºæ™¯çš„ç½‘ç»œä¼ è¾“é‡</span><br><span class="line">HTML transferred:       3536205 bytes    #æ•´ä¸ªåœºæ™¯çš„HTMLä¼ è¾“é‡</span><br><span class="line">Requests per second:    18.71 [#/sec] (mean)    #å¹³å‡æ¯ç§’è¯·æ±‚æ•°</span><br><span class="line">Time per request:       534.535 [ms] (mean)     #å¹³å‡æ¯ä¸ªè¯·æ±‚çš„å“åº”æ—¶é—´</span><br><span class="line">Time per request:       53.453 [ms] (mean, across all concurrent requests)</span><br><span class="line">Transfer rate:          6482.11 [Kbytes/sec] received    #å¹³å‡æ¯ç§’ç½‘ç»œä¸Šçš„æµé‡</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"> # </span><span class="language-bash">ç½‘ç»œä¸Šæ¶ˆè€—æ—¶é—´åˆ†è§£</span></span><br><span class="line">Connection Times (ms)</span><br><span class="line">              min  mean[+/-sd] median   max</span><br><span class="line">Connect:       30   34   3.3     34      39</span><br><span class="line">Processing:   151  225  78.4    220     378</span><br><span class="line">Waiting:       35  139  92.2    151     281</span><br><span class="line">Total:        186  260  75.8    254     410</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹é¢ä¸ºæ•´ä¸ªåœºæ™¯æ‰€æœ‰è¯·æ±‚çš„å“åº”æƒ…å†µï¼Œ50%çš„å“åº”æ—¶é—´å°äº254æ¯«ç§’ï¼Œ66%çš„å“åº”æ—¶é—´å°äº281æ¯«ç§’â€¦â€¦æœ€é•¿å“åº”æ—¶é—´ 410æ¯«ç§’</span></span><br><span class="line">Percentage of the requests served within a certain time (ms)</span><br><span class="line"><span class="meta prompt_">  50% </span><span class="language-bash">   254</span></span><br><span class="line"><span class="meta prompt_">  66% </span><span class="language-bash">   281</span></span><br><span class="line"><span class="meta prompt_">  75% </span><span class="language-bash">   314</span></span><br><span class="line"><span class="meta prompt_">  80% </span><span class="language-bash">   342</span></span><br><span class="line"><span class="meta prompt_">  90% </span><span class="language-bash">   410</span></span><br><span class="line"><span class="meta prompt_">  95% </span><span class="language-bash">   410</span></span><br><span class="line"><span class="meta prompt_">  98% </span><span class="language-bash">   410</span></span><br><span class="line"><span class="meta prompt_">  99% </span><span class="language-bash">   410</span></span><br><span class="line"><span class="meta prompt_"> 100% </span><span class="language-bash">   410 (longest request)</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ab.exe </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»£ç è§„èŒƒå»ºè®®</title>
      <link href="/posts/coding-standard-tips.html"/>
      <url>/posts/coding-standard-tips.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-å‚æ•°è§„èŒƒ"><a href="#1-å‚æ•°è§„èŒƒ" class="headerlink" title="1. å‚æ•°è§„èŒƒ"></a>1. å‚æ•°è§„èŒƒ</h2><p> åœ¨å‡½æ•°/æ–¹æ³•é‡Œï¼Œæœªè®¾ç½®é»˜è®¤å€¼çš„å‚æ•°åº”æ”¾åœ¨è®¾ç½®é»˜è®¤å€¼çš„å‚æ•°å‰ï¼Œå¦‚ï¼š<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="built_in">test</span>(<span class="variable">$age</span> = 21, <span class="variable">$id</span>, <span class="variable">$options</span> = []){</span><br><span class="line">     print_r(func_get_args());</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><p></p><p> ä¸Šè¿°ä»£ç åœ¨IDEä¸­ä¼šå¯¹$age=21ï¼Œæç¤ºâ€œOptional parameter is provided before requiredâ€ï¼Œåº”æ”¹ä¸ºï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="built_in">test</span>(<span class="variable">$id</span>, <span class="variable">$age</span> = 21, <span class="variable">$options</span> = []){</span><br><span class="line">     print_r(func_get_args());</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><h2 id="2-å‘½åè§„èŒƒ"><a href="#2-å‘½åè§„èŒƒ" class="headerlink" title="2. å‘½åè§„èŒƒ"></a>2. å‘½åè§„èŒƒ</h2><p> å¸¸ç”¨çš„å››ç§å‘½åæ ¼å¼ï¼šé©¼å³°ã€å¸•æ–¯å¡ã€è›‡å½¢ã€ä¸²å½¢ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¤šä¸ªå•è¯ä¹‹é—´çš„ç©ºæ ¼é—®é¢˜ã€‚</p><ul><li>é©¼å³°å‘½åï¼ˆCamel Caseï¼‰ï¼Œåˆå«å°é©¼å³°ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå•è¯ï¼Œå…¶ä»–å•è¯é¦–å­—æ¯å¤§å†™ï¼š<br>åŸå§‹ï¼š<code>last login time</code><br>é©¼å³°ï¼š<code>lastLoginTime</code></li><li>å¸•æ–¯å¡ï¼ˆPascal Caseï¼‰ï¼Œåˆå«å¤§é©¼å³°ï¼Œè·Ÿé©¼å³°å‘½åå¾ˆåƒï¼Œåªä¸è¿‡æ‰€æœ‰å•è¯é¦–å­—æ¯éƒ½éœ€è¦å¤§å†™ï¼š<br>åŸå§‹ï¼š<code>last login time</code><br>å¸•æ–¯å¡ï¼š<code>LastLoginTime</code></li><li>è›‡å½¢ï¼ˆSnake Caseï¼‰ï¼Œå…¨ç”±å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿ç»„æˆï¼Œæ˜¯æŒ‡ç”¨ä¸‹åˆ’çº¿(_)ä½œç”¨å•è¯é—´çš„åˆ†éš”ç¬¦ï¼š<br>åŸå§‹ï¼š<code>last login time</code><br>è›‡å½¢ï¼š<code>last_login_time</code></li><li>ä¸²è¡Œï¼ˆKebab Caseï¼‰ï¼Œåˆå«è„ŠæŸ±å‘½åæ³•ï¼ˆspinal caseï¼‰ï¼Œæ˜¯æŒ‡ç”¨çŸ­æ¨ªçº¿(-)ä½œç”¨å•è¯é—´çš„åˆ†éš”ç¬¦ï¼š<br>åŸå§‹ï¼š<code>last login time</code><br>ä¸²è¡Œï¼š<code>last-login-time</code><br>ä¸€èˆ¬è€Œè¨€ï¼Œå‡½æ•°åæˆ–æ–¹æ³•åé‡‡ç”¨å°é©¼å³°ï¼Œç±»åé‡‡ç”¨å¤§é©¼å³°ï¼Œæ•°æ®åº“å­—æ®µåé‡‡ç”¨è›‡å½¢ã€‚</li></ul><h3 id="3-äºŒæ¬¡ç¡®è®¤"><a href="#3-äºŒæ¬¡ç¡®è®¤" class="headerlink" title="3. äºŒæ¬¡ç¡®è®¤"></a>3. äºŒæ¬¡ç¡®è®¤</h3><p> ä¸å¯æ’¤é”€çš„é«˜å±æ“ä½œéœ€äºŒæ¬¡ç¡®è®¤ï¼Œå¦‚åˆ é™¤ã€æ‰¹é‡æ¨é€</p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç è§„èŒƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpStormæŸ¥æ‰¾æŒ‡å®šæ–‡ä»¶çš„ä¿®æ”¹å†å²</title>
      <link href="/posts/phpstorm-show-history.html"/>
      <url>/posts/phpstorm-show-history.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ‰“å¼€éœ€è¦æŸ¥æ‰¾çš„æ–‡ä»¶ï¼Œå¯¹ç€æ–‡ä»¶å³å‡»é€‰æ‹©Local History=&gt;Show History<br><img src="/images/phpstorm_show_history_1.png" alt=""><br><img src="/images/phpstorm_show_history_2.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> phpStorm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP5 ä¸­clone Queryå¯¹è±¡</title>
      <link href="/posts/thinkphp-clone-query.html"/>
      <url>/posts/thinkphp-clone-query.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å½“æˆ‘ä»¬åœ¨ç»™å‰ç«¯æä¾›åˆ—è¡¨æ¥å£çš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦æ ¹æ®æ¡ä»¶è¿”å›æ€»æ¡æ•°å’Œå½“é¡µåˆ—è¡¨æ•°æ®ï¼›è¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦å¤ç”¨å…±åŒçš„æŸ¥è¯¢æ¡ä»¶å¯¹æ•°æ®åº“æ‰§è¡Œå¤šæ¬¡æŸ¥è¯¢æ“ä½œã€‚</p><p>åœ¨Yii2é‡Œï¼Œå¯ä»¥é€šè¿‡cloneå¤„ç†ï¼š<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$query</span> = <span class="title class_">Post</span>::<span class="title function_ invoke__">find</span>()-&gt;<span class="title function_ invoke__">where</span>([<span class="string">'status'</span>=&gt;<span class="number">1</span>]);</span><br><span class="line"><span class="variable">$query</span>-&gt;<span class="title function_ invoke__">andFilterWhere</span>([<span class="string">'name'</span>=&gt;<span class="variable">$kw</span>]);</span><br><span class="line"><span class="variable">$count</span> = (<span class="keyword">clone</span> <span class="variable">$query</span>)-&gt;<span class="title function_ invoke__">count</span>();</span><br><span class="line"><span class="variable">$list</span> = <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">limit</span>(<span class="number">20</span>)-&gt;<span class="title function_ invoke__">offset</span>(<span class="number">0</span>)-&gt;<span class="title function_ invoke__">orderBy</span>([<span class="string">'id'</span>=&gt;SORT_DESC])-&gt;<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">asArray</span>();</span><br></pre></td></tr></tbody></table></figure><br>åœ¨thinkphp5ä¸­ï¼Œä½¿ç”¨å¦‚ä¸‹ä»£ç è¿›è¡Œcloneï¼Œä¼šå­˜åœ¨é—®é¢˜ï¼Œæç¤ºï¼š<code>SQLSTATE[HY000]: General error: 2031</code><br><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$offset</span> = (<span class="variable">$page</span> - <span class="number">1</span>) * <span class="variable">$pageSize</span>;</span><br><span class="line"><span class="variable">$query</span> = <span class="title class_">Db</span>::<span class="title function_ invoke__">name</span>(<span class="string">'artist_bill'</span>)-&gt;<span class="title function_ invoke__">where</span>([<span class="string">'month'</span> =&gt; <span class="variable">$month</span>]);</span><br><span class="line"><span class="variable">$count</span> = (<span class="keyword">clone</span> <span class="variable">$query</span>)-&gt;<span class="title function_ invoke__">count</span>();</span><br><span class="line"><span class="variable">$list</span> = <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">field</span>(<span class="string">'id,title,month'</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">limit</span>(<span class="variable">$offset</span>, <span class="variable">$pageSize</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">order</span>([<span class="string">'id'</span> =&gt; SORT_DESC])</span><br><span class="line">    -&gt;<span class="title function_ invoke__">select</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><ul><li>å¦‚æœæŠŠç¬¬3è¡Œæ”¹ä¸ºï¼š$count = $query-&gt;count();  ç¬¬ä¸€ä¸ªæŸ¥è¯¢æ­£å¸¸ï¼Œä¹‹åçš„æŸ¥è¯¢æ²¡æœ‰ä»»ä½•whereæ¡ä»¶ï¼›è¿™æ˜¯å› ä¸ºqueryæ‰§è¡Œå®Œæˆåä¼šæŠŠæŸ¥è¯¢æ¡ä»¶æ¸…ç©ºã€‚</li><li>å¦‚æœä½¿ç”¨cloneï¼Œæ‰“å°å¤„ç†çš„sqlå¦‚ä¸‹ï¼š<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> t_artist_bill <span class="keyword">where</span> `<span class="keyword">month</span>` <span class="operator">=</span> :where_AND_month;</span><br></pre></td></tr></tbody></table></figure>åˆæ­¥è®¤ä¸ºæ˜¯å‚æ•°æ²¡æœ‰ç»‘å®šä¸Šå»ã€‚åº”è¯¥ä¹Ÿæ˜¯queryå†…éƒ¨å¼•ç”¨äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åœ¨cloneä¹‹åä¸åŸæœ‰å¯¹è±¡æ˜¯ä¸€ä¸ªåœ°å€å¼•ç”¨ã€‚é€šè¿‡ä¸€æ­¥ä¸€æ­¥æ–­ç‚¹è¾“å‡ºï¼Œç¡®è®¤åœ¨$this-&gt;builder-&gt;select($options);ä¹‹åè·å¾—äº†bindæ•°æ®ã€‚å› æ­¤åªéœ€è¦è§£ç»‘cloneå‰åå¯¹è±¡çš„builderå±æ€§å³å¯å®Œæˆqueryå¯¹è±¡çš„å¤åˆ¶ã€‚æŸ¥çœ‹queryå¯¹è±¡çš„å±æ€§ï¼Œåªæœ‰builder,connectionæ˜¯å¯¹è±¡ï¼Œä½†æ˜¯connectionæˆ‘ä»¬å¸Œæœ›åœ¨æ•´ä¸ªè¯·æ±‚ä¸­æ˜¯ä¸€ä¸ªå•å®ä¾‹ï¼Œæ‰€ä»¥æ²¡å¿…è¦åŒºåˆ†ã€‚<br>æœ€ç»ˆä¿®æ”¹,æ–°å»ºqueryå­ç±»ï¼Œæ·»åŠ __cloneæ–¹æ³•,æŒ‡å®šcloneåå¯¹æ–°å¯¹è±¡æ‰§è¡Œphp $this-&gt;setBuilder();ä¿è¯ cloneä¹‹åçš„builderæ˜¯ä¸€ä¸ªæ–°å®ä¾‹ã€‚<br>è¿™æ ·å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨cloneäº†ã€‚</li></ul><p>å¦ä¸€ç§å¤„ç†æ–¹å¼æ˜¯æŠŠwhereæ¡ä»¶æå–å‡ºæ¥å…±ç”¨ï¼š<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getList</span>(<span class="params">?<span class="keyword">string</span> <span class="variable">$month</span>, <span class="keyword">int</span> <span class="variable">$page</span>, <span class="keyword">int</span> <span class="variable">$pageSize</span></span>): <span class="title">array</span></span>{</span><br><span class="line">    <span class="variable">$offset</span> = (<span class="variable">$page</span> - <span class="number">1</span>) * <span class="variable">$pageSize</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$where</span> = [];</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$month</span>)) {</span><br><span class="line">        <span class="variable">$where</span>[<span class="string">'month'</span>] = <span class="variable">$month</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="variable">$query</span> = <span class="title class_">Db</span>::<span class="title function_ invoke__">name</span>(<span class="string">'artist_bill'</span>);</span><br><span class="line">    <span class="variable">$count</span> = <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="variable">$where</span>)-&gt;<span class="title function_ invoke__">count</span>(<span class="string">'id'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable">$list</span> = <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="variable">$where</span>)-&gt;<span class="title function_ invoke__">field</span>(<span class="string">'id,title,month'</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">limit</span>(<span class="variable">$offset</span>, <span class="variable">$pageSize</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">order</span>([<span class="string">'id'</span> =&gt; SORT_DESC])</span><br><span class="line">        -&gt;<span class="title function_ invoke__">select</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [<span class="string">'count'</span> =&gt; <span class="variable">$count</span>, <span class="string">'list'</span> =&gt; <span class="variable">$list</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpStormå®ç°ä¿å­˜åï¼Œä»£ç è‡ªåŠ¨æ ¼å¼åŒ–</title>
      <link href="/posts/phpstorm-auto-format.html"/>
      <url>/posts/phpstorm-auto-format.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>é‰´äºä¸ªäººç¼–ç¨‹é£æ ¼çš„ä¸åŒï¼Œä¸ºäº†ä¿è¯å›¢é˜Ÿå¼€å‘èƒ½æ›´å¥½åœ°å¼€å±•ï¼Œéœ€è¦è¿›è¡Œä»£ç ç»Ÿä¸€æ ¼å¼åŒ–ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ctrl+sçš„æ—¶å€™è®©IEDæ¥è‡ªåŠ¨æ ¼å¼åŒ–ä¿å­˜ã€‚<br>ä¸‹é¢ä»‹ç»ä¸‹è®¾ç½®æ­¥éª¤ï¼š</p><h3 id="1-ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap"><a href="#1-ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap" class="headerlink" title="1. ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap"></a>1. ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap</h3><p><img src="/images/phpstorm_auth_format_1.png" alt=""></p><h3 id="2-åœ¨å³ä¾§æœç´¢save-ALL"><a href="#2-åœ¨å³ä¾§æœç´¢save-ALL" class="headerlink" title="2. åœ¨å³ä¾§æœç´¢save ALL"></a>2. åœ¨å³ä¾§æœç´¢save ALL</h3><p><img src="/images/phpstorm_auth_format_2.png" alt=""></p><h3 id="3-å³é”®ç‚¹å‡»Save-Allï¼Œé€‰æ‹©Remove-Ctrl-S"><a href="#3-å³é”®ç‚¹å‡»Save-Allï¼Œé€‰æ‹©Remove-Ctrl-S" class="headerlink" title="3. å³é”®ç‚¹å‡»Save Allï¼Œé€‰æ‹©Remove Ctrl+S"></a>3. å³é”®ç‚¹å‡»Save Allï¼Œé€‰æ‹©Remove Ctrl+S</h3><p><img src="/images/phpstorm_auth_format_3.png" alt=""></p><h3 id="4-å³é”®ç‚¹å‡»Save-Allï¼Œé€‰æ‹©Add-Keyboard-Shortcutï¼Œç„¶åæŒ‰é”®ç›˜shift-ctrl-alt-sï¼Œç„¶åä¿å­˜ã€‚"><a href="#4-å³é”®ç‚¹å‡»Save-Allï¼Œé€‰æ‹©Add-Keyboard-Shortcutï¼Œç„¶åæŒ‰é”®ç›˜shift-ctrl-alt-sï¼Œç„¶åä¿å­˜ã€‚" class="headerlink" title="4. å³é”®ç‚¹å‡»Save Allï¼Œé€‰æ‹©Add Keyboard Shortcutï¼Œç„¶åæŒ‰é”®ç›˜shift+ctrl+alt+sï¼Œç„¶åä¿å­˜ã€‚"></a>4. å³é”®ç‚¹å‡»Save Allï¼Œé€‰æ‹©Add Keyboard Shortcutï¼Œç„¶åæŒ‰é”®ç›˜shift+ctrl+alt+sï¼Œç„¶åä¿å­˜ã€‚</h3><p><img src="/images/phpstorm_auth_format_4.png" alt=""><br>PS:shift+ctrl+alt+sè¿™ä¸ªå¯ä»¥è‡ªå·±éšä¾¿è®¾ç½®ï¼Œä½†æ˜¯ä¸èƒ½å’Œå…¶ä»–çš„å¿«æ·é”®å†²çªï¼Œè€Œä¸”è¦è®°ä½ï¼Œä¸€ä¼šæˆ‘ä»¬ä¼šç”¨å¾—åˆ°ã€‚</p><h3 id="5-ç‚¹å‡»Edit-ç¼–è¾‘-gt-Macros-å®-gt-Start-Macro-Recording-å¼€å§‹å½•åˆ¶å®-ã€‚"><a href="#5-ç‚¹å‡»Edit-ç¼–è¾‘-gt-Macros-å®-gt-Start-Macro-Recording-å¼€å§‹å½•åˆ¶å®-ã€‚" class="headerlink" title="5. ç‚¹å‡»Edit(ç¼–è¾‘)->Macros(å®)->Start Macro Recording(å¼€å§‹å½•åˆ¶å®)ã€‚"></a>5. ç‚¹å‡»Edit(ç¼–è¾‘)-&gt;Macros(å®)-&gt;Start Macro Recording(å¼€å§‹å½•åˆ¶å®)ã€‚</h3><p>å³ä¸‹è§’ä¼šå‡ºç°è¿™æ ·ä¸€ä¸ªå›¾æ ‡<br><img src="/images/phpstorm_auth_format_5.png" alt=""><br>ç„¶åå…ˆæŒ‰ctrl+alt+lï¼Œå†æŒ‰æˆ‘ä»¬åˆšåˆšæŠŠsave  allè®¾ç½®çš„å¿«æ·é”®shift+ctrl+alt+sï¼Œæœ€åç‚¹å‡»çº¢è‰²çš„å°æ–¹å—ç»“æŸå½•åˆ¶å®<br><img src="/images/phpstorm_auth_format_6.png" alt=""><br>ä¿å­˜å®ï¼šåç§°è®¾ç½®ä¸ºï¼šFormat And Saveï¼ˆè¿™ä¸ªåå­—éšæ„å•¦ï¼Œè‡ªå·±è®°å¾—å°±å¥½ï¼‰<br><img src="/images/phpstorm_auth_format_7.png" alt=""></p><h3 id="6-ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap-æœç´¢Format-And-Save"><a href="#6-ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap-æœç´¢Format-And-Save" class="headerlink" title="6. ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap  æœç´¢Format And Save"></a>6. ç‚¹å‡»File-ã€‹Settings-ã€‹Keymap  æœç´¢Format And Save</h3><h3 id="7-å³é”®ç‚¹å‡»Format-And-Saveï¼Œé€‰æ‹©Add-Keyboard-Shortcut-è®¾ç½®ä¸ºcommand-sï¼Œä¿å­˜å°±å¯ä»¥äº†"><a href="#7-å³é”®ç‚¹å‡»Format-And-Saveï¼Œé€‰æ‹©Add-Keyboard-Shortcut-è®¾ç½®ä¸ºcommand-sï¼Œä¿å­˜å°±å¯ä»¥äº†" class="headerlink" title="7. å³é”®ç‚¹å‡»Format And Saveï¼Œé€‰æ‹©Add Keyboard Shortcut,è®¾ç½®ä¸ºcommand+sï¼Œä¿å­˜å°±å¯ä»¥äº†"></a>7. å³é”®ç‚¹å‡»Format And Saveï¼Œé€‰æ‹©Add Keyboard Shortcut,è®¾ç½®ä¸ºcommand+sï¼Œä¿å­˜å°±å¯ä»¥äº†</h3><p><img src="/images/phpstorm_auth_format_8.png" alt=""><br>æœ€åè¯•ä¸€ä¸‹å§ï¼Œctrl+s å°±å®ç°äº† ä¿å­˜+ä»£ç æ ¼å¼åŒ–</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> phpStorm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹å¿«æ·é”®ä½¿ç”¨</title>
      <link href="/posts/windows-short-cut.html"/>
      <url>/posts/windows-short-cut.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>é€šè¿‡Tabé”®å¯ä»¥åœ¨å½“å‰ç•Œé¢å°†å…‰æ ‡å‘ä¸‹åˆ‡æ¢ï¼ŒTab+Shiftæ˜¯å‘ä¸Šåˆ‡æ¢ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP5ä½¿ç”¨ç¬”è®°</title>
      <link href="/posts/thinkphp-note.html"/>
      <url>/posts/thinkphp-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-æŠ¥é”™ï¼šRequest-phpä¸­-variable-type-error-array"><a href="#1-æŠ¥é”™ï¼šRequest-phpä¸­-variable-type-error-array" class="headerlink" title="1. æŠ¥é”™ï¼šRequest.phpä¸­ variable type error: array"></a>1. æŠ¥é”™ï¼šRequest.phpä¸­ variable type error: array</h3><ul><li><p>æè¿°ï¼šå¦‚æœåœ¨postè¯·æ±‚çš„æ—¶å€™ï¼Œrawå†…å®¹ä¸­æŸä¸ªå‚æ•°çš„å€¼ä¸ºæ•°ç»„ï¼Œç›´æ¥ä½¿ç”¨$this-&gt;request-&gt;post(â€˜fieldâ€™);ï¼Œä¼šæŠ¥é”™<br><img src="/images/thinkphp_note_1.png" alt=""></p></li><li><p>åŸå› ï¼šTP5ä¹‹åï¼Œé»˜è®¤çš„å˜é‡ä¿®é¥°ç¬¦ä¸º/sï¼Œè½¬ä¸ºå­—ç¬¦ä¸²äº†ã€‚</p></li><li>è§£å†³åŠæ³•ï¼šåœ¨å˜é‡åååŠ /aï¼Œè½¬ä¸ºæ•°ç»„ï¼š$this-&gt;request-&gt;post(â€˜field/aâ€™);</li></ul><h3 id="2-å›æ˜¾å¤„ç†"><a href="#2-å›æ˜¾å¤„ç†" class="headerlink" title="2. å›æ˜¾å¤„ç†"></a>2. å›æ˜¾å¤„ç†</h3><p>å¦‚æœè¯·æ±‚å‚æ•°é‡Œæœ‰&amp;ç­‰ç¬¦å·ï¼Œåœ¨æ¥æ”¶åä¼šè¿›è¡Œè½¬ä¹‰ä¸º&amp;ï¼Œè¦ä½¿ç”¨htmlspecialchars_decodeå›æ˜¾</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä¸­traitçš„ç”¨æ³•</title>
      <link href="/posts/php-trait.html"/>
      <url>/posts/php-trait.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">traitæ˜¯phpçš„ä¸€ç§ä»£ç å¤ç”¨çš„æ–¹æ³•ã€‚</div><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><h4 id="1-é€šè¿‡use-Traitç±»æ¥ä½¿ç”¨"><a href="#1-é€šè¿‡use-Traitç±»æ¥ä½¿ç”¨" class="headerlink" title="1. é€šè¿‡use Traitç±»æ¥ä½¿ç”¨"></a>1. é€šè¿‡use Traitç±»æ¥ä½¿ç”¨</h4><p>å¯ä»¥å°†ä¸€äº›å¸¸ç”¨çš„å¤„ç†å°è£…åˆ°traitç±»é‡Œï¼Œåœ¨å…¶ä»–åœ°æ–¹ç›´æ¥useå°±å¯ä»¥äº†ã€‚<br> ä¾‹å¦‚ï¼šå°è£…å•ä¾‹<br>    å…ˆåˆ›å»ºSingletonç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Singleton</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="variable">$instance</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ...$args</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getInstance</span>(<span class="params">...<span class="variable">$args</span></span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="built_in">self</span>::<span class="variable">$instance</span>)) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="variable">$instance</span> = <span class="keyword">new</span> <span class="built_in">static</span>(...<span class="variable">$args</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable">$instance</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br>å†åˆ›å»ºTestç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>{</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Singleton</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>{</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'test'</span>;</span><br><span class="line">    }    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br>è°ƒç”¨ï¼š<br><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="title class_">Test</span>::<span class="title function_ invoke__">getInstance</span>()-&gt;<span class="title function_ invoke__">test</span>();</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="2-ä¼˜å…ˆçº§"><a href="#2-ä¼˜å…ˆçº§" class="headerlink" title="2. ä¼˜å…ˆçº§"></a>2. ä¼˜å…ˆçº§</h4><p>å½“å‰ç±»ä¸­çš„æ–¹æ³•ä¼šè¦†ç›–traitæ–¹æ³•ï¼Œè€Œtraitæ–¹æ³•ç”¨è¦†ç›–äº†åŸºç±»ä¸­çš„æ–¹æ³•ã€‚</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Hello '</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">SayWorld</span></span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="built_in">parent</span>::<span class="title function_ invoke__">sayHello</span>();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'world!'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHelloWorld</span> <span class="keyword">extends</span> <span class="title">Base</span></span>{</span><br><span class="line">    <span class="keyword">use</span> <span class="title">SayWorld</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> <span class="title class_">MyHelloWorld</span>();</span><br><span class="line"><span class="variable">$obj</span>-&gt;<span class="title function_ invoke__">sayHello</span>();     </span><br><span class="line"><span class="comment">//output: Hello world!</span></span><br></pre></td></tr></tbody></table></figure><h4 id="3-å¤šä¸ªtrait"><a href="#3-å¤šä¸ªtrait" class="headerlink" title="3. å¤šä¸ªtrait"></a>3. å¤šä¸ªtrait</h4><p>é€šè¿‡é€—å·åˆ†éš”ï¼Œåœ¨ use å£°æ˜åˆ—å‡ºå¤šä¸ª traitç±»</p><h3 id="å¸¸ç”¨çš„traitç±»"><a href="#å¸¸ç”¨çš„traitç±»" class="headerlink" title="å¸¸ç”¨çš„traitç±»"></a>å¸¸ç”¨çš„traitç±»</h3><h4 id="1-å•ä¾‹ç±»"><a href="#1-å•ä¾‹ç±»" class="headerlink" title="1. å•ä¾‹ç±»"></a>1. å•ä¾‹ç±»</h4><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨ä½œå•ä¾‹</span></span><br><span class="line"><span class="comment"> * Trait Singleton</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Singleton</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="variable">$instance</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ...$args</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getInstance</span>(<span class="params">...<span class="variable">$args</span></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="built_in">self</span>::<span class="variable">$instance</span>)) {</span><br><span class="line">            <span class="built_in">self</span>::<span class="variable">$instance</span> = <span class="keyword">new</span> <span class="built_in">static</span>(...<span class="variable">$args</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable">$instance</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="2-é”™è¯¯å¤„ç†ç±»"><a href="#2-é”™è¯¯å¤„ç†ç±»" class="headerlink" title="2. é”™è¯¯å¤„ç†ç±»"></a>2. é”™è¯¯å¤„ç†ç±»</h4><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title class_">app</span>\<span class="title class_">common</span>\<span class="title class_">helper</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é”™è¯¯æ“ä½œç±»</span></span><br><span class="line"><span class="comment"> * Trait Error</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@package</span> app\common\helper</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Error</span></span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$_code</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$_error</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">setError</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$code</span>, <span class="keyword">string</span> <span class="variable">$msg</span></span>): <span class="title">void</span></span>{</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_code = <span class="variable">$code</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_error = <span class="variable">$msg</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getError</span>(<span class="params"></span>): ?<span class="title">array</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_code) ? [<span class="string">'code'</span> =&gt; <span class="variable language_">$this</span>-&gt;_code, <span class="string">'msg'</span> =&gt; <span class="variable language_">$this</span>-&gt;_error] : <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>{</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Error</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>{</span><br><span class="line">        â€¦â€¦</span><br><span class="line">        <span class="keyword">if</span>(){</span><br><span class="line">             <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">setError</span>(<span class="number">0</span>, <span class="string">'æ•°æ®ä¸å­˜åœ¨'</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;           </span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è°ƒç”¨ï¼š</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$s</span> = <span class="keyword">new</span> <span class="title function_ invoke__">A</span>();</span><br><span class="line"><span class="variable">$rs</span> = <span class="variable">$s</span>-&gt;<span class="title function_ invoke__">test</span>();</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$error</span> = <span class="variable">$s</span>-&gt;<span class="title function_ invoke__">getError</span>()) {</span><br><span class="line">    <span class="title function_ invoke__">extract</span>(<span class="variable">$error</span>);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> $code</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> $msg</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">setError</span>(<span class="variable">$code</span>, <span class="variable">$msg</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="https://www.php.net/manual/zh/language.oop5.traits.php">https://www.php.net/manual/zh/language.oop5.traits.php</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> trait </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPä½¿ç”¨ES</title>
      <link href="/posts/php-elasticsearch.html"/>
      <url>/posts/php-elasticsearch.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><ol><li><p>ä¸‹è½½å®‰è£…java<br><code>https://www.oracle.com/java/technologies/downloads/#jdk18-windows</code><br>æŸ¥çœ‹ç‰ˆæœ¬ java -version<br><img src="/images/php_es_1.png" alt=""></p></li><li><p>ä¸‹è½½es<br><code>https://www.elastic.co/cn/downloads/elasticsearch</code></p></li><li><p>ä¿®æ”¹config\elasticsearch.ymlæ–‡ä»¶çš„é…ç½®é¡¹</p><figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xpack<span class="selector-class">.security</span><span class="selector-class">.enabled</span>: false</span><br><span class="line">xpack<span class="selector-class">.ml</span><span class="selector-class">.enabled</span>: false</span><br></pre></td></tr></tbody></table></figure></li><li><p>åŒå‡» bin\elasticsearch.bat<br>ç­‰å‡ åç§’åï¼Œåœ¨æµè§ˆå™¨è®¿é—®ï¼š<code>localhost:9200</code><br><img src="/images/php_es_2.png" alt=""></p></li><li><p>ä¸‹è½½Kibana<br><code>https://www.elastic.co/cn/downloads/kibana</code><br>è¿è¡Œï¼š<code>bin\kibana.bat</code><br>è®¿é—®<code>http://localhost:5601</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> elasticsearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ˆè°ˆMySQLä¸­çš„èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•</title>
      <link href="/posts/mysql-clustered-index.html"/>
      <url>/posts/mysql-clustered-index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«"><a href="#èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«" class="headerlink" title="èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«"></a>èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«</h3><p>èšç°‡ç´¢å¼•çš„ä¸»ç´¢å¼•çš„å¶å­ç»“ç‚¹å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹åº”çš„æ•°æ®æœ¬èº«ï¼Œè¾…åŠ©ç´¢å¼•çš„å¶å­ç»“ç‚¹å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹åº”çš„æ•°æ®çš„ä¸»é”®é”®å€¼ã€‚</p><p>èšç°‡ç´¢å¼•çš„æ•°æ®å’Œä¸»é”®ç´¢å¼•å­˜å‚¨åœ¨ä¸€èµ·ã€‚<br>èšç°‡ç´¢å¼•çš„æ•°æ®æ˜¯æ ¹æ®ä¸»é”®çš„é¡ºåºä¿å­˜ã€‚å› æ­¤é€‚åˆæŒ‰ä¸»é”®ç´¢å¼•çš„åŒºé—´æŸ¥æ‰¾ï¼Œå¯ä»¥æœ‰æ›´å°‘çš„ç£ç›˜I/Oï¼ŒåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ã€‚</p><p>MyISAMå­˜å‚¨å¼•æ“é‡‡ç”¨çš„æ˜¯éèšç°‡ç´¢å¼•ï¼Œéèšç°‡ç´¢å¼•çš„ä¸»ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¸»ç´¢å¼•ä¸å…è®¸é‡å¤ï¼Œä¸å…è®¸ç©ºå€¼ï¼Œä»–ä»¬çš„å¶å­ç»“ç‚¹çš„keyéƒ½å­˜å‚¨æŒ‡å‘é”®å€¼å¯¹åº”çš„æ•°æ®çš„ç‰©ç†åœ°å€ã€‚<br>éèšç°‡ç´¢å¼•çš„æ•°æ®è¡¨å’Œç´¢å¼•è¡¨æ˜¯åˆ†å¼€å­˜å‚¨çš„ã€‚<br>éèšç°‡ç´¢å¼•ä¸­çš„æ•°æ®æ˜¯æ ¹æ®æ•°æ®çš„æ’å…¥é¡ºåºä¿å­˜ã€‚å› æ­¤éèšç°‡ç´¢å¼•æ›´é€‚åˆå•ä¸ªæ•°æ®çš„æŸ¥è¯¢ã€‚æ’å…¥é¡ºåºä¸å—é”®å€¼å½±å“ã€‚</p><p>èšé›†ç´¢å¼•çš„B+Treeä¸­çš„å¶å­èŠ‚ç‚¹å­˜æ”¾çš„æ˜¯æ•´å¼ è¡¨çš„è¡Œè®°å½•æ•°æ®ã€‚è¾…åŠ©ç´¢å¼•ä¸èšé›†ç´¢å¼•çš„åŒºåˆ«åœ¨äºè¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å¹¶ä¸åŒ…å«è¡Œè®°å½•çš„å…¨éƒ¨æ•°æ®ï¼Œè€Œæ˜¯å­˜å‚¨ç›¸åº”è¡Œæ•°æ®çš„èšé›†ç´¢å¼•é”®ï¼Œå³ä¸»é”®ã€‚å½“é€šè¿‡è¾…åŠ©ç´¢å¼•æ¥æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒInnoDBå­˜å‚¨å¼•æ“ä¼šéå†è¾…åŠ©ç´¢å¼•æ‰¾åˆ°ä¸»é”®ï¼Œç„¶åå†é€šè¿‡ä¸»é”®åœ¨èšé›†ç´¢å¼•ä¸­æ‰¾åˆ°å®Œæ•´çš„è¡Œè®°å½•æ•°æ®ã€‚</p><p>MyISAMï¼šéèšç°‡ç´¢å¼•<br>innoDBï¼šèšç°‡ç´¢å¼•</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="https://mp.weixin.qq.com/s/pC0_Y7M7BkoUmlRwneZZdA">https://mp.weixin.qq.com/s/pC0_Y7M7BkoUmlRwneZZdA</a><br><a href="https://www.cnblogs.com/setalone/p/14851000.html">https://www.cnblogs.com/setalone/p/14851000.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èšç°‡ç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bæ ‘ä¸B+æ ‘</title>
      <link href="/posts/btree-and-b+tree.html"/>
      <url>/posts/btree-and-b+tree.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="B-Treeå¯¹æ¯”BTreeçš„ä¼˜ç‚¹"><a href="#B-Treeå¯¹æ¯”BTreeçš„ä¼˜ç‚¹" class="headerlink" title="B+Treeå¯¹æ¯”BTreeçš„ä¼˜ç‚¹"></a>B+Treeå¯¹æ¯”BTreeçš„ä¼˜ç‚¹</h3><ul><li>ç£ç›˜è¯»å†™ä»£ä»·æ›´ä½<br>ä¸€èˆ¬æ¥è¯´B+Treeæ¯”BTreeæ›´é€‚åˆå®ç°å¤–å­˜çš„ç´¢å¼•ç»“æ„ï¼Œå› ä¸ºå­˜å‚¨å¼•æ“çš„è®¾è®¡ä¸“å®¶å·§å¦™çš„åˆ©ç”¨äº†å¤–å­˜ï¼ˆç£ç›˜ï¼‰çš„å­˜å‚¨ç»“æ„ï¼Œå³ç£ç›˜çš„æœ€å°å­˜å‚¨å•ä½æ˜¯æ‰‡åŒºï¼ˆsectorï¼‰ï¼Œè€Œæ“ä½œç³»ç»Ÿçš„å—ï¼ˆblockï¼‰é€šå¸¸æ˜¯æ•´æ•°å€çš„sectorï¼Œæ“ä½œç³»ç»Ÿä»¥é¡µï¼ˆpageï¼‰ä¸ºå•ä½ç®¡ç†å†…å­˜ï¼Œä¸€é¡µï¼ˆpageï¼‰é€šå¸¸é»˜è®¤ä¸º4Kï¼Œæ•°æ®åº“çš„é¡µé€šå¸¸è®¾ç½®ä¸ºæ“ä½œç³»ç»Ÿé¡µçš„æ•´æ•°å€ï¼Œå› æ­¤ç´¢å¼•ç»“æ„çš„èŠ‚ç‚¹è¢«è®¾è®¡ä¸ºä¸€ä¸ªé¡µçš„å¤§å°ï¼Œç„¶ååˆ©ç”¨å¤–å­˜çš„â€œé¢„è¯»å–â€åŸåˆ™ï¼Œæ¯æ¬¡è¯»å–çš„æ—¶å€™ï¼ŒæŠŠæ•´ä¸ªèŠ‚ç‚¹çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­ï¼Œç„¶ååœ¨å†…å­˜ä¸­æŸ¥æ‰¾ï¼Œå·²çŸ¥å†…å­˜çš„è¯»å–é€Ÿåº¦æ˜¯å¤–å­˜è¯»å–I/Oé€Ÿåº¦çš„å‡ ç™¾å€ï¼Œé‚£ä¹ˆæå‡æŸ¥æ‰¾é€Ÿåº¦çš„å…³é”®å°±åœ¨äºå°½å¯èƒ½å°‘çš„ç£ç›˜I/Oï¼Œé‚£ä¹ˆå¯ä»¥çŸ¥é“ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸­çš„keyä¸ªæ•°è¶Šå¤šï¼Œé‚£ä¹ˆæ ‘çš„é«˜åº¦è¶Šå°ï¼Œéœ€è¦I/Oçš„æ¬¡æ•°è¶Šå°‘ï¼Œå› æ­¤ä¸€èˆ¬æ¥è¯´B+Treeæ¯”BTreeæ›´å¿«ï¼Œå› ä¸ºB+Treeçš„éå¶èŠ‚ç‚¹ä¸­ä¸å­˜å‚¨dataï¼Œå°±å¯ä»¥å­˜å‚¨æ›´å¤šçš„keyã€‚</li><li>æŸ¥è¯¢é€Ÿåº¦æ›´ç¨³å®š<br>ç”±äºB+Treeéå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼ˆdataï¼‰ï¼Œå› æ­¤æ‰€æœ‰çš„æ•°æ®éƒ½è¦æŸ¥è¯¢è‡³å¶å­èŠ‚ç‚¹ï¼Œè€Œå¶å­èŠ‚ç‚¹çš„é«˜åº¦éƒ½æ˜¯ç›¸åŒçš„ï¼ŒB+Treeçš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨2~4å±‚ï¼Œå› æ­¤æ‰€æœ‰æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦éƒ½æ˜¯ä¸€æ ·çš„ã€‚</li></ul><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p>  <a href="https://blog.csdn.net/u013235478/article/details/50625677">https://blog.csdn.net/u013235478/article/details/50625677</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹ç”µè„‘æˆªå›¾</title>
      <link href="/posts/windows-screen-shot.html"/>
      <url>/posts/windows-screen-shot.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1ã€QQæˆªå›¾ï¼š<code>ctrl+alt+A</code><br>2ã€èŠ±å¼æˆªå›¾ï¼š<code>Win+shift+S</code>  å¯æˆªä»»æ„å½¢çŠ¶<br>3ã€å¾®ä¿¡æˆªå›¾ï¼š<code>Alt+A</code><br>4ã€æµè§ˆå™¨æˆªå›¾ï¼š<code>Ctrl+shift+X</code><br>5ã€WPSæˆªå›¾ï¼š<code>Ctrl+Alt+X</code> </p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå¸¸è§é¢è¯•é¢˜</title>
      <link href="/posts/php-interview.html"/>
      <url>/posts/php-interview.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ï¼Ÿä¸»è¦ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ï¼Ÿä¸»è¦ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ï¼Ÿä¸»è¦ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ï¼Ÿä¸»è¦ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>é¢å‘å¯¹è±¡æ˜¯ç¨‹åºçš„ä¸€ç§è®¾è®¡æ–¹å¼ï¼Œå®ƒåˆ©äºæé«˜ç¨‹åºçš„é‡ç”¨æ€§ï¼Œä½¿ç¨‹åºç»“æ„æ›´åŠ æ¸…æ™°ã€‚ä¸»è¦ç‰¹å¾ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚</p><h4 id="2ã€session-ä¸-cookie-çš„åŒºåˆ«å’Œè”ç³»ï¼Œè¯·ä»åè®®ï¼Œäº§ç”Ÿçš„åŸå› ä¸ä½œç”¨è¯´æ˜"><a href="#2ã€session-ä¸-cookie-çš„åŒºåˆ«å’Œè”ç³»ï¼Œè¯·ä»åè®®ï¼Œäº§ç”Ÿçš„åŸå› ä¸ä½œç”¨è¯´æ˜" class="headerlink" title="2ã€session ä¸ cookie çš„åŒºåˆ«å’Œè”ç³»ï¼Œè¯·ä»åè®®ï¼Œäº§ç”Ÿçš„åŸå› ä¸ä½œç”¨è¯´æ˜?"></a>2ã€session ä¸ cookie çš„åŒºåˆ«å’Œè”ç³»ï¼Œè¯·ä»åè®®ï¼Œäº§ç”Ÿçš„åŸå› ä¸ä½œç”¨è¯´æ˜?</h4><p>Aã€httpæ— çŠ¶æ€åè®®ï¼Œä¸èƒ½åŒºåˆ†ç”¨æˆ·æ˜¯å¦æ˜¯ä»åŒä¸€ä¸ªç½‘ç«™ä¸Šæ¥çš„ï¼ŒåŒä¸€ä¸ªç”¨æˆ·è¯·æ±‚ä¸åŒçš„é¡µé¢ä¸èƒ½çœ‹åšæ˜¯åŒä¸€ä¸ªç”¨æˆ·ã€‚<br>Bã€SESSIONå­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼ŒCOOKIEä¿å­˜åœ¨å®¢æˆ·ç«¯ã€‚Sessionæ¯”è¾ƒå®‰å…¨ï¼Œcookieç”¨æŸäº›æ‰‹æ®µå¯ä»¥ä¿®æ”¹ï¼Œä¸å®‰å…¨ã€‚Sessionä¾èµ–äºcookieè¿›è¡Œä¼ é€’ã€‚<br>ç¦ç”¨cookieåï¼Œsessionä¸èƒ½æ­£å¸¸ä½¿ç”¨ã€‚Sessionçš„ç¼ºç‚¹ï¼šä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œæ¯æ¬¡è¯»å–éƒ½ä»æœåŠ¡å™¨è¿›è¡Œè¯»å–ï¼Œå¯¹æœåŠ¡å™¨æœ‰èµ„æºæ¶ˆè€—ã€‚Sessionä¿å­˜åœ¨æœåŠ¡å™¨ç«¯çš„æ–‡ä»¶æˆ–æ•°æ®åº“ä¸­ï¼Œé»˜è®¤ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶è·¯å¾„ç”±phpé…ç½®æ–‡ä»¶çš„session.save_pathæŒ‡å®šã€‚Sessionæ–‡ä»¶æ˜¯å…¬æœ‰çš„ã€‚</p><p>åŒºåˆ«ï¼š</p><ol><li>å­˜æ”¾ä½ç½®ï¼šSession ä¿å­˜åœ¨æœåŠ¡å™¨ï¼ŒCookie ä¿å­˜åœ¨å®¢æˆ·ç«¯ã€‚</li><li>å­˜æ”¾çš„å½¢å¼ï¼šSession æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼ä¿å­˜åœ¨æœåŠ¡å™¨ï¼ŒCookie ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä¿å­˜åœ¨å®¢æˆ·ç«¯ã€‚</li><li>ç”¨é€”ï¼šCookies é€‚åˆåšä¿å­˜ç”¨æˆ·çš„ä¸ªäººè®¾ç½®ï¼Œçˆ±å¥½ç­‰ï¼ŒSession é€‚åˆåšå®¢æˆ·çš„èº«ä»½éªŒè¯</li><li>è·¯å¾„ï¼šSession ä¸èƒ½åŒºåˆ†è·¯å¾„ï¼ŒåŒä¸€ä¸ªç”¨æˆ·åœ¨è®¿é—®ä¸€ä¸ªç½‘ç«™æœŸé—´ï¼Œæ‰€æœ‰çš„ Session åœ¨ä»»ä½•ä¸€ä¸ªåœ°æ–¹éƒ½å¯ä»¥è®¿é—®åˆ°ã€‚è€Œ Cookie ä¸­å¦‚æœè®¾ç½®äº†è·¯å¾„å‚æ•°ï¼Œé‚£ä¹ˆåŒä¸€ä¸ªç½‘ç«™ä¸­ä¸åŒè·¯å¾„ä¸‹çš„ Cookie äº’ç›¸æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚</li><li>å®‰å…¨æ€§ï¼šCookie ä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„ COOKIE å¹¶è¿›è¡Œ COOKIE æ¬ºéª—ï¼Œè€ƒè™‘åˆ°å®‰å…¨åº”å½“ä½¿ç”¨ session</li><li>å¤§å°ä»¥åŠæ•°é‡é™åˆ¶ï¼šæ¯ä¸ªåŸŸåæ‰€åŒ…å«çš„ cookie æ•°ï¼šIE7/8,FireFox:50 ä¸ªï¼ŒOpera30 ä¸ªï¼› Cookie æ€»å¤§å°ï¼šFirefox å’Œ Safari å…è®¸ cookie å¤šè¾¾ 4097 ä¸ªå­—èŠ‚ï¼ŒOpera å…è®¸ cookie å¤šè¾¾ 4096 ä¸ªå­— èŠ‚ï¼ŒInternetExplorer å…è®¸ cookie å¤šè¾¾ 4095 ä¸ªå­—èŠ‚ï¼›ä¸€èˆ¬è®¤ä¸º Session æ²¡æœ‰å¤§å°å’Œæ•°é‡é™åˆ¶ã€‚</li></ol><p>å…³ç³»ï¼š</p><ol><li>Session éœ€è¦å€ŸåŠ© Cookie æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚å¦‚æœå®¢æˆ·ç«¯å®Œå…¨ç¦æ­¢ Cookieï¼ŒSession å°†å¤±æ•ˆï¼å› ä¸º Session æ˜¯ç”±åº”ç”¨æœåŠ¡å™¨ç»´æŒçš„ä¸€ä¸ª æœåŠ¡å™¨ç«¯çš„å­˜å‚¨ç©ºé—´ï¼Œç”¨æˆ·åœ¨è¿æ¥æœåŠ¡å™¨æ—¶ï¼Œä¼šç”±æœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ SessionID, ç”¨è¯¥ SessionID ä¸ºæ ‡è¯†ç¬¦æ¥å­˜å–æœåŠ¡å™¨ç«¯çš„ Session å­˜å‚¨ç©ºé—´ã€‚è€Œ SessionID è¿™ä¸€æ•°æ®åˆ™æ˜¯ä¿å­˜åˆ°å®¢æˆ·ç«¯ï¼Œç”¨ Cookie ä¿å­˜çš„ï¼Œç”¨æˆ·æäº¤é¡µé¢æ—¶ï¼Œä¼šå°†è¿™ä¸€ SessionID æäº¤åˆ°æœåŠ¡å™¨ç«¯ï¼Œæ¥å­˜å– Session æ•°æ®ã€‚è¿™ä¸€è¿‡ç¨‹ï¼Œæ˜¯ä¸ç”¨å¼€å‘äººå‘˜å¹²é¢„çš„ã€‚æ‰€ä»¥ä¸€æ—¦å®¢æˆ·ç«¯ç¦ç”¨ Cookieï¼Œé‚£ä¹ˆ Session ä¹Ÿä¼šå¤±æ•ˆã€‚</li></ol><h4 id="3ã€HTTP-çŠ¶æ€ä¸­302ã€403ã€-500ä»£ç å«ä¹‰ï¼Ÿ"><a href="#3ã€HTTP-çŠ¶æ€ä¸­302ã€403ã€-500ä»£ç å«ä¹‰ï¼Ÿ" class="headerlink" title="3ã€HTTP çŠ¶æ€ä¸­302ã€403ã€ 500ä»£ç å«ä¹‰ï¼Ÿ"></a>3ã€HTTP çŠ¶æ€ä¸­302ã€403ã€ 500ä»£ç å«ä¹‰ï¼Ÿ</h4><p>ä¸€äºŒä¸‰å››äº”åŸåˆ™:ï¼ˆå³ä¸€ï¼šæ¶ˆæ¯ç³»åˆ—ï¼›äºŒï¼šæˆåŠŸç³»åˆ—ï¼› ä¸‰ï¼šé‡å®šå‘ç³»åˆ—ï¼›å››ï¼šè¯·æ±‚é”™è¯¯ç³»åˆ—ï¼›äº”ï¼šæœåŠ¡å™¨ç«¯é”™è¯¯ç³»åˆ—ã€‚ï¼‰<br>302:ä¸´æ—¶è½¬ç§»æˆåŠŸï¼Œè¯·æ±‚çš„å†…å®¹å·²è½¬ç§»åˆ°æ–°ä½ç½®<br>403:ç¦æ­¢è®¿é—®<br>500:æœåŠ¡å™¨å†…éƒ¨é”™è¯¯<br>401ï¼šä»£è¡¨æœªæˆæƒã€‚</p><h4 id="4ã€è¯·å†™å‡ºæ•°æ®ç±»å‹-int-char-varchar-datetime-text-çš„æ„æ€ï¼›è¯·é—®-varchar-å’Œ-charæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#4ã€è¯·å†™å‡ºæ•°æ®ç±»å‹-int-char-varchar-datetime-text-çš„æ„æ€ï¼›è¯·é—®-varchar-å’Œ-charæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="4ã€è¯·å†™å‡ºæ•°æ®ç±»å‹(int char varchar datetime text)çš„æ„æ€ï¼›è¯·é—® varchar å’Œ charæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>4ã€è¯·å†™å‡ºæ•°æ®ç±»å‹(int char varchar datetime text)çš„æ„æ€ï¼›è¯·é—® varchar å’Œ charæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><p>Int æ•´æ•°char å®šé•¿å­—ç¬¦ Varchar å˜é•¿å­—ç¬¦ Datetime æ—¥æœŸæ—¶é—´å‹Text æ–‡æœ¬å‹ Varcharä¸charçš„åŒºåˆ« charæ˜¯å›ºå®šé•¿åº¦çš„å­—ç¬¦ç±»å‹ï¼Œåˆ†é…å¤šå°‘ç©ºé—´ï¼Œå°±å ç”¨å¤šé•¿ç©ºé—´ã€‚Varcharæ˜¯å¯å˜é•¿åº¦çš„å­—ç¬¦ç±»å‹ï¼Œå†…å®¹æœ‰å¤šå¤§å°±å ç”¨å¤šå¤§çš„ç©ºé—´ï¼Œèƒ½æœ‰æ•ˆèŠ‚çœç©ºé—´ã€‚ç”±äºvarcharç±»å‹æ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥åœ¨æ•°æ®é•¿åº¦æ”¹å˜çš„æ—¶ï¼ŒæœåŠ¡å™¨è¦è¿›è¡Œé¢å¤–çš„æ“ä½œï¼Œæ‰€ä»¥æ•ˆç‡æ¯”charç±»å‹ä½ã€‚</p><h4 id="5ã€MyISAMå’Œ-InnoDB-çš„åŸºæœ¬åŒºåˆ«ï¼Ÿç´¢å¼•ç»“æ„å¦‚ä½•å®ç°ï¼Ÿ"><a href="#5ã€MyISAMå’Œ-InnoDB-çš„åŸºæœ¬åŒºåˆ«ï¼Ÿç´¢å¼•ç»“æ„å¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="5ã€MyISAMå’Œ InnoDB çš„åŸºæœ¬åŒºåˆ«ï¼Ÿç´¢å¼•ç»“æ„å¦‚ä½•å®ç°ï¼Ÿ"></a>5ã€MyISAMå’Œ InnoDB çš„åŸºæœ¬åŒºåˆ«ï¼Ÿç´¢å¼•ç»“æ„å¦‚ä½•å®ç°ï¼Ÿ</h4><p>Aã€MyISAMç±»å‹ä¸æ”¯æŒäº‹åŠ¡ï¼Œè¡¨é”ï¼Œæ˜“äº§ç”Ÿç¢ç‰‡ï¼Œè¦ç»å¸¸ä¼˜åŒ–ï¼Œè¯»å†™é€Ÿåº¦è¾ƒå¿«ï¼Œé€‚åˆç”¨äºé¢‘ç¹æŸ¥è¯¢çš„åº”ç”¨ï¼›<br>Bã€InnoDBç±»å‹æ”¯æŒäº‹åŠ¡ï¼Œè¡Œé”ï¼Œæœ‰å´©æºƒæ¢å¤èƒ½åŠ›ï¼Œè¯»å†™é€Ÿåº¦æ¯”MyISAMæ…¢ï¼Œé€‚åˆäºæ’å…¥å’Œæ›´æ–°æ“ä½œæ¯”è¾ƒå¤šçš„åº”ç”¨ï¼Œç©ºé—´å ç”¨å¤§ï¼Œä¸æ”¯æŒå…¨æ–‡ç´¢å¼•ç­‰ã€‚<br>åˆ›å»ºç´¢å¼•ï¼šalert table tablename add index ç´¢å¼•å (<code>å­—æ®µå</code>)</p><h4 id="6ã€isset-å’Œ-empty-åŒºåˆ«"><a href="#6ã€isset-å’Œ-empty-åŒºåˆ«" class="headerlink" title="6ã€isset() å’Œ empty() åŒºåˆ«"></a>6ã€isset() å’Œ empty() åŒºåˆ«</h4><p>issetåˆ¤æ–­å˜é‡æ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥ä¼ å…¥å¤šä¸ªå˜é‡ï¼Œè‹¥å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸å­˜åœ¨åˆ™è¿”å›å‡ï¼›emptyåˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºç©ºä¸ºå‡ï¼Œåªå¯ä¼ ä¸€ä¸ªå˜é‡ï¼Œå¦‚æœä¸ºç©ºä¸ºå‡åˆ™è¿”å›çœŸã€‚</p><h4 id="7ã€è¯·è¯´æ˜-PHP-ä¸­ä¼ å€¼ä¸ä¼ å¼•ç”¨çš„åŒºåˆ«ã€‚ä»€ä¹ˆæ—¶å€™ä¼ å€¼ä»€ä¹ˆæ—¶å€™ä¼ å¼•ç”¨ï¼Ÿ"><a href="#7ã€è¯·è¯´æ˜-PHP-ä¸­ä¼ å€¼ä¸ä¼ å¼•ç”¨çš„åŒºåˆ«ã€‚ä»€ä¹ˆæ—¶å€™ä¼ å€¼ä»€ä¹ˆæ—¶å€™ä¼ å¼•ç”¨ï¼Ÿ" class="headerlink" title="7ã€è¯·è¯´æ˜ PHP ä¸­ä¼ å€¼ä¸ä¼ å¼•ç”¨çš„åŒºåˆ«ã€‚ä»€ä¹ˆæ—¶å€™ä¼ å€¼ä»€ä¹ˆæ—¶å€™ä¼ å¼•ç”¨ï¼Ÿ"></a>7ã€è¯·è¯´æ˜ PHP ä¸­ä¼ å€¼ä¸ä¼ å¼•ç”¨çš„åŒºåˆ«ã€‚ä»€ä¹ˆæ—¶å€™ä¼ å€¼ä»€ä¹ˆæ—¶å€™ä¼ å¼•ç”¨ï¼Ÿ</h4><p>æŒ‰å€¼ä¼ é€’ï¼šå‡½æ•°èŒƒå›´å†…å¯¹å€¼çš„ä»»ä½•æ”¹å˜åœ¨å‡½æ•°å¤–éƒ¨éƒ½ä¼šè¢«å¿½ç•¥<br>æŒ‰å¼•ç”¨ä¼ é€’ï¼šå‡½æ•°èŒƒå›´å†…å¯¹å€¼çš„ä»»ä½•æ”¹å˜åœ¨å‡½æ•°å¤–éƒ¨ä¹Ÿèƒ½åæ˜ å‡ºè¿™äº›ä¿®æ”¹<br>ä¼˜ç¼ºç‚¹ï¼šæŒ‰å€¼ä¼ é€’æ—¶ï¼Œphpå¿…é¡»å¤åˆ¶å€¼ã€‚ç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹çš„å­—ç¬¦ä¸²å’Œå¯¹è±¡æ¥è¯´ï¼Œè¿™å°†ä¼šæ˜¯ä¸€ä¸ªä»£ä»·å¾ˆå¤§çš„æ“ä½œã€‚æŒ‰å¼•ç”¨ä¼ é€’åˆ™ä¸éœ€è¦å¤åˆ¶å€¼ï¼Œå¯¹äºæ€§èƒ½æé«˜å¾ˆæœ‰å¥½å¤„ã€‚</p><h4 id="8ã€åœ¨PHPä¸­error-reportingè¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#8ã€åœ¨PHPä¸­error-reportingè¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="8ã€åœ¨PHPä¸­error_reportingè¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>8ã€åœ¨PHPä¸­error_reportingè¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h4><p>è®¾ç½®PHPçš„æŠ¥é”™çº§åˆ«å¹¶è¿”å›å½“å‰çº§åˆ«ã€‚</p><h4 id="9ã€è¯´è¯´ä½ å¯¹ç¼“å­˜æŠ€æœ¯çš„äº†è§£ï¼Ÿ"><a href="#9ã€è¯´è¯´ä½ å¯¹ç¼“å­˜æŠ€æœ¯çš„äº†è§£ï¼Ÿ" class="headerlink" title="9ã€è¯´è¯´ä½ å¯¹ç¼“å­˜æŠ€æœ¯çš„äº†è§£ï¼Ÿ"></a>9ã€è¯´è¯´ä½ å¯¹ç¼“å­˜æŠ€æœ¯çš„äº†è§£ï¼Ÿ</h4><p>ç¼“å­˜æŠ€æœ¯æ˜¯å°†åŠ¨æ€å†…å®¹ç¼“å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…è®¿é—®åŠ¨æ€é¡µé¢ç›´æ¥è°ƒç”¨ç¼“å­˜æ–‡ä»¶ï¼Œè€Œä¸å¿…é‡æ–°è®¿é—®æ•°æ®åº“ã€‚</p><h4 id="10ã€ç°åœ¨ç¼–ç¨‹ä¸­ç»å¸¸é‡‡å–MVCä¸‰å±‚ç»“æ„ï¼Œè¯·é—®MVCåˆ†åˆ«æŒ‡å“ªä¸‰å±‚ï¼Œæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ"><a href="#10ã€ç°åœ¨ç¼–ç¨‹ä¸­ç»å¸¸é‡‡å–MVCä¸‰å±‚ç»“æ„ï¼Œè¯·é—®MVCåˆ†åˆ«æŒ‡å“ªä¸‰å±‚ï¼Œæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ" class="headerlink" title="10ã€ç°åœ¨ç¼–ç¨‹ä¸­ç»å¸¸é‡‡å–MVCä¸‰å±‚ç»“æ„ï¼Œè¯·é—®MVCåˆ†åˆ«æŒ‡å“ªä¸‰å±‚ï¼Œæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ"></a>10ã€ç°åœ¨ç¼–ç¨‹ä¸­ç»å¸¸é‡‡å–MVCä¸‰å±‚ç»“æ„ï¼Œè¯·é—®MVCåˆ†åˆ«æŒ‡å“ªä¸‰å±‚ï¼Œæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ</h4><p>MVCä¸‰å±‚åˆ†åˆ«æŒ‡ï¼šä¸šåŠ¡æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ï¼Œç”±æ§åˆ¶å™¨å±‚è°ƒç”¨æ¨¡å‹å¤„ç†æ•°æ®ï¼Œç„¶åå°†æ•°æ®æ˜ å°„åˆ°è§†å›¾å±‚è¿›è¡Œæ˜¾ç¤ºï¼Œä¼˜ç‚¹æ˜¯ï¼šâ‘ å¯ä»¥å®ç°ä»£ç çš„é‡ç”¨æ€§ï¼Œé¿å…äº§ç”Ÿä»£ç å†—ä½™ï¼›â‘¡Må’ŒVçš„å®ç°ä»£ç åˆ†ç¦»ï¼Œä»è€Œä½¿åŒä¸€ä¸ªç¨‹åºå¯ä»¥ä½¿ç”¨ä¸åŒçš„è¡¨ç°å½¢å¼</p><h4 id="11ã€AJAXçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#11ã€AJAXçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="11ã€AJAXçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"></a>11ã€AJAXçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>ajaxæ˜¯å¼‚æ­¥ä¼ è¾“æŠ€æœ¯ï¼Œå¯ä»¥é€šè¿‡javascriptå®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡JQueryæ¡†æ¶å®ç°ï¼Œå®ç°å±€éƒ¨åˆ·æ–°ï¼Œå‡è½»äº†æœåŠ¡å™¨çš„å‹åŠ›ï¼Œä¹Ÿæé«˜äº†ç”¨æˆ·ä½“éªŒã€‚</p><h4 id="12ã€åœ¨ç¨‹åºçš„å¼€å‘ä¸­ï¼Œå¦‚ä½•æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Ÿ"><a href="#12ã€åœ¨ç¨‹åºçš„å¼€å‘ä¸­ï¼Œå¦‚ä½•æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Ÿ" class="headerlink" title="12ã€åœ¨ç¨‹åºçš„å¼€å‘ä¸­ï¼Œå¦‚ä½•æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Ÿ"></a>12ã€åœ¨ç¨‹åºçš„å¼€å‘ä¸­ï¼Œå¦‚ä½•æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Ÿ</h4><p>Aã€ä¼˜åŒ–SQLè¯­å¥ï¼ŒæŸ¥è¯¢è¯­å¥ä¸­å°½é‡ä¸ä½¿ç”¨select *ï¼Œç”¨å“ªä¸ªå­—æ®µæŸ¥å“ªä¸ªå­—æ®µï¼›å°‘ç”¨å­æŸ¥è¯¢å¯ç”¨è¡¨è¿æ¥ä»£æ›¿ï¼›å°‘ç”¨æ¨¡ç³ŠæŸ¥è¯¢ï¼›<br>Bã€æ•°æ®è¡¨ä¸­åˆ›å»ºç´¢å¼•ï¼›<br>Cã€å¯¹ç¨‹åºä¸­ç»å¸¸ç”¨åˆ°çš„æ•°æ®ç”Ÿæˆç¼“å­˜ã€‚</p><h4 id="13ã€è¯·ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular-Expressionï¼‰å†™ä¸€ä¸ªå‡½æ•°éªŒè¯ç”µå­é‚®ä»¶çš„æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚"><a href="#13ã€è¯·ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular-Expressionï¼‰å†™ä¸€ä¸ªå‡½æ•°éªŒè¯ç”µå­é‚®ä»¶çš„æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚" class="headerlink" title="13ã€è¯·ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionï¼‰å†™ä¸€ä¸ªå‡½æ•°éªŒè¯ç”µå­é‚®ä»¶çš„æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚"></a>13ã€è¯·ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionï¼‰å†™ä¸€ä¸ªå‡½æ•°éªŒè¯ç”µå­é‚®ä»¶çš„æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚</h4><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkemail</span>(<span class="params"><span class="variable">$email</span></span>)</span>{</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">preg_match</span>(â€˜/^[<span class="number">0</span>-<span class="number">9</span>a-zA-Z-]+@[<span class="number">0</span>-<span class="number">9</span>a-zA-Z-]+\.[<span class="number">0</span>-<span class="number">9</span>a-zA-Z]+$/â€™,<span class="variable">$email</span>)?â€™emailæ ¼å¼æ­£ç¡®â€˜:â€™emailæ ¼å¼ä¸æ­£ç¡®â€˜;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="14ã€æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«"><a href="#14ã€æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«" class="headerlink" title="14ã€æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«"></a>14ã€æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«</h4><p>å½“å¤šä¸ªåŒç±»çš„ç±»è¦è®¾è®¡ä¸€ä¸ªä¸Šå±‚ï¼Œé€šå¸¸è®¾è®¡ä¸ºæŠ½è±¡ç±»ï¼Œå½“å¤šä¸ªå¼‚æ„çš„ç±»è¦è®¾è®¡ä¸€ä¸ªä¸Šå±‚ï¼Œé€šå¸¸è®¾è®¡ä¸ºæ¥å£ã€‚</p><h4 id="15ã€è¯´è¯´æ•°æ®åº“çš„ç´¢å¼•"><a href="#15ã€è¯´è¯´æ•°æ®åº“çš„ç´¢å¼•" class="headerlink" title="15ã€è¯´è¯´æ•°æ®åº“çš„ç´¢å¼•"></a>15ã€è¯´è¯´æ•°æ®åº“çš„ç´¢å¼•</h4><p>å”¯ä¸€ç´¢å¼•ã€ä¸»é”®ç´¢å¼•ã€è”åˆç´¢å¼•</p><h4 id="16ã€è¯´è¯´rediså¸¸ç”¨çš„æ•°æ®ç»“æ„"><a href="#16ã€è¯´è¯´rediså¸¸ç”¨çš„æ•°æ®ç»“æ„" class="headerlink" title="16ã€è¯´è¯´rediså¸¸ç”¨çš„æ•°æ®ç»“æ„"></a>16ã€è¯´è¯´rediså¸¸ç”¨çš„æ•°æ®ç»“æ„</h4><p>stringã€listã€hashã€setã€zsetç­‰</p><h4 id="17ã€Redisçš„å†…å­˜æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›"><a href="#17ã€Redisçš„å†…å­˜æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›" class="headerlink" title="17ã€Redisçš„å†…å­˜æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›"></a>17ã€Redisçš„å†…å­˜æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›</h4><p>Redisçš„å†…å­˜æ·˜æ±°ç­–ç•¥æ˜¯æŒ‡åœ¨Redisçš„ç”¨äºç¼“å­˜çš„å†…å­˜ä¸è¶³æ—¶ï¼Œæ€ä¹ˆå¤„ç†éœ€è¦æ–°å†™å…¥ä¸”éœ€è¦ç”³è¯·é¢å¤–ç©ºé—´çš„æ•°æ®ã€‚</p><ul><li>å…¨å±€çš„é”®ç©ºé—´é€‰æ‹©æ€§ç§»é™¤<ol><li>noevictionï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œæ–°å†™å…¥æ“ä½œä¼šæŠ¥é”™ã€‚</li><li>allkeys-lruï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨é”®ç©ºé—´ä¸­ï¼Œç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„keyã€‚ï¼ˆè¿™ä¸ªæ˜¯æœ€å¸¸ç”¨çš„ï¼‰</li><li>allkeys-randomï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨é”®ç©ºé—´ä¸­ï¼Œéšæœºç§»é™¤æŸä¸ªkeyã€‚</li></ol></li><li>è®¾ç½®è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´é€‰æ‹©æ€§ç§»é™¤<ol><li>volatile-lruï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„keyã€‚</li><li>volatile-randomï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œéšæœºç§»é™¤æŸä¸ªkeyã€‚</li><li>volatile-ttlï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œæœ‰æ›´æ—©è¿‡æœŸæ—¶é—´çš„keyä¼˜å…ˆç§»é™¤ã€‚</li></ol></li></ul><h4 id="18ã€Rediså¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—"><a href="#18ã€Rediså¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—" class="headerlink" title="18ã€Rediså¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—"></a>18ã€Rediså¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—</h4><p>ä½¿ç”¨sortedsetï¼Œä½¿ç”¨æ—¶é—´æˆ³åšscore, æ¶ˆæ¯å†…å®¹ä½œä¸ºkey,è°ƒç”¨zaddæ¥ç”Ÿäº§æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…ä½¿ç”¨zrangbyscoreè·å–nç§’ä¹‹å‰çš„æ•°æ®åšè½®è¯¢å¤„ç†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windowsä¸‹æ‰¹å¤„ç†</title>
      <link href="/posts/php-bat.html"/>
      <url>/posts/php-bat.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å› å·¥ä½œéœ€è¦ï¼Œéœ€è¦æŒ‰æ¡ä»¶åˆ é™¤æŒ‡å®šè¡¨ä¸­å¤§æ‰¹é‡æ•°æ®ï¼Œæ•…ç”¨phpåšäº†ä¸ªç«™ç‚¹é¡µé¢å¤„ç†ç¨‹åºï¼Œæ¯é¡µå¤„ç†500æ¡æ•°æ®ï¼Œå¤„ç†åsleep(5)ï¼Œè·³è½¬ä¸‹ä¸€é¡µï¼›ä½†ç¨‹åºè¿è¡Œä¸­å¯èƒ½å‡ºç°è¶…æ—¶é¡µé¢æŒ‚æ‰çš„æƒ…å†µï¼Œä¸ºäº†å‡å°‘ä¸ªäººçš„å·¥ä½œé‡ï¼Œå°±å€ŸåŠ©windowsçš„ä»»åŠ¡è®¡åˆ’ç¨‹åºï¼Œè®¾ç½®æ¯ä¸¤ä¸ªå°æ—¶ï¼Œå…³é—­æµè§ˆå™¨ï¼Œä¼‘çœ å‡ ç§’ï¼Œå†æ¬¡åœ¨æµè§ˆå™¨ä¸­è®¿é—®å¤„ç†ç¨‹åºåœ°å€ã€‚æ²¡æƒ³åˆ°æ•ˆæœè¿˜ä¸é”™ã€‚ä¸‹é¢æ˜¯è®¡åˆ’ä»»åŠ¡çš„batç¨‹åºã€‚<br></p><figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">TASKKILL</span> /F /IM chrome.exe</span><br><span class="line"><span class="built_in">ping</span> -n <span class="number">10</span> <span class="number">127</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span> &gt; <span class="built_in">nul</span></span><br><span class="line"><span class="built_in">cmd</span> /c <span class="built_in">start</span> https://manage.lepayedu.com/index.php/my-test/deal-school-entry?page=<span class="number">100</span></span><br></pre></td></tr></tbody></table></figure><br><img src="/images/php_bat_1.png" alt=""><p></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå·±å°è£…çš„ä¸€äº›å¸¸ç”¨çš„PHPå‡½æ•°</title>
      <link href="/posts/php-some-my-functions.html"/>
      <url>/posts/php-some-my-functions.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-å°†å­—ç¬¦ä¸²æ¯éš”nä½æ˜¾ç¤ºä¸€ä¸ªæŒ‡å®šå­—ç¬¦"><a href="#1-å°†å­—ç¬¦ä¸²æ¯éš”nä½æ˜¾ç¤ºä¸€ä¸ªæŒ‡å®šå­—ç¬¦" class="headerlink" title="1. å°†å­—ç¬¦ä¸²æ¯éš”nä½æ˜¾ç¤ºä¸€ä¸ªæŒ‡å®šå­—ç¬¦"></a>1. å°†å­—ç¬¦ä¸²æ¯éš”nä½æ˜¾ç¤ºä¸€ä¸ªæŒ‡å®šå­—ç¬¦</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†å­—ç¬¦ä¸²æ¯éš”nä½æ˜¾ç¤ºä¸€ä¸ªæŒ‡å®šå­—ç¬¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $str   åŸå§‹å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> int $n        é—´éš”ä½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $d     åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string       ç»“æœå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> * eg: ed4a32c2=&gt;ed:4a:32:c2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">divisionStr</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$str</span>,<span class="keyword">int</span> <span class="variable">$n</span>,<span class="keyword">string</span> <span class="variable">$d</span>=<span class="string">" "</span></span>):<span class="title">string</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">join</span>(<span class="variable">$d</span>,<span class="title function_ invoke__">str_split</span>(<span class="variable">$str</span>,<span class="variable">$n</span>)));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-æ‰“å°å›¾ç‰‡çš„æ¯ä¸€ä¸ªåƒç´ é¢œè‰²å€¼"><a href="#2-æ‰“å°å›¾ç‰‡çš„æ¯ä¸€ä¸ªåƒç´ é¢œè‰²å€¼" class="headerlink" title="2. æ‰“å°å›¾ç‰‡çš„æ¯ä¸€ä¸ªåƒç´ é¢œè‰²å€¼"></a>2. æ‰“å°å›¾ç‰‡çš„æ¯ä¸€ä¸ªåƒç´ é¢œè‰²å€¼</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰“å°å›¾ç‰‡çš„æ¯ä¸€ä¸ªåƒç´ é¢œè‰²å€¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $picUrl    å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printPicPixels</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$picUrl</span></span>): <span class="title">void</span> </span>{</span><br><span class="line">    <span class="variable">$i</span> = <span class="title function_ invoke__">imagecreatefrompng</span>(<span class="variable">$picUrl</span>);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable">$i</span>)    <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$y</span> = <span class="number">0</span>; <span class="variable">$y</span> &lt; <span class="title function_ invoke__">imagesy</span>(<span class="variable">$i</span>); <span class="variable">$y</span>++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$x</span> = <span class="number">0</span>; <span class="variable">$x</span> &lt; <span class="title function_ invoke__">imagesx</span>(<span class="variable">$i</span>); <span class="variable">$x</span>++) {</span><br><span class="line">            <span class="variable">$rgb</span> = <span class="title function_ invoke__">imagecolorat</span>(<span class="variable">$i</span>, <span class="variable">$x</span>, <span class="variable">$y</span>);</span><br><span class="line">            <span class="variable">$r</span> = (<span class="variable">$rgb</span> &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>;</span><br><span class="line">            <span class="variable">$g</span> = (<span class="variable">$rgb</span> &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>;</span><br><span class="line">            <span class="variable">$b</span> = <span class="variable">$rgb</span> &amp; <span class="number">0xFF</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"rgb(<span class="subst">$r</span>,<span class="subst">$g</span>,<span class="subst">$b</span>)"</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-å­—ç¬¦ä¸²æŒ‰ç…§ASCIIç é¡ºåºæ’åº"><a href="#3-å­—ç¬¦ä¸²æŒ‰ç…§ASCIIç é¡ºåºæ’åº" class="headerlink" title="3. å­—ç¬¦ä¸²æŒ‰ç…§ASCIIç é¡ºåºæ’åº"></a>3. å­—ç¬¦ä¸²æŒ‰ç…§ASCIIç é¡ºåºæ’åº</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å­—ç¬¦ä¸²æŒ‰ç…§ASCIIç é¡ºåºæ’åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $str å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> int $sort æ’åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortStr</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$str</span>, <span class="variable">$sort</span>=SORT_ASC</span>): <span class="title">string</span></span>{</span><br><span class="line">    <span class="variable">$arr</span> = <span class="title function_ invoke__">str_split</span>(<span class="variable">$str</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$sort</span> == SORT_ASC){</span><br><span class="line">        <span class="title function_ invoke__">asort</span>(<span class="variable">$arr</span>);</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="title function_ invoke__">arsort</span>(<span class="variable">$arr</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">join</span>(<span class="string">''</span>, <span class="variable">$arr</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="4-å­—èŠ‚æ•°è½¬åŒ–ä¸ºå¸¸ç”¨å•ä½"><a href="#4-å­—èŠ‚æ•°è½¬åŒ–ä¸ºå¸¸ç”¨å•ä½" class="headerlink" title="4. å­—èŠ‚æ•°è½¬åŒ–ä¸ºå¸¸ç”¨å•ä½"></a>4. å­—èŠ‚æ•°è½¬åŒ–ä¸ºå¸¸ç”¨å•ä½</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å­—èŠ‚æ•°è½¬åŒ–ä¸ºå¸¸ç”¨å•ä½</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> int $size å­—èŠ‚æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convert</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$size</span></span>): <span class="title">string</span></span>{</span><br><span class="line">    <span class="variable">$unit</span> = [<span class="string">'b'</span>, <span class="string">'kb'</span>, <span class="string">'mb'</span>, <span class="string">'gb'</span>, <span class="string">'tb'</span>, <span class="string">'pb'</span>];</span><br><span class="line">    <span class="variable">$exp</span> = <span class="title function_ invoke__">floor</span>(<span class="title function_ invoke__">log</span>(<span class="variable">$size</span>, <span class="number">1024</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">round</span>(<span class="variable">$size</span> / <span class="title function_ invoke__">pow</span>(<span class="number">1024</span>, <span class="variable">$exp</span>), <span class="number">2</span>) . <span class="string">' '</span> . <span class="variable">$unit</span>[<span class="variable">$exp</span>];</span><br><span class="line">}</span><br><span class="line"><span class="comment">// ä½¿ç”¨ï¼šæŸ¥çœ‹å†…å­˜ä½¿ç”¨ echo convert(memory_get_usage(false));</span></span><br></pre></td></tr></tbody></table></figure><h3 id="5-pingæŒ‡å®šåœ°å€ï¼Œç”¨äºç›‘æ§æœåŠ¡å™¨æ˜¯å¦åœ¨çº¿"><a href="#5-pingæŒ‡å®šåœ°å€ï¼Œç”¨äºç›‘æ§æœåŠ¡å™¨æ˜¯å¦åœ¨çº¿" class="headerlink" title="5. pingæŒ‡å®šåœ°å€ï¼Œç”¨äºç›‘æ§æœåŠ¡å™¨æ˜¯å¦åœ¨çº¿"></a>5. pingæŒ‡å®šåœ°å€ï¼Œç”¨äºç›‘æ§æœåŠ¡å™¨æ˜¯å¦åœ¨çº¿</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ping æŒ‡å®šåœ°å€</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $address</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pingHost</span>(<span class="params"><span class="variable">$address</span></span>)</span>{</span><br><span class="line">    <span class="variable">$address</span> = <span class="title function_ invoke__">parse_url</span>(<span class="variable">$address</span>);</span><br><span class="line">    <span class="variable">$host</span> = <span class="keyword">isset</span>(<span class="variable">$address</span>[<span class="string">'host'</span>]) ? <span class="variable">$address</span>[<span class="string">'host'</span>] : <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable">$host</span>)  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="variable">$status</span> = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">strcasecmp</span>(PHP_OS, <span class="string">'WINNT'</span>) === <span class="number">0</span>) {</span><br><span class="line">        <span class="variable">$rs</span> = <span class="title function_ invoke__">exec</span>(<span class="string">"ping -n 1 <span class="subst">{$host}</span>"</span>, <span class="variable">$outcome</span>, <span class="variable">$status</span>);  <span class="comment">// Windows æœåŠ¡å™¨ä¸‹</span></span><br><span class="line">    } <span class="keyword">elseif</span> (<span class="title function_ invoke__">strcasecmp</span>(PHP_OS, <span class="string">'Linux'</span>) === <span class="number">0</span>) {</span><br><span class="line">        <span class="variable">$rs</span> = <span class="title function_ invoke__">exec</span>(<span class="string">"ping -c 1 <span class="subst">{$host}</span>"</span>, <span class="variable">$outcome</span>, <span class="variable">$status</span>);  <span class="comment">// Linux æœåŠ¡å™¨ä¸‹</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$status</span>==<span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//$url = "https://cloud.tencent.com/document/api/457/37184?id=232";</span></span><br><span class="line"><span class="comment">//var_dump(pingHost($url));       //true</span></span><br></pre></td></tr></tbody></table></figure><h3 id="6-æ–‡æœ¬å˜é‡æ›¿æ¢"><a href="#6-æ–‡æœ¬å˜é‡æ›¿æ¢" class="headerlink" title="6. æ–‡æœ¬å˜é‡æ›¿æ¢"></a>6. æ–‡æœ¬å˜é‡æ›¿æ¢</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å˜é‡æ›¿æ¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $string è¦è¿›è¡Œæ›¿æ¢çš„åŸå§‹å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> array $params å…³è”æ•°ç»„(åŒ…å«éœ€è¦æ›¿æ¢çš„å ä½ç¬¦å’Œå¯¹åº”çš„å€¼)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceString</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$string</span>, <span class="keyword">array</span> <span class="variable">$params</span> = []</span>): <span class="title">string</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$params</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) {</span><br><span class="line">        <span class="variable">$placeholder</span> = <span class="string">'{'</span> . <span class="variable">$key</span> . <span class="string">'}'</span>;</span><br><span class="line">        <span class="variable">$string</span> = <span class="title function_ invoke__">str_replace</span>(<span class="variable">$placeholder</span>, <span class="variable">$value</span>, <span class="variable">$string</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//    $string = 'Accumulated login {amount} days';</span></span><br><span class="line"><span class="comment">//    $params = ['amount' =&gt; 20];</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    $result = replaceString($string, $params);</span></span><br><span class="line"><span class="comment">//    echo $result;  // è¾“å‡ºï¼šAccumulated login 20 days</span></span><br></pre></td></tr></tbody></table></figure><h3 id="7-åˆ¤æ–­æŒ‡å®šæ•°å­—æ˜¯å¦åœ¨åŒºé—´é‡Œ"><a href="#7-åˆ¤æ–­æŒ‡å®šæ•°å­—æ˜¯å¦åœ¨åŒºé—´é‡Œ" class="headerlink" title="7. åˆ¤æ–­æŒ‡å®šæ•°å­—æ˜¯å¦åœ¨åŒºé—´é‡Œ"></a>7. åˆ¤æ–­æŒ‡å®šæ•°å­—æ˜¯å¦åœ¨åŒºé—´é‡Œ</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ¤æ–­æŒ‡å®šæ•°å­—æ˜¯å¦åœ¨åŒºé—´é‡Œ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> int|float $num    æŒ‡å®šæ•°å­—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $interval  åŒºé—´  æ”¯æŒæ ¼å¼ï¼š(,20)ã€[10,5)ã€ã€20.5,)ã€(-âˆï¼Œ50.1)ã€(-âˆ,+âˆ)ã€(,)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isInInterval</span>(<span class="params"><span class="variable">$num</span>, <span class="variable">$interval</span></span>): <span class="title">bool</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="variable">$pattern</span> = <span class="string">'/^([\[\(])(-?âˆ|\d*),(\+?âˆ|\d*)([\]\)])$/'</span>;</span><br><span class="line">    <span class="variable">$res</span> = <span class="title function_ invoke__">preg_match</span>(<span class="variable">$pattern</span>, <span class="variable">$interval</span>, <span class="variable">$matches</span>);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable">$res</span>)  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$leftBracket</span> = <span class="variable">$matches</span>[<span class="number">1</span>];</span><br><span class="line">    <span class="variable">$leftNum</span> = <span class="variable">$matches</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="variable">$rightNum</span> = <span class="variable">$matches</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="variable">$rightBracket</span> = <span class="variable">$matches</span>[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$leftNum</span> !== <span class="string">'âˆ'</span> &amp;&amp; <span class="variable">$leftNum</span> !== <span class="string">''</span>) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$leftBracket</span> == <span class="string">'['</span>) {</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$num</span> &lt; <span class="variable">$leftNum</span>) {</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$num</span> &lt;= <span class="variable">$leftNum</span>) {</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$rightNum</span> !== <span class="string">'+âˆ'</span> &amp;&amp; <span class="variable">$rightNum</span> !== <span class="string">''</span>) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$rightBracket</span> == <span class="string">']'</span>) {</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$num</span> &gt; <span class="variable">$rightNum</span>) {</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$num</span> &gt;= <span class="variable">$rightNum</span>) {</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//    $num = 20;</span></span><br><span class="line"><span class="comment">//    $interval = "(20,]";</span></span><br><span class="line"><span class="comment">//    if (MathUtils::isInInterval($num, $interval)) {</span></span><br><span class="line"><span class="comment">//        echo "æ•°å­— {$num} åœ¨åŒºé—´ {$interval} ä¸­";</span></span><br><span class="line"><span class="comment">//    } else {</span></span><br><span class="line"><span class="comment">//        echo "æ•°å­— {$num} ä¸åœ¨åŒºé—´ {$interval} ä¸­";</span></span><br><span class="line"><span class="comment">//    }</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPå‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸è§é¢œè‰²å€¼</title>
      <link href="/posts/normal-rgb.html"/>
      <url>/posts/normal-rgb.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>RGB(255,255,255)ï¼šç™½è‰²   #FFFFFF<br>RGB(0,0,0)ï¼šé»‘è‰²  #000000<br>RGB(255,0,0)ï¼šçº¢è‰²  #FF0000</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨åŸŸé—®é¢˜</title>
      <link href="/posts/cross-domain.html"/>
      <url>/posts/cross-domain.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å­˜åœ¨åŸå› "><a href="#å­˜åœ¨åŸå› " class="headerlink" title="å­˜åœ¨åŸå› "></a>å­˜åœ¨åŸå› </h3><p>æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼Œä¸€ä¸ªæºè¡¨ç¤ºåè®®ã€ç«¯å£ã€åŸŸåéƒ½ç›¸åŒï¼Œå¦åˆ™å°±å½¢æˆè·¨åŸŸã€‚<br><img src="/images/cross_domain_1.png" alt=""></p><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><p>  A. æœåŠ¡å™¨å“åº”å¤´ï¼šheader(â€œAccess-Control-Allow-Origin:*â€);<br>  B. iframeå®ç°è·¨åŸŸ<br>  C. jsonp  å¸¦æœ‰ srcå±æ€§çš„æ ‡ç­¾(&lt;script&gt;/&lt;img&gt;/&lt;iframe&gt;)ä¸å—åŒæºç­–ç•¥é™åˆ¶</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¨åŸŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é”šå®šæ•ˆåº”</title>
      <link href="/posts/anchoring-effect.html"/>
      <url>/posts/anchoring-effect.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ²‰é”šæ•ˆåº”ï¼Œå¿ƒç†å­¦åè¯ï¼ŒæŒ‡çš„æ˜¯äººä»¬åœ¨å¯¹æŸäººæŸäº‹åšå‡ºåˆ¤æ–­æ—¶ï¼Œæ˜“å—ç¬¬ä¸€å°è±¡æˆ–ç¬¬ä¸€ä¿¡æ¯æ”¯é…ï¼Œå°±åƒæ²‰å…¥æµ·åº•çš„é”šä¸€æ ·æŠŠäººä»¬çš„æ€æƒ³å›ºå®šåœ¨æŸå¤„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> äº§å“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é”šå®šæ•ˆåº” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå¸¸ç”¨çš„ç®—æ³•</title>
      <link href="/posts/php-common-algorithm.html"/>
      <url>/posts/php-common-algorithm.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)</li><li>ä»£ç å®ç°<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params"><span class="variable">$arr</span></span>)</span>{</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$arr</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span>&lt;<span class="variable">$n</span>-<span class="number">1</span>; <span class="variable">$i</span>++){</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$j</span>=<span class="variable">$i</span>+<span class="number">1</span>; <span class="variable">$j</span>&lt;<span class="variable">$n</span>; <span class="variable">$j</span>++){</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$arr</span>[<span class="variable">$j</span>] &lt; <span class="variable">$arr</span>[<span class="variable">$i</span>]){</span><br><span class="line">                [<span class="variable">$arr</span>[<span class="variable">$i</span>], <span class="variable">$arr</span>[<span class="variable">$j</span>]] = [<span class="variable">$arr</span>[<span class="variable">$j</span>], <span class="variable">$arr</span>[<span class="variable">$i</span>]];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$arr</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$arr</span> = [<span class="number">45</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">54</span>,<span class="number">3</span>,<span class="number">23</span>];</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">bubbleSort</span>(<span class="variable">$arr</span>));</span><br><span class="line"><span class="comment">// Array ( [0] =&gt; 2 [1] =&gt; 3 [2] =&gt; 5 [3] =&gt; 23 [4] =&gt; 45 [5] =&gt; 54 )</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params"><span class="variable">$arr</span></span>)</span>{</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$arr</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$n</span> &lt;= <span class="number">1</span>)    <span class="keyword">return</span> <span class="variable">$arr</span>;</span><br><span class="line">    <span class="variable">$index</span> = <span class="variable">$arr</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="variable">$leftArr</span> = <span class="variable">$rightArr</span> = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">1</span>; <span class="variable">$i</span>&lt;<span class="variable">$n</span>; <span class="variable">$i</span>++){</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$arr</span>[<span class="variable">$i</span>] &lt;= <span class="variable">$index</span>){</span><br><span class="line">            <span class="variable">$leftArr</span>[] = <span class="variable">$arr</span>[<span class="variable">$i</span>];</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="variable">$rightArr</span>[] = <span class="variable">$arr</span>[<span class="variable">$i</span>];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="variable">$leftArr</span> = <span class="title function_ invoke__">quickSort</span>(<span class="variable">$leftArr</span>);</span><br><span class="line">    <span class="variable">$rightArr</span> = <span class="title function_ invoke__">quickSort</span>(<span class="variable">$rightArr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">array_merge</span>(<span class="variable">$leftArr</span>,[<span class="variable">$index</span>],<span class="variable">$rightArr</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$arr</span> = [<span class="number">1</span>,<span class="number">45</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">54</span>,<span class="number">3</span>,<span class="number">23</span>];</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">quickSort</span>(<span class="variable">$arr</span>));</span><br><span class="line"><span class="comment">// Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 3 [3] =&gt; 5 [4] =&gt; 23 [5] =&gt; 45 [6] =&gt; 54 )</span></span><br></pre></td></tr></tbody></table></figure><h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)</li><li>ä»£ç å®ç°<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectSort</span>(<span class="params"><span class="variable">$arr</span></span>)</span>{</span><br><span class="line">    <span class="variable">$n</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$arr</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span>&lt;<span class="variable">$n</span>-<span class="number">1</span>; <span class="variable">$i</span>++){</span><br><span class="line">        <span class="variable">$k</span> = <span class="variable">$i</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$j</span>=<span class="variable">$i</span>+<span class="number">1</span>; <span class="variable">$j</span>&lt;<span class="variable">$n</span>; <span class="variable">$j</span>++){</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$arr</span>[<span class="variable">$k</span>] &gt; <span class="variable">$arr</span>[<span class="variable">$j</span>]){</span><br><span class="line">                <span class="variable">$k</span> = <span class="variable">$j</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$k</span> != <span class="variable">$i</span>){</span><br><span class="line">            [<span class="variable">$arr</span>[<span class="variable">$k</span>],<span class="variable">$arr</span>[<span class="variable">$i</span>]] = [<span class="variable">$arr</span>[<span class="variable">$i</span>],<span class="variable">$arr</span>[<span class="variable">$k</span>]];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$arr</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$arr</span> = [<span class="number">1</span>,<span class="number">45</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">54</span>,<span class="number">3</span>,<span class="number">23</span>];</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">selectSort</span>(<span class="variable">$arr</span>));</span><br><span class="line"><span class="comment">// Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 3 [3] =&gt; 5 [4] =&gt; 23 [5] =&gt; 45 [6] =&gt; 54 )</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><ul><li>æµç¨‹<br>å°†ä¸€ä¸ªå¾…æ’åºçš„æ— åºçš„æ•°ç»„çœ‹ä½œæ˜¯ä¸¤ä¸ªåˆ—è¡¨ï¼Œä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨ï¼Œä¸€ä¸ªæ— åºçš„åˆ—è¡¨ï¼Œä»æ— åºçš„åˆ—è¡¨æ¯æ¬¡æ‹¿å‡ºä¸€ä¸ªå¾…æ’å…¥çš„å…ƒç´ ï¼Œæ’å…¥åˆ°æœ‰åºçš„åˆ—è¡¨ä¸­ï¼Œç›´åˆ°æ— åºåˆ—è¡¨ä¸ºç©ºï¼Œæ’åºå®Œæ¯•.</li><li>å®ä¾‹<ol><li>æœ‰ä¸€ä¸ªæ— åºçš„ä¸€ç»´æ•°ç»„æ˜¯è¿™æ¬¡éœ€è¦æ’åºçš„æ•°ç»„ï¼Œæ•°ç»„æ˜¯ï¼š[36,12,96,-1]</li><li>é¦–å…ˆæŠŠæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  [36] çœ‹ä½œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æœ‰åºçš„åˆ—è¡¨ï¼ŒæŠŠå‰©ä¸‹çš„å…ƒç´  [12, 96, -1] çœ‹ä½œæ˜¯ä¸€ä¸ªæ— åºçš„åˆ—è¡¨</li><li>ç¬¬ä¸€ä¸ªå¾…æ’å…¥çš„å…ƒç´ å°±æ˜¯ 12ï¼Œè¦æŠŠ 12 æ’å…¥åˆ°æœ‰åºçš„åˆ—è¡¨ä¸­ï¼Œé¦–å…ˆéœ€è¦ 12 å’Œ 36 æ¯”è¾ƒï¼Œå¦‚æœå¸¦æ’å…¥çš„å…ƒç´  12 å°äº 36, å°±éœ€è¦æŠŠ 12 æ’å…¥åˆ° 36å‰é¢ï¼Œä¹Ÿå°±æ˜¯ 36 è¦åç§»ä¸€ä½ã€‚</li><li>æ’å…¥æ’åºå®é™…æ˜¯éœ€è¦æ¯”è¾ƒæ•°ç»„å…ƒç´ çš„æ€»æ•°å‡ä¸€è½®ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ä¸éœ€è¦æ¯”è¾ƒã€‚</li></ol></li><li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)</li><li>ä»£ç å®ç°  <figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertSort</span>(<span class="params"><span class="variable">$arr</span></span>)</span>{</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_ invoke__">is_array</span>(<span class="variable">$arr</span>))    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="variable">$count</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$arr</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$count</span> &lt;= <span class="number">1</span>){</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$arr</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">1</span>; <span class="variable">$i</span>&lt;<span class="variable">$count</span>; <span class="variable">$i</span>++){</span><br><span class="line">        <span class="variable">$insertValue</span> = <span class="variable">$arr</span>[<span class="variable">$i</span>];</span><br><span class="line">        <span class="variable">$insertIndex</span> = <span class="variable">$i</span>-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="variable">$insertIndex</span> &gt;= <span class="number">0</span> &amp;&amp; <span class="variable">$insertValue</span> &lt; <span class="variable">$arr</span>[<span class="variable">$insertIndex</span>]){</span><br><span class="line">            <span class="variable">$arr</span>[<span class="variable">$insertIndex</span>+<span class="number">1</span>] = <span class="variable">$arr</span>[<span class="variable">$insertIndex</span>];</span><br><span class="line">            <span class="variable">$insertIndex</span>--;</span><br><span class="line">        }</span><br><span class="line">        <span class="variable">$arr</span>[<span class="variable">$insertIndex</span>+<span class="number">1</span>] = <span class="variable">$insertValue</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$arr</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$arr</span> = [<span class="number">1</span>,<span class="number">45</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">54</span>,<span class="number">3</span>,<span class="number">23</span>];</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">insertSort</span>(<span class="variable">$arr</span>));</span><br><span class="line"><span class="comment">//  Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 3 [3] =&gt; 5 [4] =&gt; 23 [5] =&gt; 45 [6] =&gt; 54 )</span></span><br></pre></td></tr></tbody></table></figure><h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3></li></ul><h3 id="äºŒåˆ†æŸ¥æ‰¾æ³•"><a href="#äºŒåˆ†æŸ¥æ‰¾æ³•" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾æ³•"></a>äºŒåˆ†æŸ¥æ‰¾æ³•</h3><ul><li>æ¦‚å¿µ<br>  äºŒåˆ†æŸ¥æ‰¾ä¹Ÿç§°æŠ˜åŠæŸ¥æ‰¾ï¼ˆBinary Searchï¼‰ï¼Œå®ƒæ˜¯ä¸€ç§æ•ˆç‡è¾ƒé«˜çš„æŸ¥æ‰¾æ–¹æ³•ã€‚ä½†æ˜¯ï¼ŒæŠ˜åŠæŸ¥æ‰¾è¦æ±‚çº¿æ€§è¡¨å¿…é¡»é‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ï¼Œè€Œä¸”è¡¨ä¸­å…ƒç´ æŒ‰å…³é”®å­—æœ‰åºæ’åˆ—ã€‚<br>  é¦–å…ˆï¼Œå‡è®¾è¡¨ä¸­å…ƒç´ æ˜¯æŒ‰å‡åºæ’åˆ—ï¼Œå°†è¡¨ä¸­é—´ä½ç½®è®°å½•çš„å…³é”®å­—ä¸æŸ¥æ‰¾å…³é”®å­—æ¯”è¾ƒï¼Œå¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼›å¦åˆ™åˆ©ç”¨ä¸­é—´ä½ç½®è®°å½•å°†è¡¨åˆ†æˆå‰ã€åä¸¤ä¸ªå­è¡¨ï¼Œå¦‚æœä¸­é—´ä½ç½®è®°å½•çš„å…³é”®å­—å¤§äºæŸ¥æ‰¾å…³é”®å­—ï¼Œåˆ™è¿›ä¸€æ­¥æŸ¥æ‰¾å‰ä¸€å­è¡¨ï¼Œå¦åˆ™è¿›ä¸€æ­¥æŸ¥æ‰¾åä¸€å­è¡¨ã€‚é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„è®°å½•ï¼Œä½¿æŸ¥æ‰¾æˆåŠŸï¼Œæˆ–ç›´åˆ°å­è¡¨ä¸å­˜åœ¨ä¸ºæ­¢ï¼Œæ­¤æ—¶æŸ¥æ‰¾ä¸æˆåŠŸã€‚</li><li>ä»£ç å®ä¾‹<ul><li>å¾ªç¯äºŒåˆ†æŸ¥æ‰¾<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params"><span class="variable">$array</span>,<span class="variable">$findVal</span></span>)</span>{</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_ invoke__">is_array</span>(<span class="variable">$array</span>) || <span class="keyword">empty</span>(<span class="variable">$array</span>)) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$start</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable">$end</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$array</span>) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="variable">$start</span> &lt;= <span class="variable">$end</span>){</span><br><span class="line">        <span class="variable">$middle</span> = <span class="title function_ invoke__">intval</span>((<span class="variable">$start</span>+<span class="variable">$end</span>)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$array</span>[<span class="variable">$middle</span>] &gt; <span class="variable">$findVal</span>){</span><br><span class="line">            <span class="variable">$end</span> = <span class="variable">$middle</span> - <span class="number">1</span>;</span><br><span class="line">        }<span class="keyword">elseif</span> (<span class="variable">$array</span>[<span class="variable">$middle</span>] &lt; <span class="variable">$findVal</span>){</span><br><span class="line">            <span class="variable">$start</span> = <span class="variable">$middle</span> + <span class="number">1</span>;</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$middle</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line">    </span><br><span class="line"><span class="variable">$array</span> = [<span class="number">3</span>,<span class="number">54</span>,<span class="number">67</span>,<span class="number">124</span>,<span class="number">542</span>,<span class="number">642</span>,<span class="number">843</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">binarySearch</span>(<span class="variable">$array</span>, <span class="number">542</span>);     <span class="comment">// 4</span></span><br></pre></td></tr></tbody></table></figure></li><li>é€’å½’äºŒåˆ†æŸ¥æ‰¾<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params"><span class="variable">$array</span>,<span class="variable">$findVal</span>,<span class="variable">$start</span>,<span class="variable">$end</span></span>)</span>{</span><br><span class="line">    <span class="variable">$middle</span> = <span class="title function_ invoke__">intval</span>((<span class="variable">$start</span>+<span class="variable">$end</span>)/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$start</span>&gt;<span class="variable">$end</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$array</span>[<span class="variable">$middle</span>] &gt; <span class="variable">$findVal</span>){</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">binarySearch</span>(<span class="variable">$array</span>,<span class="variable">$findVal</span>,<span class="variable">$start</span>,<span class="variable">$middle</span>-<span class="number">1</span>);</span><br><span class="line">    }<span class="keyword">elseif</span> (<span class="variable">$array</span>[<span class="variable">$middle</span>] &lt; <span class="variable">$findVal</span>){</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">binarySearch</span>(<span class="variable">$array</span>,<span class="variable">$findVal</span>,<span class="variable">$middle</span>+<span class="number">1</span>,<span class="variable">$end</span>);</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$middle</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable">$array</span> = [<span class="number">3</span>,<span class="number">54</span>,<span class="number">67</span>,<span class="number">124</span>,<span class="number">542</span>,<span class="number">642</span>,<span class="number">843</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">binarySearch</span>(<span class="variable">$array</span>, <span class="number">542</span>,<span class="number">0</span>,<span class="title function_ invoke__">count</span>(<span class="variable">$array</span>)-<span class="number">1</span>);     <span class="comment">// 4</span></span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBç¬”è®°</title>
      <link href="/posts/mongodb-notes.html"/>
      <url>/posts/mongodb-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å¸¸ç”¨è„šæœ¬"><a href="#å¸¸ç”¨è„šæœ¬" class="headerlink" title="å¸¸ç”¨è„šæœ¬"></a>å¸¸ç”¨è„šæœ¬</h3><ol><li><p>ä¿®æ”¹å­—æ®µå</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(<span class="string">'é›†åˆå'</span>).<span class="keyword">update</span>({}, {$rename: {"ä¿®æ”¹å‰å­—æ®µå1": "ä¿®æ”¹åå­—æ®µå1", "ä¿®æ”¹å‰å­—æ®µå2": "ä¿®æ”¹åå­—æ®µå2"...}}, {multi:<span class="literal">true</span>})</span><br></pre></td></tr></tbody></table></figure><p><code>{multi:true}</code>è¡¨ç¤º å¯¹è¯¥é›†åˆçš„æ‰€æœ‰æ•°æ®ç”Ÿæ•ˆ</p></li><li><p>æ–°å¢å­—æ®µ</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(<span class="string">'é›†åˆå'</span>).<span class="keyword">update</span>({}, {$<span class="keyword">set</span>: {"å­—æ®µå1": "", "å­—æ®µå2": ""...}}, {multi:<span class="literal">true</span>})</span><br></pre></td></tr></tbody></table></figure><p><code>{multi:true}</code>è¡¨ç¤º å¯¹è¯¥é›†åˆçš„æ‰€æœ‰æ•°æ®ç”Ÿæ•ˆ</p></li><li><p>æ›´æ–°æŸä¸ªå­—æ®µçš„å€¼ï¼Œä½¿å…¶ä¸å¦ä¸€ä¸ªå­—æ®µçš„å€¼ç›¸åŒ</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(<span class="string">'é›†åˆå'</span>).find().forEach(</span><br><span class="line"><span class="keyword">function</span>(item){</span><br><span class="line">db.getCollection(<span class="string">'é›†åˆå'</span>).<span class="keyword">update</span>({"_id":item._id}, {"$set":{"å­—æ®µåA":item.å­—æ®µåB}}, {})</span><br><span class="line">}</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure></li><li><p>åˆ›å»ºé›†åˆ</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.createCollection("é›†åˆå");</span><br></pre></td></tr></tbody></table></figure></li></ol><ol><li>åˆ›å»ºç´¢å¼•<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection("é›†åˆå").createIndex({</span><br><span class="line">    "å­—æ®µå": NumberInt("1"),</span><br><span class="line">    "å­—æ®µå": NumberInt("-1"),</span><br><span class="line">â€¦â€¦</span><br><span class="line">    "å­—æ®µå": NumberInt("1")</span><br><span class="line">}, {</span><br><span class="line">    name: "ç´¢å¼•å"</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>1ï¼šå‡åºï¼Œ-1ï¼šé™åº</li></ol><ol><li>æ’å…¥æ•°æ®<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection("é›†åˆå").<span class="keyword">insert</span>({</span><br><span class="line">"å­—æ®µ1": å€¼<span class="number">1</span>,</span><br><span class="line">"å­—æ®µ2": å€¼<span class="number">2</span>,</span><br><span class="line">â€¦â€¦</span><br><span class="line">    "å­—æ®µn": å€¼n</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç›®æ ‡ç®¡ç†</title>
      <link href="/posts/target-management.html"/>
      <url>/posts/target-management.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç›®æ ‡ç®¡ç†"><a href="#ç›®æ ‡ç®¡ç†" class="headerlink" title="ç›®æ ‡ç®¡ç†"></a>ç›®æ ‡ç®¡ç†</h2><h2 id="å‘ä¸Šç®¡ç†"><a href="#å‘ä¸Šç®¡ç†" class="headerlink" title="å‘ä¸Šç®¡ç†"></a>å‘ä¸Šç®¡ç†</h2><h2 id="å‘ä¸‹è´Ÿè´£"><a href="#å‘ä¸‹è´Ÿè´£" class="headerlink" title="å‘ä¸‹è´Ÿè´£"></a>å‘ä¸‹è´Ÿè´£</h2><h2 id="æ¿€åŠ±å›¢é˜Ÿ"><a href="#æ¿€åŠ±å›¢é˜Ÿ" class="headerlink" title="æ¿€åŠ±å›¢é˜Ÿ"></a>æ¿€åŠ±å›¢é˜Ÿ</h2>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ç®¡ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç›®æ ‡ç®¡ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å…¬ä¼—å·æ¶ˆæ¯æ¨é€</title>
      <link href="/posts/wx-msg-push.html"/>
      <url>/posts/wx-msg-push.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1ã€å…¬ä¼—å·æ¨¡æ¿æ¶ˆæ¯æ¨é€"><a href="#1ã€å…¬ä¼—å·æ¨¡æ¿æ¶ˆæ¯æ¨é€" class="headerlink" title="1ã€å…¬ä¼—å·æ¨¡æ¿æ¶ˆæ¯æ¨é€"></a>1ã€å…¬ä¼—å·æ¨¡æ¿æ¶ˆæ¯æ¨é€</h3><ol><li>éœ€åœ¨å…¬ä¼—å·çš„IPç™½åå•ä¸­æ·»åŠ IP<br><img src="/images/wx_msg_push_1.png" alt=""></li><li><p>å¯ç”¨æœåŠ¡å™¨é…ç½®<br><img src="/images/wx_msg_push_2.png" alt=""></p></li><li><p>æŠ¥é”™<code>ridinvalid weapp pagepath</code><br>è¯´æ˜å…¬ä¼—å·å…³è”çš„å°ç¨‹åºæ²¡æœ‰è¿™ä¸ªç•Œé¢ï¼Œå¯ä»¥ä¸è®¾ç½®pagepath</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç¬¬ä¸‰æ–¹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¶ˆæ¯æ¨é€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº§å“è®¾è®¡</title>
      <link href="/posts/product-design.html"/>
      <url>/posts/product-design.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1ã€æˆ‘ä»¬çš„æ‰‹æœºä¸Šéƒ½è£…äº†å¾ˆå¤šAPPï¼Œè€Œç°åœ¨çš„APPåŸºæœ¬ä¸Šéƒ½éœ€è¦è´¦å·ç™»å½•ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœæ‰‹æœºä¸¢äº†ï¼Œä½ æœ€å…³å¿ƒçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Œæ˜¯è¿™äº›APPçš„è´¦å·ä¿¡æ¯æ³„éœ²è¢«ä¸æ³•ä»½å­ä½¿ç”¨ï¼Œè¿˜æ˜¯è¿™ä¸ªåº”ç”¨é‡Œçš„ä¸ªäººéšç§æ•°æ®æ³„éœ²å‘¢ï¼Ÿä¸ªäººæ„Ÿè§‰å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æé«˜äº§å“çš„å®‰å…¨æ€§ï¼š</p><p>  Aã€APPå†…éƒ¨æ¶‰åŠåˆ°äº¤æ˜“åŠŸèƒ½éœ€æ ¡éªŒäº¤æ˜“å¯†ç ï¼›</p><p>  Bã€åœ¨è¿›å…¥æŒ‡å®šé¡µé¢çš„æ—¶å€™ï¼Œæ·»åŠ é¢å®¹ID/æ‰‹åŠ¿è§£é”ï¼Œå¦‚å¯åŠ¨æ—¶ã€è¿›å…¥ä¸ªäººä¸­å¿ƒæ—¶ç­‰ï¼›</p><p>  Cã€APPå†…å¯è¿›è¡Œè®¾å¤‡ç®¡ç†ï¼ŒAPPå†…å¯æŸ¥çœ‹è®¾å¤‡çš„æœ€è¿‘ç™»å½•ä¿¡æ¯ï¼Œå¹¶è§£ç»‘å½“å‰è®¾å¤‡å¤–çš„æŒ‡å®šè®¾å¤‡(æˆ–åˆ é™¤æŒ‡å®šè®¾å¤‡æ•°æ®)ï¼›</p><p>  Dã€å¯¹äºä¸åˆå¸¸è§„çš„ç³»åˆ—è¡Œä¸ºè¿›è¡Œé™åˆ¶ï¼Œå¦‚ï¼šä¿®æ”¹ç™»å½•å¯†ç åç«‹å³æ³¨é”€è´¦å·ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> äº§å“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äº§å“è®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Htmlç½‘é¡µå†…å®¹è½¬ä¸ºpdfæ–‡ä»¶</title>
      <link href="/posts/html-to-pdf.html"/>
      <url>/posts/html-to-pdf.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ä½¿ç”¨wkhtmltopdf"><a href="#ä½¿ç”¨wkhtmltopdf" class="headerlink" title="ä½¿ç”¨wkhtmltopdf"></a>ä½¿ç”¨wkhtmltopdf</h3><p>è½¯ä»¶ä¸‹è½½åœ°å€ï¼š<a href="https://wkhtmltopdf.org/downloads.htmlï¼Œéœ€ç¿»å¢™">https://wkhtmltopdf.org/downloads.htmlï¼Œéœ€ç¿»å¢™</a></p><ul><li>windowsä¸‹ä½¿ç”¨<br>ä¸‹è½½å¹¶å®‰è£…<br>cmdå‘½ä»¤è¡Œæ‰§è¡Œç¤ºä¾‹ï¼š<br><code>wkhtmltopdf\bin\wkhtmltopdf.exe https://crazy-boy.com/xx.html F:/b.pdf</code><br>é¡µé¢åœ°å€ä¸­ä¸èƒ½å«æœ‰&amp;ç­‰ç‰¹æ®Šç¬¦å·</li></ul><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p><a href="https://www.cnblogs.com/see7di/p/3781864.html">https://www.cnblogs.com/see7di/p/3781864.html</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goframeæ¡†æ¶ä½¿ç”¨</title>
      <link href="/posts/goframe-note.html"/>
      <url>/posts/goframe-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="gen-daoä½¿ç”¨"><a href="#gen-daoä½¿ç”¨" class="headerlink" title="gen daoä½¿ç”¨"></a>gen daoä½¿ç”¨</h4><ol><li>ä¸‹è½½è½¯ä»¶ï¼š<a href="https://github.com/gogf/gf-cli/releases">https://github.com/gogf/gf-cli/releases</a></li><li><p>å®‰è£…ï¼Œå¹¶æ·»åŠ ç¯å¢ƒå˜é‡<br><img src="/images/goframe_note_1.png" alt=""></p></li><li><p>æŸ¥çœ‹ç‰ˆæœ¬ï¼š<code>gf -version</code></p></li><li>æ›´æ–°modelï¼š<code>gf gen dao -c bin/config.toml -path . -r tf_</code></li></ol>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goframe </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLæ•°æ®åº“ä¼˜åŒ–</title>
      <link href="/posts/mysql-optimization.html"/>
      <url>/posts/mysql-optimization.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">æ•°æ®åº“ä¼˜åŒ–æ— è®ºå®åœ¨é¢è¯•è¿˜æ˜¯å·¥ä½œä¸­éƒ½éå¸¸é‡è¦ï¼Œç»“åˆä¸ªäººå¤šå¹´çš„ä»ä¸šç»éªŒï¼Œå®ƒä¸»è¦ä»æ•°æ®åº“è®¾è®¡ã€sqlä¼˜åŒ–ã€æœåŠ¡å™¨ä¼˜åŒ–ç­‰æ–¹é¢æ¥è¿›è¡Œã€‚</div><h3 id="æ•°æ®åº“è®¾è®¡ä¼˜åŒ–"><a href="#æ•°æ®åº“è®¾è®¡ä¼˜åŒ–" class="headerlink" title="æ•°æ®åº“è®¾è®¡ä¼˜åŒ–"></a>æ•°æ®åº“è®¾è®¡ä¼˜åŒ–</h3><h4 id="è¡¨è®¾è®¡æ–¹é¢"><a href="#è¡¨è®¾è®¡æ–¹é¢" class="headerlink" title="è¡¨è®¾è®¡æ–¹é¢"></a>è¡¨è®¾è®¡æ–¹é¢</h4><ul><li>1ï¼‰è¡¨çš„æ•°æ®ç±»å‹æ˜¯å¦åˆç†ï¼Œè¦éµå®ˆé€‰å–æ•°æ®ç±»å‹è¶Šç®€å•è¶Šå°çš„åŸåˆ™</li><li>2ï¼‰è¡¨ä¸­ç¢ç‰‡æ˜¯å¦æ•´ç†</li><li>3ï¼‰è¡¨çš„ç»Ÿè®¡ä¿¡æ¯æ˜¯å¦æ”¶é›†ï¼Œåªæœ‰ç»Ÿè®¡ä¿¡æ¯å‡†ç¡®ï¼Œæ‰§è¡Œè®¡åˆ’æ‰èƒ½å¸®åŠ©ä¼˜åŒ–SQL</li><li>4ï¼‰è¡¨è®¾è®¡æ—¶å€™å¢åŠ å¿…è¦çš„æ³¨é‡Šï¼Œè¯´æ˜å­—æ®µçš„ç”¨é€”<h4 id="å­—æ®µè®¾è®¡æ–¹é¢"><a href="#å­—æ®µè®¾è®¡æ–¹é¢" class="headerlink" title="å­—æ®µè®¾è®¡æ–¹é¢"></a>å­—æ®µè®¾è®¡æ–¹é¢</h4></li><li>1ï¼‰ä½¿ç”¨varcharæ›¿ä»£char<br>   varcharçš„å­˜å‚¨æ˜¯æŒ‰å®é™…é•¿åº¦æ¥å­˜å‚¨çš„ï¼Œå¯ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œè€Œcharæ˜¯æŒ‰ç…§å®šä¹‰é•¿åº¦æ¥å­˜å‚¨çš„ï¼Œä¸è¶³è¡¥å……ç©ºæ ¼</li></ul><h3 id="sqlä¼˜åŒ–"><a href="#sqlä¼˜åŒ–" class="headerlink" title="sqlä¼˜åŒ–"></a>sqlä¼˜åŒ–</h3><h4 id="å¸¸è§„ä¼˜åŒ–"><a href="#å¸¸è§„ä¼˜åŒ–" class="headerlink" title="å¸¸è§„ä¼˜åŒ–"></a>å¸¸è§„ä¼˜åŒ–</h4><ul><li>1ï¼‰å°½é‡ä¸è¦ä½¿ç”¨ <code>select *</code>ï¼Œè€Œæ˜¯ä½¿ç”¨å…·ä½“çš„å­—æ®µ<br>   é¿å…äº†ä¸éœ€è¦çš„åˆ—è¿”å›ç»™å®¢æˆ·ç«¯è°ƒç”¨ï¼ŒèŠ‚çº¦æµé‡ï¼Œ<code>select *</code>å¯èƒ½ä¼šç”¨åˆ°è¦†ç›–ç´¢å¼•ï¼Œç›´æ¥ä»ç´¢å¼•ä¸­è·å–è¦æŸ¥è¯¢çš„åˆ—æ•°æ®ï¼Œå‡å°‘äº†å›è¡¨æŸ¥è¯¢ï¼Œè°ƒé«˜æŸ¥è¯¢æ•ˆç‡</li><li>2ï¼‰é¿å…åœ¨whereå­å¥ä¸­ä½¿ç”¨ORæ¥è¿›è¡Œæ¡ä»¶å…³è”ï¼Œæœ‰å¯èƒ½é€ æˆç´¢å¼•å¤±æ•ˆ</li><li>3ï¼‰å°½é‡ä½¿ç”¨æ•°å€¼ç±»å‹ä»£æ›¿å­—ç¬¦ä¸²<br>   å¤„ç†å¼•æ“åœ¨æ‰§è¡ŒæŸ¥è¯¢å’Œè¿æ¥æ—¶å€™ï¼Œå¦‚æœæ˜¯å­—ç¬¦ä¸²ç±»å‹åˆ™ä¼šé€ä¸ªæ¯”è¾ƒå­—ç¬¦ï¼Œè¦æ˜¯æ•°å€¼ç±»å‹çš„è¯ç›´æ¥æ¯”è¾ƒä¸€æ¬¡å°±å¯ä»¥äº†ï¼Œå­—ç¬¦ä¸²çš„è¿æ¥æ€§èƒ½ä¹Ÿä¼šå¤§å¤§é™ä½ã€‚</li><li>4ï¼‰åº”å°½é‡é¿å…åœ¨whereå­å¥ä¸­ä½¿ç”¨!=æˆ–&lt;&gt;æ“ä½œç¬¦<br>   è¿™ç§æƒ…å†µå¯èƒ½ä¼šé€ æˆç´¢å¼•å¤±æ•ˆï¼Œç»è¿‡sqlä¼˜åŒ–å™¨ä¼˜åŒ–ï¼Œæ‰§è¡Œå¼•æ“å‘ç°ä½¿ç”¨ç´¢å¼•çš„ä»£ä»·æ¯”ä¸èµ°ç´¢å¼•è¿˜è¦å¤§ï¼Œå°±ä¼šæ”¾å¼ƒä½¿ç”¨ç´¢å¼•ç›´æ¥èµ°å…¨è¡¨æ‰«æ</li><li>5ï¼‰åœ¨inner join ã€left joinã€right joinéƒ½æ»¡è¶³æ¡ä»¶çš„çŠ¶å†µä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨inner join<br>   inner joinå†…è¿æ¥ï¼Œåªä¿ç•™å·¦å³ä¸¤å¼ è¡¨ä¸­éƒ½åŒ¹é…çš„ç»“æœé›†ï¼›left join å·¦è¿æ¥ï¼Œä»¥å·¦è¡¨ä¸ºä¸»è¡¨ï¼Œè¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œï¼›right joinå³è¿æ¥ï¼Œä»¥å³è¡¨ä¸ºä¸»è¡¨ï¼Œè¿”å›å³è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå³ä½¿åæ ‡ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œï¼›å¦‚æœæ˜¯inner joinç­‰å€¼è¿æ¥ï¼Œè¿”å›çš„è¡Œæ•°æ¯”è¾ƒå°ï¼Œæ‰€ä»¥æ•ˆç‡è¾ƒé«˜ï¼›å·¦å³è¿æ¥çš„è¯ï¼ŒæŒ‰ç…§â€œå°è¡¨é©±åŠ¨å¤§è¡¨çš„åŸåˆ™â€ï¼Œç”¨å°è¡¨ä½œä¸ºä¸»è¡¨</li><li>6ï¼‰éµå¾ªâ€œå°è¡¨é©±åŠ¨å¤§è¡¨â€çš„åŸåˆ™<br>   åœ¨å«æœ‰å¤æ‚å­æŸ¥è¯¢çš„sqlè¯­å¥ä¸­ï¼Œåœ¨æ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥å°†å°è¡¨æ”¾åœ¨é‡Œé¢å±‚å±‚è¿‡æ»¤ï¼Œç¼©å°æŸ¥è¯¢çš„èŒƒå›´</li><li>7ï¼‰åˆ†ç»„è¿‡æ»¤çš„æ—¶å€™ï¼Œåº”è¯¥å…ˆè¿‡æ»¤ï¼Œå†åˆ†ç»„</li><li>8ï¼‰æ‰§è¡Œdeleteæˆ–updateè¯­å¥ï¼ŒåŠ ä¸ªlimitæˆ–è€…å¾ªç¯åˆ†æ‰¹æ¬¡åˆ é™¤<br>   é™ä½è¯¯åˆ æ•°æ®çš„ä»£ä»·ï¼Œé¿å…é•¿äº‹åŠ¡ï¼Œæ•°æ®é‡å¤§çš„è¯ï¼Œå®¹æ˜“æŠŠcpuæ‰“æ»¡ï¼Œä¸€æ¬¡æ€§åˆ é™¤æ•°æ®å¤ªå¤šçš„è¯å¯èƒ½é€ æˆé”è¡¨</li><li>9ï¼‰ç”¨union allæ›¿ä»£union<br>   unionä¼šå¯¹ç­›é€‰æ‰é‡å¤çš„è®°å½•ï¼Œæ‰€ä»¥ä¼šåœ¨è¿æ¥åå¯¹æ‰€äº§ç”Ÿçš„ç»“æœé›†å…ˆè¿›è¡Œæ’åºè¿ç®—ï¼Œç„¶åå†åˆ é™¤é‡å¤è®°å½•è¿”å›ï¼Œå¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹å¯èƒ½ä¼šä½¿ç”¨ç£ç›˜æ’åº</li><li>10ï¼‰å¤šæ¡å†™æ•°æ®ï¼Œå»ºè®®é‡‡ç”¨æ‰¹é‡æäº¤å‡å°‘äº‹åŠ¡æäº¤çš„æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½</li><li>11ï¼‰å…³è”æŸ¥è¯¢çš„è¡¨è¿æ¥ä¸è¦å¤ªå¤š<br>   å…³è”è¡¨çš„ä¸ªæ•°è¶Šå¤šï¼Œç¼–è¯‘çš„æ—¶é—´å’Œå¼€é”€ä¹Ÿè¶Šå¤§ï¼Œæ¯æ¬¡å…³è”åœ¨å†…å­˜ä¸­éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶è¡¨</li><li>12ï¼‰ç´¢å¼•å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½<br>   ç´¢å¼•è™½ç„¶æé«˜äº†æŸ¥è¯¢æ€§èƒ½ï¼Œä½†æ˜¯ä¼šé™ä½æ•°æ®å†™å…¥çš„é€Ÿåº¦ï¼Œå¹¶ä¸”ç´¢å¼•çš„å­˜å‚¨æ˜¯è¦å ç”¨ç©ºé—´çš„ï¼Œç´¢å¼•ä¹Ÿæ˜¯æ’åºçš„ï¼Œæ’åºæ˜¯è¦èŠ±è´¹æ—¶é—´çš„ï¼Œinsertå’Œupdateæ“ä½œå¯èƒ½ä¼šå¯¼è‡´é‡å»ºç´¢å¼•ï¼Œå¦‚æœæ•°æ®é‡å·¨å¤§ï¼Œè¿™ç¬”æ¶ˆè€—ä¹Ÿæ˜¯éå¸¸æƒŠäººçš„ </li><li>13ï¼‰å»é‡distinctè¿‡æ»¤å­—æ®µè¦å°‘<br>   æ•°æ®åº“å¼•æ“å¯¹æ•°æ®çš„æ¯”è¾ƒã€è¿‡æ»¤æ˜¯ä¸€ä¸ªå¾ˆè€—è´¹èµ„æºçš„æ“ä½œ</li><li><p>14ï¼‰å°½é‡é¿ä½¿ç”¨æ¸¸æ ‡</p><h4 id="ç´¢å¼•ä¼˜åŒ–"><a href="#ç´¢å¼•ä¼˜åŒ–" class="headerlink" title="ç´¢å¼•ä¼˜åŒ–"></a>ç´¢å¼•ä¼˜åŒ–</h4></li><li>1ï¼‰é€šè¿‡explainï¼ŒæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’ï¼Œæ£€æŸ¥ç´¢å¼•ä½¿ç”¨æƒ…å†µï¼Œæ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼Œè€ƒè™‘åˆ›å»º</li><li>2ï¼‰åˆ›å»ºç´¢å¼•å‰ï¼ŒæŸ¥çœ‹ç´¢å¼•çš„é€‰æ‹©æ€§distinctï¼Œåˆ¤æ–­è¯¥å­—æ®µæ˜¯å¦é€‚åˆ›å»ºç´¢å¼•<br> ç´¢å¼•é€‰æ‹©æ€§æŒ‡ä¸é‡å¤çš„ç´¢å¼•å€¼å’Œæ•°æ®è®°å½•æ€»æ•°çš„æ¯”å€¼ï¼Œè¶Šæ¥è¿‘1è¶Šå¥½ï¼›ä¸»é”®ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•é€‰æ‹©æ€§æ˜¯1</li><li>3ï¼‰åˆ›å»ºç´¢å¼•åï¼Œå†æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’ï¼Œå¯¹æ¯”ä¸¤æ¬¡ç»“æœï¼ŒæŸ¥çœ‹æ•ˆç‡æ˜¯å¦æé«˜<h4 id="æ…¢æŸ¥è¯¢ä¼˜åŒ–"><a href="#æ…¢æŸ¥è¯¢ä¼˜åŒ–" class="headerlink" title="æ…¢æŸ¥è¯¢ä¼˜åŒ–"></a>æ…¢æŸ¥è¯¢ä¼˜åŒ–</h4></li><li>1ï¼‰å¦‚æœä¸€ä¸ªselectè¯­å¥ä¸­æ²¡æœ‰whereæ¡ä»¶ï¼Œåªæœ‰å•çº¯çš„group by | order byï¼Œè¿™æ˜¯æ— æ³•ä½¿ç”¨ç´¢å¼•çš„ã€‚éœ€è¦æœ‰whereä½œä¸ºåŸºç¡€é“ºå«ï¼Œéµä»æœ€å·¦åŸåˆ™æ‰èƒ½ä½¿ç”¨ç´¢å¼•ã€‚</li></ul><h3 id="æœåŠ¡å™¨ä¼˜åŒ–"><a href="#æœåŠ¡å™¨ä¼˜åŒ–" class="headerlink" title="æœåŠ¡å™¨ä¼˜åŒ–"></a>æœåŠ¡å™¨ä¼˜åŒ–</h3><h4 id="è¯»å†™åˆ†ç¦»"><a href="#è¯»å†™åˆ†ç¦»" class="headerlink" title="è¯»å†™åˆ†ç¦»"></a>è¯»å†™åˆ†ç¦»</h4><h4 id="åˆ†åº“åˆ†è¡¨"><a href="#åˆ†åº“åˆ†è¡¨" class="headerlink" title="åˆ†åº“åˆ†è¡¨"></a>åˆ†åº“åˆ†è¡¨</h4>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Yii2ä½¿ç”¨ç¬”è®°</title>
      <link href="/posts/php-yii2-notes.html"/>
      <url>/posts/php-yii2-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-å®‰è£…Yii2ç¬¬ä¸‰æ–¹æ‰©å±•"><a href="#1-å®‰è£…Yii2ç¬¬ä¸‰æ–¹æ‰©å±•" class="headerlink" title="1. å®‰è£…Yii2ç¬¬ä¸‰æ–¹æ‰©å±•"></a>1. å®‰è£…Yii2ç¬¬ä¸‰æ–¹æ‰©å±•</h3><ul><li>æ–¹æ³•ä¸€ï¼šcomposerå®‰è£…<figure class="highlight armasm"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">php</span> composer.phar <span class="meta">require</span> php-amqplib/php-amqplib</span><br><span class="line">æˆ–è€…</span><br><span class="line">åœ¨composer.jsonæ–‡ä»¶çš„<span class="meta">require</span>é‡Œæ·»åŠ <span class="string">"php-amqplib/php-amqplib"</span>: <span class="string">"~2.7"</span>ï¼Œç„¶åæ‰§è¡Œcomposer update</span><br></pre></td></tr></tbody></table></figure></li><li>æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ·»åŠ <br>1ã€æ‹·è´php-amqplibæ‰©å±•åˆ°vendorç›®å½•ä¸‹ï¼Œ<br>2ã€åœ¨vendor/yiisoft/extensions.phpé‡Œæ·»åŠ å¦‚ä¸‹é…ç½®é¡¹ï¼š <figure class="highlight smali"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">'php-amqplib/php-amqplib' =&gt;</span><br><span class="line">  <span class="built_in"> array </span>(</span><br><span class="line">      'name' =&gt; 'php-amqplib/php-amqplib',</span><br><span class="line">      'version' =&gt; '2.4.5.0',</span><br><span class="line">      'alias' =&gt;</span><br><span class="line">        <span class="built_in"> array </span>(</span><br><span class="line">            '@PhpAmqpLib' =&gt; $vendorDir . '/php-amqplib/php-amqplib/PhpAmqpLib',</span><br><span class="line">         ),</span><br><span class="line">   ), </span><br></pre></td></tr></tbody></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Yii2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rabbitMQ+yii2å®ç°è¿œç¨‹è¿‡ç¨‹è°ƒç”¨(RPC)</title>
      <link href="/posts/yii2-rabbitmq.html"/>
      <url>/posts/yii2-rabbitmq.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="RPCæœåŠ¡ç«¯ä»£ç "><a href="#RPCæœåŠ¡ç«¯ä»£ç " class="headerlink" title="RPCæœåŠ¡ç«¯ä»£ç "></a>RPCæœåŠ¡ç«¯ä»£ç </h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">console</span>\<span class="title class_">controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">yii</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">yii</span>\<span class="title">console</span>\<span class="title">Controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PhpAmqpLib</span>\<span class="title">Connection</span>\<span class="title">AMQPStreamConnection</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PhpAmqpLib</span>\<span class="title">Message</span>\<span class="title">AMQPMessage</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RpcServerController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span>{</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="variable">$channel</span>;</span><br><span class="line"><span class="keyword">private</span>  <span class="variable">$connection</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">init</span> (<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable">$amqp</span> = yii::<span class="variable">$app</span>-&gt;params[<span class="string">'amqp'</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å»ºç«‹ä¸€ä¸ªåˆ°RabbitMQæœåŠ¡å™¨çš„è¿æ¥</span></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;connection = <span class="keyword">new</span> <span class="title class_">AMQPStreamConnection</span>(<span class="variable">$amqp</span>[<span class="string">"host"</span>], <span class="variable">$amqp</span>[<span class="string">"port"</span>], <span class="variable">$amqp</span>[<span class="string">"user"</span>], <span class="variable">$amqp</span>[<span class="string">"password"</span>]);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;channel = <span class="variable language_">$this</span>-&gt;connection-&gt;<span class="title function_ invoke__">channel</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RPCæœåŠ¡ç«¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionRpcServer</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="comment">//å»ºç«‹ä¸€ä¸ªåˆ°RabbitMQæœåŠ¡å™¨çš„è¿æ¥</span></span><br><span class="line">        <span class="variable">$connection</span> = <span class="variable language_">$this</span>-&gt;connection;</span><br><span class="line">        <span class="variable">$channel</span> = <span class="variable language_">$this</span>-&gt;channel;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//æ¥ä¸‹æ¥,æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé€šé“</span></span><br><span class="line">        <span class="variable">$channel</span>-&gt;<span class="title function_ invoke__">queue_declare</span>(<span class="string">'rpc_queue'</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>);</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params"><span class="variable">$n</span></span>) </span>{</span><br><span class="line">           <span class="keyword">return</span> <span class="variable">$n</span>;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å›è°ƒ</span></span><br><span class="line">        <span class="variable">$callback</span> = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="variable">$req</span></span>)</span>{</span><br><span class="line">            <span class="variable">$n</span> = <span class="title function_ invoke__">intval</span>(<span class="variable">$req</span>-&gt;body);</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">" [.] fib("</span>, <span class="variable">$n</span>, <span class="string">")\n"</span>;</span><br><span class="line">            <span class="variable">$msg</span> = <span class="keyword">new</span> <span class="title class_">AMQPMessage</span>((<span class="keyword">string</span>) <span class="title function_ invoke__">fib</span>(<span class="variable">$n</span>),[]<span class="string">'correlation_id'</span> =&gt; <span class="variable">$req</span>-&gt;<span class="title function_ invoke__">get</span>(<span class="string">'correlation_id'</span>)]);</span><br><span class="line">            <span class="variable">$req</span>-&gt;delivery_info[<span class="string">'channel'</span>]-&gt;<span class="title function_ invoke__">basic_publish</span>(<span class="variable">$msg</span>,<span class="string">''</span>, <span class="variable">$req</span>-&gt;<span class="title function_ invoke__">get</span>(<span class="string">'reply_to'</span>));</span><br><span class="line">            <span class="variable">$req</span>-&gt;delivery_info[<span class="string">'channel'</span>]-&gt;<span class="title function_ invoke__">basic_ack</span>(<span class="variable">$req</span>-&gt;delivery_info[<span class="string">'delivery_tag'</span>]);</span><br><span class="line">        };</span><br><span class="line">        </span><br><span class="line">        <span class="variable">$channel</span>-&gt;<span class="title function_ invoke__">basic_qos</span>(<span class="literal">null</span>,<span class="number">1</span>,<span class="literal">null</span>);</span><br><span class="line">        <span class="variable">$channel</span>-&gt;<span class="title function_ invoke__">basic_consume</span>(<span class="string">'rpc_queue'</span>,<span class="string">''</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="variable">$callback</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$channel</span>-&gt;callbacks)) {</span><br><span class="line"><span class="variable">$channel</span>-&gt;<span class="title function_ invoke__">wait</span>();</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="variable">$channel</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line">        <span class="variable">$connection</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="RPCå®¢æˆ·ç«¯ä»£ç "><a href="#RPCå®¢æˆ·ç«¯ä»£ç " class="headerlink" title="RPCå®¢æˆ·ç«¯ä»£ç "></a>RPCå®¢æˆ·ç«¯ä»£ç </h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">service</span>\<span class="title class_">entry</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">common</span>\<span class="title">components</span>\<span class="title">BaseServer</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">common</span>\<span class="title">library</span>\<span class="title">Helper</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PhpAmqpLib</span>\<span class="title">Channel</span>\<span class="title">AMQPChannel</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PhpAmqpLib</span>\<span class="title">Connection</span>\<span class="title">AMQPStreamConnection</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PhpAmqpLib</span>\<span class="title">Message</span>\<span class="title">AMQPMessage</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PhpAmqpLib</span>\<span class="title">Wire</span>\<span class="title">AMQPTable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Yii</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RemoteOpenDoor</span> <span class="keyword">extends</span> <span class="title">BaseServer</span></span></span><br><span class="line"><span class="class"></span>{</span><br><span class="line">   <span class="keyword">const</span> <span class="variable constant_">EXPIRE</span> = <span class="number">5</span>;</span><br><span class="line">   <span class="keyword">const</span> <span class="variable constant_">QUEUE_NAME</span> = <span class="string">"remote_open_door"</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$devSn</span>,<span class="variable">$schoolId</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@var</span> AMQPChannel</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">private</span> <span class="variable">$channel</span>;</span><br><span class="line">   <span class="keyword">private</span> <span class="variable">$connection</span>,<span class="variable">$replyQueue</span>,<span class="variable">$corrId</span>,<span class="variable">$response</span>,<span class="variable">$params</span>;</span><br><span class="line">   <span class="keyword">private</span> <span class="variable">$door</span> = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>{</span><br><span class="line">      <span class="variable">$amqp</span> = <span class="title class_">Yii</span>::<span class="variable">$app</span>-&gt;params[<span class="string">'rabbitMQ'</span>];</span><br><span class="line">      <span class="variable language_">$this</span>-&gt;connection = <span class="keyword">new</span> <span class="title class_">AMQPStreamConnection</span>(<span class="variable">$amqp</span>[<span class="string">'host'</span>],<span class="variable">$amqp</span>[<span class="string">'port'</span>],<span class="variable">$amqp</span>[<span class="string">'user'</span>],<span class="variable">$amqp</span>[<span class="string">'password'</span>],<span class="variable">$amqp</span>[<span class="string">'vhost'</span>]);</span><br><span class="line">      <span class="keyword">if</span>(!<span class="variable language_">$this</span>-&gt;connection-&gt;<span class="title function_ invoke__">isConnected</span>()){</span><br><span class="line">         <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">setError</span>(<span class="number">10003</span>,<span class="string">'è¿æ¥å¤±è´¥'</span>);</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      }</span><br><span class="line">      <span class="variable language_">$this</span>-&gt;channel = <span class="variable language_">$this</span>-&gt;connection-&gt;<span class="title function_ invoke__">channel</span>();</span><br><span class="line"></span><br><span class="line">      <span class="variable">$arguments</span> = <span class="keyword">new</span> <span class="title class_">AMQPTable</span>();</span><br><span class="line">      <span class="variable">$arguments</span>-&gt;<span class="title function_ invoke__">set</span>(<span class="string">"x-message-ttl"</span>,<span class="number">10000</span>);    <span class="comment">//æ¶ˆæ¯10sè¿‡æœŸ</span></span><br><span class="line">      <span class="comment">//$this-&gt;channel-&gt;queue_declare(self::QUEUE_NAME,false,false,false,false,false,$arguments);</span></span><br><span class="line">      <span class="variable language_">$this</span>-&gt;channel-&gt;<span class="title function_ invoke__">exchange_declare</span>(<span class="built_in">self</span>::<span class="variable constant_">QUEUE_NAME</span>,<span class="string">'topic'</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>);</span><br><span class="line">      <span class="comment">//$this-&gt;replyQueue = $this-&gt;devSn.'_'.$this-&gt;schoolId.'_'.microtime(true);</span></span><br><span class="line">      <span class="keyword">list</span>(<span class="variable language_">$this</span>-&gt;replyQueue, ,) = <span class="variable language_">$this</span>-&gt;channel-&gt;<span class="title function_ invoke__">queue_declare</span>(<span class="string">""</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">true</span>,<span class="literal">false</span>);</span><br><span class="line">      <span class="comment">//å›è°ƒ</span></span><br><span class="line">      <span class="variable">$callback</span> = <span class="function"><span class="keyword">function</span>(<span class="params">AMQPMessage <span class="variable">$rep</span></span>)</span>{</span><br><span class="line">         <span class="comment">//var_dump($rep-&gt;get_properties());die;</span></span><br><span class="line">         <span class="keyword">if</span>(<span class="variable">$rep</span>-&gt;<span class="title function_ invoke__">get</span>(<span class="string">'correlation_id'</span>) == <span class="variable language_">$this</span>-&gt;corrId) {</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;response = <span class="variable">$rep</span>-&gt;body;</span><br><span class="line">         }</span><br><span class="line">      };</span><br><span class="line"></span><br><span class="line">      <span class="comment">//æ¥æ”¶å›è°ƒä¿¡æ¯</span></span><br><span class="line">      <span class="variable language_">$this</span>-&gt;channel-&gt;<span class="title function_ invoke__">basic_consume</span>( <span class="variable">$this</span>-&gt;replyQueue,<span class="string">''</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="variable">$callback</span>);</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>{</span><br><span class="line">      <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">init</span>();</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="comment">//ç»„è£…å‚æ•°</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">buildParams</span>(<span class="params"></span>)</span>{</span><br><span class="line">      <span class="variable">$params</span> = [</span><br><span class="line">         <span class="string">'expire'</span>=&gt;<span class="title function_ invoke__">intval</span>(<span class="title function_ invoke__">time</span>() + <span class="built_in">self</span>::<span class="variable constant_">EXPIRE</span>),</span><br><span class="line">         <span class="string">'devSn'</span>=&gt;<span class="title function_ invoke__">intval</span>(<span class="variable">$this</span>-&gt;devSn),</span><br><span class="line">         <span class="string">'door'</span>=&gt;<span class="variable language_">$this</span>-&gt;door,</span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">$this</span>-&gt;params = <span class="title function_ invoke__">json_encode</span>(<span class="variable">$params</span>,<span class="literal">true</span>);</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//å‘é€mqå¼€é—¨æŒ‡ä»¤</span></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">open</span>(<span class="params"></span>)</span>{</span><br><span class="line">      <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">buildParams</span>();</span><br><span class="line">      <span class="variable language_">$this</span>-&gt;corrId = <span class="title function_ invoke__">uniqid</span>();</span><br><span class="line">      <span class="variable language_">$this</span>-&gt;response = <span class="literal">null</span>;</span><br><span class="line">      <span class="variable">$properties</span> = [<span class="string">'correlation_id'</span>=&gt;<span class="variable language_">$this</span>-&gt;corrId,<span class="string">'reply_to'</span>=&gt;<span class="variable language_">$this</span>-&gt;replyQueue];</span><br><span class="line">      <span class="variable">$message</span> = <span class="keyword">new</span> <span class="title class_">AMQPMessage</span>(<span class="variable language_">$this</span>-&gt;params,<span class="variable">$properties</span>);</span><br><span class="line">      <span class="variable language_">$this</span>-&gt;channel-&gt;<span class="title function_ invoke__">basic_publish</span>(<span class="variable">$message</span>,<span class="built_in">self</span>::<span class="variable constant_">QUEUE_NAME</span>,<span class="title function_ invoke__">sprintf</span>(<span class="string">'school.%d'</span>,<span class="variable">$this</span>-&gt;schoolId));</span><br><span class="line"></span><br><span class="line">      <span class="comment">//test</span></span><br><span class="line">      <span class="comment">/*$message = new AMQPMessage(json_encode(['FailDoor'=&gt;[1,2]],true),$properties);</span></span><br><span class="line"><span class="comment">      $this-&gt;channel-&gt;basic_publish($message,'',$this-&gt;replyQueue);*/</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">try</span>{</span><br><span class="line">         <span class="variable language_">$this</span>-&gt;channel-&gt;<span class="title function_ invoke__">wait</span>(<span class="literal">null</span>,<span class="literal">false</span>,<span class="built_in">self</span>::<span class="variable constant_">EXPIRE</span>);</span><br><span class="line">      }<span class="keyword">catch</span> (\<span class="built_in">Exception</span> <span class="variable">$exception</span>){</span><br><span class="line">         <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">setError</span>(<span class="number">10003</span>,<span class="string">'å¼€é—¨å¤±è´¥'</span>);</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">//var_dump($this-&gt;response);</span></span><br><span class="line">      <span class="comment">// // $this-&gt;channel-&gt;close();</span></span><br><span class="line">      <span class="comment">// $this-&gt;connection-&gt;close();</span></span><br><span class="line"></span><br><span class="line">      <span class="variable">$rs</span> = <span class="title function_ invoke__">json_decode</span>(<span class="variable">$this</span>-&gt;response,<span class="literal">true</span>);</span><br><span class="line">      <span class="keyword">if</span> (!<span class="title function_ invoke__">is_array</span>(<span class="variable">$rs</span>[<span class="string">'failDoor'</span>]) &amp;&amp; (!<span class="variable">$rs</span>[<span class="string">'failDoor'</span>] || <span class="variable">$rs</span>[<span class="string">'failDoor'</span>]!=<span class="variable language_">$this</span>-&gt;door)){</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">setError</span>(<span class="number">10003</span>,<span class="string">'å¼€é—¨å¤±è´¥'</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="å®¢æˆ·ç«¯è°ƒç”¨ä»£ç ï¼š"><a href="#å®¢æˆ·ç«¯è°ƒç”¨ä»£ç ï¼š" class="headerlink" title="å®¢æˆ·ç«¯è°ƒç”¨ä»£ç ï¼š"></a>å®¢æˆ·ç«¯è°ƒç”¨ä»£ç ï¼š</h3><figure class="highlight xl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$server = new RemoteOpenDoor();</span><br><span class="line">$<span class="function"><span class="title">server</span>-&gt;</span>devSn = $devSn;</span><br><span class="line">$<span class="function"><span class="title">server</span>-&gt;</span><span class="function"><span class="title">schoolId</span> = $teacher-&gt;</span>getSchoolId();</span><br><span class="line">$<span class="function"><span class="title">rs</span> = $server-&gt;</span>open();</span><br><span class="line">$<span class="function"><span class="title">error</span> = $server-&gt;</span>getError();</span><br><span class="line"><span class="keyword">if</span>(!$rs){</span><br><span class="line">   <span class="function"><span class="title">return</span> $error ? \Yii::$app-&gt;</span><span class="function"><span class="title">responseHelper</span>-&gt;</span><span class="function"><span class="title">error</span>($error)-&gt;</span><span class="function"><span class="title">response</span>() : \Yii::$app-&gt;</span><span class="function"><span class="title">responseHelper</span>-&gt;</span><span class="function"><span class="title">error</span>(new Error(110000,'æ“ä½œå¤±è´¥ï¼'))-&gt;</span>response();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">return</span> \Yii::$app-&gt;</span><span class="function"><span class="title">responseHelper</span>-&gt;</span><span class="function"><span class="title">success</span>(null)-&gt;</span>response();</span><br></pre></td></tr></tbody></table></figure><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p><a href="https://blog.csdn.net/weixin_36851500/article/details/93501861">https://blog.csdn.net/weixin_36851500/article/details/93501861</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Yii2 </tag>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä¸­composerçš„ä½¿ç”¨</title>
      <link href="/posts/php-composer.html"/>
      <url>/posts/php-composer.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><ol><li>é™ä½composerç‰ˆæœ¬<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">composer self-update -r</span><br><span class="line">æˆ–è€…æ˜¯ composer self-update -- l</span><br></pre></td></tr></tbody></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> composer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨çš„SQL</title>
      <link href="/posts/common-sql.html"/>
      <url>/posts/common-sql.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1ã€æŸ¥çœ‹æ‰€æœ‰çš„è§¦å‘å™¨"><a href="#1ã€æŸ¥çœ‹æ‰€æœ‰çš„è§¦å‘å™¨" class="headerlink" title="1ã€æŸ¥çœ‹æ‰€æœ‰çš„è§¦å‘å™¨"></a>1ã€æŸ¥çœ‹æ‰€æœ‰çš„è§¦å‘å™¨</h4><figure class="highlight n1ql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> information_schema.<span class="symbol">`TRIGGERS`</span>;</span><br></pre></td></tr></tbody></table></figure><h4 id="2ã€æŸ¥è¯¢æ‰€æœ‰çš„è¡¨"><a href="#2ã€æŸ¥è¯¢æ‰€æœ‰çš„è¡¨" class="headerlink" title="2ã€æŸ¥è¯¢æ‰€æœ‰çš„è¡¨"></a>2ã€æŸ¥è¯¢æ‰€æœ‰çš„è¡¨</h4><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TABLE_NAME</span> <span class="built_in">table_name</span>,TABLE_COMMENT table_comment <span class="keyword">FROM</span> INFORMATION_SCHEMA.<span class="keyword">TABLES</span> <span class="keyword">where</span> table_schema=<span class="string">'myDB'</span> <span class="keyword">and</span> table_type=<span class="string">'BASE TABLE'</span>;   //è¡¨å(ä¸åŒ…å«è§†å›¾)åŠå¤‡æ³¨</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">full</span> <span class="keyword">tables</span> <span class="keyword">where</span> Table_type = <span class="string">'BASE TABLE'</span>;    //è¡¨å</span><br></pre></td></tr></tbody></table></figure><h4 id="3ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æœ‰è§¦å‘å™¨çš„è¡¨"><a href="#3ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æœ‰è§¦å‘å™¨çš„è¡¨" class="headerlink" title="3ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æœ‰è§¦å‘å™¨çš„è¡¨"></a>3ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æœ‰è§¦å‘å™¨çš„è¡¨</h4><figure class="highlight n1ql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> EVENT_OBJECT_TABLE <span class="keyword">FROM</span> information_schema.<span class="symbol">`TRIGGERS`</span> <span class="keyword">WHERE</span> EVENT_OBJECT_SCHEMA = <span class="string">"db1"</span>;</span><br></pre></td></tr></tbody></table></figure><h4 id="4ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æ— è§¦å‘å™¨çš„è¡¨"><a href="#4ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æ— è§¦å‘å™¨çš„è¡¨" class="headerlink" title="4ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æ— è§¦å‘å™¨çš„è¡¨"></a>4ã€æŸ¥è¯¢db1æ•°æ®åº“ä¸­æ‰€æœ‰æ— è§¦å‘å™¨çš„è¡¨</h4><figure class="highlight n1ql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.TABLE_NAME <span class="keyword">from</span> information_schema.<span class="symbol">`TABLES`</span> A <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> information_schema.<span class="symbol">`TRIGGERS`</span> B <span class="keyword">ON</span> A.TABLE_NAME=B.EVENT_OBJECT_TABLE <span class="keyword">where</span> B.EVENT_OBJECT_TABLE <span class="keyword">is</span> <span class="literal">null</span> <span class="keyword">and</span> A.TABLE_SCHEMA=<span class="string">"db1"</span>;</span><br></pre></td></tr></tbody></table></figure><h4 id="5ã€åˆ›å»ºç´¢å¼•"><a href="#5ã€åˆ›å»ºç´¢å¼•" class="headerlink" title="5ã€åˆ›å»ºç´¢å¼•"></a>5ã€åˆ›å»ºç´¢å¼•</h4><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="built_in">table_name</span> <span class="keyword">add</span> <span class="keyword">index</span> index_name (ç´¢å¼•å­—æ®µ);   <span class="comment">-- åˆ›å»ºæ™®é€šç´¢å¼•</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> index_name <span class="keyword">on</span> <span class="built_in">table_name</span> (ç´¢å¼•å­—æ®µ);         <span class="comment">-- åˆ›å»ºæ™®é€šç´¢å¼•</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="built_in">table_name</span> <span class="keyword">add</span> <span class="keyword">primary key</span>(colunm_name);     <span class="comment">-- åˆ›å»ºä¸»é”®</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="built_in">table_name</span> <span class="keyword">add</span> <span class="keyword">unique</span>(colunm_name);          <span class="comment">-- åˆ›å»ºå”¯ä¸€ç´¢å¼•</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> idx_c1_c2 <span class="keyword">on</span> <span class="built_in">table_name</span>(c1,c2);             <span class="comment">-- åˆ›å»ºè”åˆç´¢å¼•</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">index</span> <span class="keyword">from</span> <span class="built_in">table_name</span>;                              <span class="comment">-- æŸ¥çœ‹è¡¨ä¸­çš„ç´¢å¼•</span></span><br></pre></td></tr></tbody></table></figure><h4 id="6ã€å»é™¤æ•°æ®è¡¨ä¸­æŒ‡å®šå­—æ®µçš„æ¢è¡Œç¬¦"><a href="#6ã€å»é™¤æ•°æ®è¡¨ä¸­æŒ‡å®šå­—æ®µçš„æ¢è¡Œç¬¦" class="headerlink" title="6ã€å»é™¤æ•°æ®è¡¨ä¸­æŒ‡å®šå­—æ®µçš„æ¢è¡Œç¬¦"></a>6ã€å»é™¤æ•°æ®è¡¨ä¸­æŒ‡å®šå­—æ®µçš„æ¢è¡Œç¬¦</h4><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- char(10)ï¼šæ¢è¡Œç¬¦      char(13)ï¼šå›è½¦ç¬¦</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">table</span> <span class="keyword">set</span> <span class="type">name</span>=replace(replace(`field`,<span class="type">char</span>(<span class="number">10</span>),<span class="string">''</span>),<span class="type">char</span>(<span class="number">13</span>),<span class="string">''</span>);</span><br></pre></td></tr></tbody></table></figure><h4 id="7ã€ä¿®æ”¹è¡¨å¼•æ“"><a href="#7ã€ä¿®æ”¹è¡¨å¼•æ“" class="headerlink" title="7ã€ä¿®æ”¹è¡¨å¼•æ“"></a>7ã€ä¿®æ”¹è¡¨å¼•æ“</h4><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="built_in">table_name</span> engine=MyISAM;</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç³»ç»Ÿè®¾è®¡</title>
      <link href="/posts/soft-system-design.html"/>
      <url>/posts/soft-system-design.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-ç³»ç»Ÿåˆ†æ"><a href="#1-ç³»ç»Ÿåˆ†æ" class="headerlink" title="1. ç³»ç»Ÿåˆ†æ"></a>1. ç³»ç»Ÿåˆ†æ</h3><ul><li><p>å¯¹äºåˆæœŸå•ä¸€ç³»ç»Ÿçš„äº§å“æ¥è¯´ï¼Œä¸€ä¸ªæ•°æ®åº“â•ä¸€ä¸ªå¹³å°ç¨‹åºå³å¯ï¼›</p></li><li><p>å¯¹äºå«æœ‰ä¸¤ä¸ªåŠä»¥ä¸Šå¹³å°çš„åˆæœŸäº§å“æ¥è¯´ï¼Œç³»ç»Ÿç»“æ„åº”è¯¥æ˜¯ï¼šå¤šä¸ªå¹³å°ç¨‹åºâ•ä¸€ä¸ªæœåŠ¡ä¸­å¿ƒâ•ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ï¼›</p></li><li><p>å¯¹äºå¤šå¹³å°ä¸”éœ€ä¸ç¬¬ä¸‰æ–¹äº¤äº’çš„äº§å“æ¥è¯´ï¼Œç³»ç»Ÿç»“æ„åº”è¯¥æ˜¯ï¼šå¤šä¸ªå¹³å°ç¨‹åºâ•ä¸€ä¸ªå¼€æ”¾å¹³å°ï¼ˆå«æ¥å£åŠè®¢é˜…ï¼‰â•ä¸€ä¸ªæœåŠ¡ä¸­å°ï¼ˆä¸€ä¸ªæœåŠ¡ä¸­å¿ƒâ•ä¸€ä¸ªsocketæœåŠ¡å™¨â•ä¸€ä¸ªå¼‚æ­¥æ•°æ®å¤„ç†ä¸­å¿ƒï¼‰â•å¤šä¸ªæ•°æ®åº“ï¼›</p></li></ul><h3 id="2-å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ã€é«˜å¯ç”¨çš„ç³»ç»Ÿ"><a href="#2-å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ã€é«˜å¯ç”¨çš„ç³»ç»Ÿ" class="headerlink" title="2. å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ã€é«˜å¯ç”¨çš„ç³»ç»Ÿ"></a>2. å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ã€é«˜å¯ç”¨çš„ç³»ç»Ÿ</h3><p><img src="/images/soft_design_1.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç³»ç»Ÿè®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹ç½‘ç»œç›¸å…³çš„å‘½ä»¤</title>
      <link href="/posts/network-command-on-linux.html"/>
      <url>/posts/network-command-on-linux.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1ã€æ£€æµ‹IP-åŸŸåæ˜¯å¦è¿é€šï¼š"><a href="#1ã€æ£€æµ‹IP-åŸŸåæ˜¯å¦è¿é€šï¼š" class="headerlink" title="1ã€æ£€æµ‹IP/åŸŸåæ˜¯å¦è¿é€šï¼š"></a>1ã€æ£€æµ‹IP/åŸŸåæ˜¯å¦è¿é€šï¼š</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping -c 4 192.168.10.8  #æŒ‡å®špingçš„æ¬¡æ•°  -c times</span><br><span class="line">ping -q -c 4 www.baidu.com  #åªæ˜¾ç¤ºç»“æœ  -q</span><br></pre></td></tr></tbody></table></figure><h2 id="2ã€æµ‹è¯•ç«¯å£çš„è¿é€šæ€§ï¼š"><a href="#2ã€æµ‹è¯•ç«¯å£çš„è¿é€šæ€§ï¼š" class="headerlink" title="2ã€æµ‹è¯•ç«¯å£çš„è¿é€šæ€§ï¼š"></a>2ã€æµ‹è¯•ç«¯å£çš„è¿é€šæ€§ï¼š</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet ip port  #å¦‚æœæœªå®‰è£…telnetï¼Œéœ€æ‰§è¡Œyum install telnetè¿›è¡Œå®‰è£…</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº‘é—ªä»˜çš„å•†ä¸šæ¨¡å¼</title>
      <link href="/posts/business-model-of-union-pay.html"/>
      <url>/posts/business-model-of-union-pay.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="ipage">    <div class="ititle">äº‘é—ªä»˜çš„å•†ä¸šæ¨¡å¼</div>  <div class="izhengwen">  <p>2018å¹´ï¼Œç”±é“¶è”ä¸»å¯¼çš„ä¸€ä¸ªAPPâ€”â€”äº‘é—ªä»˜ä¸Šçº¿ï¼Œä¹‹åä»¥æ–°ç”¨æˆ·å‰20ç¬”æ¶ˆè´¹å¯äº«ä¼˜æƒ çš„æ–¹å¼å¸å¼•äº†ä¸€å¤§æ‰¹ç¾Šæ¯›å…šï¼Œè¿‘ä¸€ä¸¤å¹´åœ¨å„å¤§åœ°é“ç«™ã€å…¬äº¤ç«™ç­‰å‡ºç°äº†äº‘é—ªä»˜çš„å¹¿å‘Šã€‚ä¸ªäººåŠå‘¨è¾¹çš„æœ‹å‹ä¹Ÿæœ‰ä½¿ç”¨è¿‡ï¼Œä½†éƒ½æ˜¯ä»å¼€å§‹çš„é¢‘ç¹ä½¿ç”¨ï¼Œåˆ°ç°åœ¨çš„åŸºæœ¬ä¸ä½¿ç”¨ã€‚</p>  <p>äº‘é—ªä»˜çš„ç›®çš„æ˜¯æ‰“ç ´æ”¯ä»˜å®ã€è´¢ä»˜é€šçš„å„æ–­ï¼ŒæŒ¤å…¥ç§»åŠ¨æ”¯ä»˜çš„é˜µè¥ï¼Œè€Œä¸”ç»Ÿä¸€é“¶è¡ŒAPPï¼Œèšåˆç½‘ä¸Šå•†åŸã€ç§»åŠ¨æ”¯ä»˜ã€äº¤é€šæ‰«ç ç­‰ï¼Œç«‹è¶³äºŒçº¿ä»¥ä¸‹åŸå¸‚ã€‚</p>  <p>å°±å…¬äº¤åœ°é“æ‰«ç æ”¯ä»˜è¿™ä¸€ä¸šåŠ¡ï¼Œä¸åŠå¤©åºœé€šã€‚å¤©åºœé€šå¯ä»¥æ ¹æ®æœ¬åœ°çš„å®šä»·ç­–ç•¥è¿›è¡Œä¼˜æƒ æŠ˜æ‰£ï¼Œè€Œäº‘é—ªä»˜æ— æ³•ä¸€ä¸€å¯¹æ¥ä¸ªæ€§åŒ–æœ¬åœ°å®šä»·ç­–ç•¥ã€‚æ•…ç”¨æˆ·ç²˜æ€§ä¸é«˜ã€‚</p>  </div></div>]]></content>
      
      
      <categories>
          
          <category> äº§å“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äº‘é—ªä»˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notepad++å¸¸ç”¨æ“ä½œ</title>
      <link href="/posts/notepad++-notes.html"/>
      <url>/posts/notepad++-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-å°†æŒ‡å®šå­—ç¬¦æ›¿æ¢ä¸ºæ¢è¡Œ"><a href="#1-å°†æŒ‡å®šå­—ç¬¦æ›¿æ¢ä¸ºæ¢è¡Œ" class="headerlink" title="1. å°†æŒ‡å®šå­—ç¬¦æ›¿æ¢ä¸ºæ¢è¡Œ"></a>1. å°†æŒ‡å®šå­—ç¬¦æ›¿æ¢ä¸ºæ¢è¡Œ</h3><ul><li>æ–¹æ³•ä¸€<br>æŸ¥æ‰¾ç›®æ ‡ï¼šå¾…æ›¿æ¢çš„å­—ç¬¦<br>æ›¿æ¢ä¸ºï¼š\r<br>æŸ¥æ‰¾æ¨¡å¼ï¼šæ‰©å±•<br>å¦‚æŠŠ | æ›¿æ¢ä¸ºæ¢è¡Œ<br><img src="/images/notepad_note_1.png" alt=""><br><img src="/images/notepad_note_2.png" alt=""></li><li>æ–¹æ³•äºŒ  <ol><li>æ‰“å¼€ éœ€è¦ä¿®æ”¹çš„æ–‡æœ¬æ–‡ä»¶ã€‚</li><li>æŒ‰ä¸‹ Ctrl+H ç»„åˆé”®ï¼Œæ‰“å¼€â€œæ›¿æ¢â€å¯¹è¯æ¡†ã€‚</li><li>æŸ¥æ‰¾ç›®æ ‡ï¼š åœ¨â€œæŸ¥æ‰¾ç›®æ ‡â€è¾“å…¥æ¡†ä¸­è¾“å…¥è¦æ›¿æ¢çš„å†…å®¹çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li><li>æ›¿æ¢ä¸ºï¼š åœ¨â€œæ›¿æ¢ä¸ºâ€è¾“å…¥æ¡†ä¸­è¾“å…¥ \nï¼Œè¡¨ç¤ºæ¢è¡Œç¬¦ã€‚</li><li>é€‰æ‹©æ¨¡å¼ï¼š åœ¨â€œæŸ¥æ‰¾æ¨¡å¼â€ä¸­ï¼Œç¡®ä¿é€‰ä¸­äº†â€œæ­£åˆ™è¡¨è¾¾å¼â€é€‰é¡¹ã€‚</li><li>ç‚¹å‡»â€œå…¨éƒ¨æ›¿æ¢â€ æŒ‰é’®ã€‚<br><img src="/images/notepad_note_1.2.png" alt=""></li></ol></li></ul><h3 id="2-å»é™¤é‡å¤çš„è¡Œ"><a href="#2-å»é™¤é‡å¤çš„è¡Œ" class="headerlink" title="2. å»é™¤é‡å¤çš„è¡Œ"></a>2. å»é™¤é‡å¤çš„è¡Œ</h3><ul><li>é€‰æ‹©å†…å®¹ï¼Œç„¶åç‚¹å‡» ç¼–è¾‘-&gt;è¡Œæ“ä½œ-&gt;å‡(é™)åºæ’åˆ—æ–‡æœ¬è¡Œ<br><img src="/images/notepad_note_3.png" alt=""></li><li>é€‰æ‹©å†…å®¹ï¼Œç„¶åç‚¹å‡» ç¼–è¾‘-&gt;è¡Œæ“ä½œ-&gt;åˆ é™¤è¿ç»­çš„é‡å¤è¡Œ<br><img src="/images/notepad_note_4.png" alt=""></li><li>å¾—åˆ°å»é‡åçš„å†…å®¹ï¼Œå”¯ä¸€ç¼ºç‚¹æ˜¯æ‰“ä¹±äº†åŸæœ‰å†…å®¹çš„é¡ºåº<br><img src="/images/notepad_note_5.png" alt=""></li></ul>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Notepad++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå¸¸ç”¨çš„é­”æœ¯æ–¹æ³•</title>
      <link href="/posts/php-magic-methods.html"/>
      <url>/posts/php-magic-methods.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li><p>__construct()</p></li><li><p>__clone()</p></li><li><p>__get()</p></li><li><p>__set()</p></li><li><p>__call()</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é­”æœ¯æ–¹æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“ä¸‰èŒƒå¼</title>
      <link href="/posts/db-3nf.html"/>
      <url>/posts/db-3nf.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="æ•°æ®åº“ä¸‰èŒƒå¼"><a href="#æ•°æ®åº“ä¸‰èŒƒå¼" class="headerlink" title="æ•°æ®åº“ä¸‰èŒƒå¼"></a>æ•°æ®åº“ä¸‰èŒƒå¼</h3><ol><li>ç¬¬ä¸€èŒƒå¼(1NF)ï¼šè§„å®šè¡¨ä¸­çš„æ¯ä¸ªåˆ—éƒ½åº”è¯¥æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°å•å…ƒã€‚</li><li>ç¬¬äºŒèŒƒå¼(2NF)ï¼šæ˜¯åœ¨æ»¡è¶³ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œè§„å®šè¡¨ä¸­çš„éä¸»é”®åˆ—ä¸å­˜åœ¨å¯¹ä¸»é”®çš„éƒ¨åˆ†ä¾èµ–ã€‚<br>å³è¦æ±‚å®ä½“çš„å±æ€§å®Œå…¨ä¾èµ–äºä¸»å…³é”®å­—ã€‚æ‰€è°“å®Œå…¨ä¾èµ–æ˜¯æŒ‡ä¸èƒ½å­˜åœ¨ä»…ä¾èµ–ä¸»å…³é”®å­—ä¸€éƒ¨åˆ†çš„å±æ€§ï¼Œå¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§å’Œä¸»å…³é”®å­—çš„è¿™ä¸€éƒ¨åˆ†åº”è¯¥åˆ†ç¦»å‡ºæ¥å½¢æˆä¸€ä¸ªæ–°çš„å®ä½“ï¼Œæ–°å®ä½“ä¸åŸå®ä½“ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ä¸ºå®ç°åŒºåˆ†é€šå¸¸éœ€è¦ä¸ºè¡¨åŠ ä¸Šä¸€ä¸ªåˆ—ï¼Œä»¥å­˜å‚¨å„ä¸ªå®ä¾‹çš„æƒŸä¸€æ ‡è¯†ã€‚</li><li>ç¬¬ä¸‰èŒƒå¼(3NF)ï¼šæ˜¯åœ¨æ»¡è¶³ç¬¬ä¸€èŒƒå¼å’Œç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šï¼Œè§„å®šè¡¨ä¸­çš„åˆ—ä¸å­˜åœ¨å¯¹éä¸»é”®åˆ—çš„ä¼ é€’ä¾èµ–ã€‚<br>æ‰€ä»¥ç¬¬ä¸‰èŒƒå¼å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š<pre><code>1. æ¯ä¸€åˆ—åªæœ‰ä¸€ä¸ªå€¼2. æ¯ä¸€è¡Œéƒ½èƒ½åŒºåˆ†ã€‚3. æ¯ä¸€ä¸ªè¡¨éƒ½ä¸åŒ…å«å…¶ä»–è¡¨å·²ç»åŒ…å«çš„éä¸»å…³é”®å­—ä¿¡æ¯ã€‚</code></pre>ä¾‹å¦‚ï¼Œå¸–å­è¡¨ä¸­åªèƒ½å‡ºç°å‘å¸–äººçš„idï¼Œè€Œä¸èƒ½å‡ºç°å‘å¸–äººçš„idï¼Œè¿˜åŒæ—¶å‡ºç°å‘å¸–äººå§“åï¼Œå¦åˆ™ï¼Œåªè¦å‡ºç°åŒä¸€å‘å¸–äººidçš„æ‰€æœ‰è®°å½•ï¼Œå®ƒä»¬ä¸­çš„å§“åéƒ¨åˆ†éƒ½å¿…é¡»ä¸¥æ ¼ä¿æŒä¸€è‡´ï¼Œè¿™å°±æ˜¯æ•°æ®å†—ä½™ã€‚<br>ä½†åœ¨å®é™…ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¿›è¡ŒåèŒƒå¼è®¾è®¡ï¼Œé€‚å½“å¢åŠ è¡¨çš„å†—ä½™å­—æ®µæ¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</li></ol><ul><li>ä¼˜åŠ¿ï¼šä½¿è¡¨çš„ç»“æ„æ›´ç®€å•ã€ä¼˜é›…ï¼Œè¡¨çš„é€»è¾‘å’Œæ¡ç†æ€§æ›´å¼ºï¼Œå¹¶ä¸”ä½¿ç”¨ä¸‰èŒƒå¼å¯ä»¥å¾ˆå¤§ç¨‹åº¦çš„å‡å°‘è¡¨ä¸­çš„å†—ä½™æ•°æ®ï¼Œå¾ˆå¥½çš„èŠ‚çœäº†æ•°æ®åº“çš„å­˜å‚¨èµ„æºã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLè„šæœ¬æ‰§è¡Œä¸­ï¼Œé¢„é˜²è¯¯å¤„ç†æ•°æ®çš„æ–¹æ³•</title>
      <link href="/posts/mysql-deal-miss-handle.html"/>
      <url>/posts/mysql-deal-miss-handle.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">åœ¨å·¥ä½œä¸­ï¼Œæœ‰æ—¶éœ€è¦é€šè¿‡æ•°æ®åº“è„šæœ¬æ¥å˜æ›´ç”Ÿäº§æ•°æ®ï¼Œä½†ç¨æœ‰ç–å¿½ï¼Œå°±ä¼šè¯¯åˆ æ•°æ®ã€æˆ–è€…å˜æ›´è¿‡å¤šæ•°æ®ï¼›ä¸ºé˜²é¢„é˜²è¿™ç±»æƒ…å†µçš„å‘ç”Ÿï¼Œæ ¹æ®æˆ‘ä¸ªäººçš„å·¥ä½œç»éªŒï¼Œæ€»ç»“äº†ä»¥ä¸‹å‡ ç‚¹æ–¹æ³•ï¼š</div><h3 id="1ã€å…ˆæµ‹è¯•"><a href="#1ã€å…ˆæµ‹è¯•" class="headerlink" title="1ã€å…ˆæµ‹è¯•"></a>1ã€å…ˆæµ‹è¯•</h3><p>   è„šæœ¬å†™å¥½ä¹‹åï¼Œå…ˆåœ¨æµ‹è¯•ç¯å¢ƒæ‰§è¡Œä¸€éï¼Œä¸€æ–¹é¢å¯ä»¥çœ‹çœ‹è„šæœ¬æ˜¯å¦æœ‰è¯­æ³•é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢çœ‹çœ‹æ•°æ®æ˜¯å¦æ­£ç¡®è¢«å¤„ç†ï¼›</p><h3 id="2ã€è„šæœ¬ç®€å•åŒ–"><a href="#2ã€è„šæœ¬ç®€å•åŒ–" class="headerlink" title="2ã€è„šæœ¬ç®€å•åŒ–"></a>2ã€è„šæœ¬ç®€å•åŒ–</h3><p>   å°½é‡å°†å¤æ‚çš„è”è¡¨å¤„ç†è¯­å¥è½¬ä¸ºå¤šæ¡å•è¡¨å¤„ç†è¯­å¥ï¼Œè¿™å¯ä»¥é˜²æ­¢ç”±äºé€»è¾‘ä¸ä¸¥è°¨å¯¼è‡´çš„æ•°æ®è¿‡å¤šè¢«å¤„ç†çš„é—®é¢˜ï¼›<br>å¦‚ï¼šç°æœ‰è„šæœ¬<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> personnel p <span class="keyword">set</span> p.status<span class="operator">=</span><span class="number">1</span> <span class="keyword">left</span> <span class="keyword">join</span> classes c <span class="keyword">on</span> p.class_id<span class="operator">=</span>c.class_id <span class="keyword">where</span> c.grade_id<span class="operator">=</span><span class="number">5</span>;</span><br></pre></td></tr></tbody></table></figure><br>å‡è®¾ç»æŸ¥è¯¢ï¼Œgrade_id=5çš„personnel ä¸º201-296ï¼Œå¯æ”¹ä¸ºï¼š<br><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">201</span>;</span><br><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">202</span>;</span><br><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">203</span>;</span><br><span class="line">â€¦â€¦</span><br><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">296</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="3ã€Whereæ¡ä»¶ç²¾ç¡®åŒ–"><a href="#3ã€Whereæ¡ä»¶ç²¾ç¡®åŒ–" class="headerlink" title="3ã€Whereæ¡ä»¶ç²¾ç¡®åŒ–"></a>3ã€Whereæ¡ä»¶ç²¾ç¡®åŒ–</h3><p>   å˜æ›´çš„whereæ¡ä»¶å°½é‡ä¸ºå”¯ä¸€ç´¢å¼•å­—æ®µï¼Œè¿™å¯ä»¥é˜²æ­¢ç”±äºæ¡ä»¶è¿‡äºå¤æ‚ã€æ•°æ®è¡¨è¿‡å¤§ï¼Œå¯¼è‡´é”è¡¨æ—¶é—´è¿‡é•¿ï¼Œæ‰§è¡Œæ•ˆç‡è¿‡ä½çš„é—®é¢˜ï¼›<br>å¦‚ï¼šç°æœ‰è„šæœ¬<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> class_id<span class="operator">=</span><span class="number">20</span> <span class="keyword">and</span> status<span class="operator">=</span><span class="number">0</span> <span class="keyword">and</span> create_time<span class="operator">&lt;</span><span class="number">1571580242</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>å‡è®¾ç»æŸ¥è¯¢ï¼Œæ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„personnelId ä¸º220ã€233ã€234ã€256ï¼Œå¯æ”¹ä¸ºï¼š<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">220</span>;</span><br><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">233</span>;</span><br><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">234</span>;</span><br><span class="line"><span class="keyword">update</span> personnel <span class="keyword">set</span> status<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">256</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>å•æ¡å¤æ‚è¯­å¥æ‹†åˆ†æˆå¤šæ¡å•ä¸€æ¡ä»¶è¯­å¥çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä¸‹é¢åˆ—ä¸¾å‡ ç§æ–¹å¼ï¼š<br>ï¼ˆ1ï¼‰å°†æ»¡è¶³æ¡ä»¶çš„æ•°æ®å¯¼å‡ºï¼Œå€ŸåŠ©excel/Notepad++ç­‰å·¥å…·è¿›è¡Œæ‰¹é‡è¡¥å…¨sqlè¯­å¥ï¼›<br>ï¼ˆ2ï¼‰åœ¨æ•°æ®åº“ä¸­ä½¿ç”¨concatå‡½æ•°è¿›è¡Œsqlæ‹¼æ¥ï¼Œå¦‚ï¼š<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> CONCAT(<span class="string">'delete from t_bracelet_person_relation where person_id='</span>,person_id,<span class="string">' and mac_id="'</span>,mac_id,<span class="string">'";'</span>) <span class="keyword">from</span> t_bracelet_person_relation <span class="keyword">where</span> mac_id <span class="keyword">in</span> (<span class="string">'C9B1EC032CB3'</span>,<span class="string">'FCBA0EB1DA09'</span>) <span class="keyword">and</span> status<span class="operator">=</span><span class="number">0</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="4ã€æœ‰æ¡ä»¶å¤„ç†"><a href="#4ã€æœ‰æ¡ä»¶å¤„ç†" class="headerlink" title="4ã€æœ‰æ¡ä»¶å¤„ç†"></a>4ã€æœ‰æ¡ä»¶å¤„ç†</h3><p>æ¯æ¡SQLè¯­å¥å¿…é¡»æœ‰whereæ¡ä»¶ï¼Œå¦åˆ™å¯èƒ½æœ‰é—®é¢˜ï¼Œå®¹æ˜“å¼•èµ·æ•°æ®è¿‡åº¦è¢«å¤„ç†çš„æƒ…å†µï¼›<br>å¦‚ï¼šç°æœ‰è„šæœ¬<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> goods <span class="keyword">set</span> status<span class="operator">=</span><span class="number">0</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>ç»æŸ¥ä¸Šè¿°è¯­å¥æœ¬æ¥åªå˜æ›´id=23çš„æ•°æ®ï¼Œç”±äºç–å¿½å¤§æ„å¿˜äº›whereæ¡ä»¶ï¼Œå¯¼è‡´æ•´ä¸ªè¡¨çš„æ•°æ®éƒ½è¢«å˜æ›´äº†ï¼Œè¿™ä¸ªé—®é¢˜çš„ä¸¥é‡æ€§ä¸äºšäºåˆ åº“ï¼›<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> goods <span class="keyword">set</span> status<span class="operator">=</span><span class="number">0</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">23</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="5ã€è„šæœ¬æ•°æ®æ ¡éªŒ"><a href="#5ã€è„šæœ¬æ•°æ®æ ¡éªŒ" class="headerlink" title="5ã€è„šæœ¬æ•°æ®æ ¡éªŒ"></a>5ã€è„šæœ¬æ•°æ®æ ¡éªŒ</h3><p>è„šæœ¬å†™å¥½ä¹‹åï¼Œå¯ä»¥å°†updateã€deleteæ”¹ä¸ºselectæŸ¥è¯¢ä¸‹ï¼Œä»æŸ¥è¯¢ç»“æœçš„æ•°æ®æ€»æ¡æ•°å’Œå…·ä½“æ•°æ®ä¸Šæ¯”å¯¹ä¸‹ï¼Œçœ‹çœ‹æ•°æ®æ˜¯å¦å’Œé¢„æœŸéœ€è¦å¤„ç†çš„æ•°æ®æœ‰å‡ºå…¥ï¼Œå¦‚æœæœ‰å°±æ˜¯æ¡ä»¶æœªæ§åˆ¶å¥½ï¼Œéœ€ä¿®æ”¹ï¼›<br>å¦‚ï¼šç°æœ‰è„šæœ¬<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> personnel p <span class="keyword">set</span> p.status<span class="operator">=</span><span class="number">1</span> <span class="keyword">left</span> <span class="keyword">join</span> classes c <span class="keyword">on</span> p.class_id<span class="operator">=</span>c.class_id <span class="keyword">where</span> c.grade_id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> personnel <span class="keyword">where</span> class_id<span class="operator">=</span><span class="number">20</span> <span class="keyword">and</span> status<span class="operator">=</span><span class="number">0</span> <span class="keyword">and</span> create_time<span class="operator">&lt;</span><span class="number">1571580242</span>;</span><br></pre></td></tr></tbody></table></figure><br>å¯æ”¹ä¸ºå¦‚ä¸‹è¯­å¥ï¼ŒæŸ¥è¯¢åæ ¸å¯¹æ•°æ®<br><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> p.<span class="operator">*</span> <span class="keyword">from</span> personnel p <span class="keyword">left</span> <span class="keyword">join</span> classes c <span class="keyword">on</span> p.class_id<span class="operator">=</span>c.class_id <span class="keyword">where</span> c.grade_id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> personnel <span class="keyword">where</span> class_id<span class="operator">=</span><span class="number">20</span> <span class="keyword">and</span> status<span class="operator">=</span><span class="number">0</span> <span class="keyword">and</span> create_time<span class="operator">&lt;</span><span class="number">1571580242</span>;</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯¦è§£php.ini</title>
      <link href="/posts/php-ini-config.html"/>
      <url>/posts/php-ini-config.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>safe_mode_exec_dir<br> è®¾ç½®å®‰å…¨æ¨¡å¼ä¸‹è„šæœ¬å¯æ‰§è¡Œçš„ç›®å½•ï¼Œå¦‚æœè¦é€šè¿‡popen()ã€system()ã€exec()ç­‰æ‰§è¡Œè„šæœ¬ï¼Œåˆ™è¯¥è„šæœ¬éœ€æ”¾åœ¨æœ¬é…ç½®è®¾ç½®çš„ç›®å½•ä¸‹ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä¸­decimalç±»å‹</title>
      <link href="/posts/mysql-decimal.html"/>
      <url>/posts/mysql-decimal.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨mysqlä¸­ï¼Œç»å¸¸ä¼šä½¿ç”¨decimalæ•°æ®ç±»å‹æ¥ä¿å­˜ç²¾åº¦å‡†ç¡®çš„æ•°å€¼ï¼Œå¦‚å·¥èµ„ã€ä»·æ ¼ã€é‡‘é¢ç­‰è´§å¸æ•°æ®ã€‚</p><ul><li>è¯­æ³•åŠå…¶è¯´æ˜<br><code>columName decimal(P,D);</code><br>Pè¡¨ç¤ºæœ‰æ•ˆæ•°å­—çš„ç²¾åº¦ï¼ŒèŒƒå›´ä¸º1~65ï¼›Pçš„é»˜è®¤å€¼ä¸º10ï¼Œå¦‚<code>columName decimal;</code>è¡¨ç¤ºä¸å«å°æ•°æ•°å­—æœ€å¤§é•¿åº¦ä¸º10ã€‚<br>Dè¡¨ç¤ºå°æ•°ç‚¹åçš„ä½æ•°ï¼ŒèŒƒå›´ä¸º0~30ï¼ŒD&lt;=Pï¼›å¦‚æœDä¸ºç©º(<code>columName decimal(P);</code>)æˆ–è€…0(<code>columName decimal(P,0);</code>)è¡¨ç¤ºåˆ—ä¸åŒ…å«å°æ•°éƒ¨åˆ†æˆ–å°æ•°ç‚¹ã€‚</li><li>ç¤ºä¾‹<br><code>amount decimal(6,2);</code>è¡¨ç¤ºamountåˆ—æœ€å¤šå¯ä»¥å­˜å‚¨6ä½æ•°å­—ï¼Œå°æ•°ç‚¹ä½æ•°ä¸º2ä½ï¼›amountåˆ—çš„èŒƒå›´ä¸º-9999.99~9999.99ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä¸­çš„explain</title>
      <link href="/posts/mysql-explain1.html"/>
      <url>/posts/mysql-explain1.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å½“æˆ‘ä»¬åœ¨æ‰§è¡Œsqlæ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨explainæ¥åˆ†æsqlçš„æ•ˆç‡æƒ…å†µã€‚</p><h4 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h4><p>  åªéœ€è¦åœ¨æŸ¥è¯¢çš„ SQL å‰é¢æ·»åŠ ä¸Š explain å…³é”®å­—å³å¯ã€‚<br><img src="/images/mysql_explain_1.png" alt=""></p><h4 id="ç»“æœåˆ—è¯´æ˜"><a href="#ç»“æœåˆ—è¯´æ˜" class="headerlink" title="ç»“æœåˆ—è¯´æ˜"></a>ç»“æœåˆ—è¯´æ˜</h4><ul><li>id â€” é€‰æ‹©æ ‡è¯†ç¬¦ï¼Œid è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆè¢«æ‰§è¡Œï¼›</li><li>select_type â€” è¡¨ç¤ºæŸ¥è¯¢çš„ç±»å‹ï¼›</li><li>table â€” è¾“å‡ºç»“æœé›†çš„è¡¨ï¼›</li><li>partitions â€” åŒ¹é…çš„åˆ†åŒºï¼›</li><li>type â€” è¡¨ç¤ºè¡¨çš„è¿æ¥ç±»å‹ï¼›<br>  type å€¼æœ‰å¦‚ä¸‹ç±»å‹<ul><li>all â€” å…¨è¡¨æ‰«æï¼Œåœ¨æ•°æ®é‡å¤§æ—¶æ•ˆç‡æä½ï¼›</li><li>index â€” éå†ç´¢å¼•ï¼Œå…¨ç´¢å¼•æ’åºï¼›æ ¹æ®extraçš„å†…å®¹åˆ†ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š<br>  Using Indexï¼šè¦†ç›–ç´¢å¼•ï¼Œå³<strong>åªéœ€è¦</strong>é€šè¿‡ç´¢å¼•å°±å¯ä»¥è¿”å›æŸ¥è¯¢æ‰€éœ€è¦çš„æ•°æ®<br>  Using Whereï¼šæŸ¥è¯¢åˆ—æœªç”¨åˆ°ç´¢å¼•<br>  Using Index  Using Whereï¼šå…¶ä¸­çš„æŸ¥è¯¢åˆ—æ˜¯ç´¢å¼•ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å‰å¯¼åˆ—ï¼Œå› æ­¤å…¶å®æ˜¯æ²¡æ³•ç”¨åˆ°è¿™ä¸ªç´¢å¼•çš„<br>  Nullï¼šæŸ¥è¯¢åˆ—æœ‰äº›ä¸æ˜¯ç´¢å¼•ï¼Œéœ€è¦å›è¡¨æ¥æŸ¥è¯¢æœªè¢«ç´¢å¼•è¦†ç›–çš„å­—æ®µï¼ˆä¸æ˜¯çº¯ç²¹ç”¨äº†ç´¢å¼•ï¼Œä¹Ÿä¸æ˜¯å®Œå…¨æ²¡ç”¨åˆ°ç´¢å¼•ï¼‰</li><li>range â€” ç´¢å¼•èŒƒå›´æŸ¥æ‰¾ï¼Œæœ‰èŒƒå›´çš„ç´¢å¼•æ’åºï¼›å¦‚ï¼š<code>between and &lt; &gt; in or</code></li><li>index_subquery â€” åœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ refï¼›éå”¯ä¸€æ€§ç´¢å¼•ï¼Œä¸€èˆ¬å‡ºç°åœ¨inæŸ¥è¯¢ä¸­ï¼›</li><li>unique_subquery â€” åœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ eq_refï¼Œä¸€èˆ¬å‡ºç°åœ¨inæŸ¥è¯¢ä¸­ï¼›</li><li>index_merge â€” ä½¿ç”¨äº†ç´¢å¼•åˆå¹¶ä¼˜åŒ–ã€‚(å¯¹å¤šä¸ªç´¢å¼•åˆ†åˆ«è¿›è¡Œäº†æ¡ä»¶çš„æŸ¥è¯¢ï¼Œæœ€åå¯¹è¿™å‡ ä¸ªæŸ¥è¯¢çš„ç»“æœè¿›è¡Œåˆå¹¶äº¤é›†è¿ç®—)</li><li>ref_or_null â€” å¯¹ null è¿›è¡Œç´¢å¼•çš„ä¼˜åŒ–çš„ refï¼› ç±»ä¼¼ refã€‚åŒºåˆ«æ˜¯ä»–ä¼šé¢å¤–çš„æœç´¢åŒ…å« null çš„è®°å½•ï¼Œä»–ä¼šå¯¹å…¶è¿›è¡Œä¸€äº›ä¼˜åŒ–ã€‚(ä¾‹å¦‚ï¼šSELECT * FROM table WHERE age = 18 and name is null)</li><li>fulltext â€” ä½¿ç”¨å…¨æ–‡ç´¢å¼•ï¼›</li><li>ref â€” ä½¿ç”¨éå”¯ä¸€ç´¢å¼•æŸ¥æ‰¾æ•°æ®ï¼›åˆ©ç”¨æŸ¥è¯¢ç´¢å¼•æ¥è¿›è¡Œæœç´¢ã€‚ï¼ˆéä¸»é”®ä»¥åŠ UNIQUEï¼‰</li><li>eq_ref â€” åœ¨ join æŸ¥è¯¢ä¸­ä½¿ç”¨ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•å…³è”ï¼›æŸ¥è¯¢åˆ—æ˜¯ä¸»é”®æˆ–è€…é NULL çš„ UNIQUE ç´¢å¼•ï¼Œå¸¸ç”¨åœ¨è”åˆæŸ¥è¯¢ã€‚(ä¾‹å¦‚ï¼šSELECT * FROM ref_table,other_table WHERE ref_table.key_column=other_table.column =&gt; ref_table.key_column æ˜¯ä¸»é”®æˆ–è€…é NULL çš„ UNIQUE ç´¢å¼•)</li><li>const â€” å°†ä¸€ä¸ªä¸»é”®æ”¾ç½®åˆ° where åé¢ä½œä¸ºæ¡ä»¶æŸ¥è¯¢ï¼Œ MySQL ä¼˜åŒ–å™¨å°±èƒ½æŠŠè¿™æ¬¡æŸ¥è¯¢ä¼˜åŒ–è½¬åŒ–ä¸ºä¸€ä¸ªå¸¸é‡ï¼Œå¦‚ä½•è½¬åŒ–ä»¥åŠä½•æ—¶è½¬åŒ–ï¼Œè¿™ä¸ªå–å†³äºä¼˜åŒ–å™¨ï¼Œè¿™ä¸ªæ¯” eq_ref æ•ˆç‡é«˜ä¸€ç‚¹ã€‚<br>  æŸ¥è¯¢æ¡ä»¶æ˜¯ä¸»é”®æˆ–è€…é NULL çš„ UNIQUE ç´¢å¼•ï¼Œå› æ­¤ç»“æœåªæœ‰ä¸€æ¡ï¼ŒåŒæ—¶ä¼˜åŒ–è¿‡ç¨‹ä¸­æŸ¥è¯¢åˆ—å€¼ä¼šè½¬æˆå¸¸é‡ã€‚</li><li>system â€” è¡¨ä¸­æ•°æ®åªæœ‰ä¸€è¡Œçš„æƒ…å†µï¼›</li><li>null â€” ä¸ç”¨è®¿é—®è¡¨å°±å¯ä»¥ç›´æ¥å¾—åˆ°ç»“æœã€‚(ä¾‹å¦‚ï¼šSELECT 1)<br>typeçš„æ•ˆç‡é«˜ä½æƒ…å†µï¼š<code>all &lt; index &lt; range &lt; index_subquery &lt; unique_subquery &lt; index_merge &lt; ref_or_null &lt; ref &lt; eq_ref &lt; const &lt; system</code></li></ul></li><li>possible_keys â€” è¡¨ç¤ºæŸ¥è¯¢æ—¶ï¼Œå¯èƒ½ä½¿ç”¨çš„ç´¢å¼•ï¼›</li><li>key â€” è¡¨ç¤ºå®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼›<br>  å¦‚æœè¿™ä¸€åˆ—ä¸º NULL åˆ™è¡¨ç¤ºæœªä½¿ç”¨ç´¢å¼•ï¼Œåä¹‹åˆ™ä½¿ç”¨äº†ç´¢å¼•ã€‚</li><li>key_len â€” ç´¢å¼•å­—æ®µçš„é•¿åº¦ï¼›</li><li>refâ€”  åˆ—ä¸ç´¢å¼•çš„æ¯”è¾ƒï¼›</li><li>rows â€” å¤§æ¦‚ä¼°ç®—çš„è¡Œæ•°ï¼›</li><li>filtered â€” æŒ‰è¡¨æ¡ä»¶è¿‡æ»¤çš„è¡Œç™¾åˆ†æ¯”ï¼›</li><li>Extra â€” æ‰§è¡Œæƒ…å†µçš„æè¿°å’Œè¯´æ˜ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLç´¢å¼•</title>
      <link href="/posts/mysql-index.html"/>
      <url>/posts/mysql-index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="å¯¼è‡´-MySQL-ç´¢å¼•å¤±æ•ˆçš„å¸¸è§åœºæ™¯"><a href="#å¯¼è‡´-MySQL-ç´¢å¼•å¤±æ•ˆçš„å¸¸è§åœºæ™¯" class="headerlink" title="å¯¼è‡´ MySQL ç´¢å¼•å¤±æ•ˆçš„å¸¸è§åœºæ™¯"></a>å¯¼è‡´ MySQL ç´¢å¼•å¤±æ•ˆçš„å¸¸è§åœºæ™¯</h4><ol><li>è”åˆç´¢å¼•ä¸æ»¡è¶³æœ€å·¦åŒ¹é…åŸåˆ™<br> æœ€å·¦åŒ¹é…åŸåˆ™æ˜¯æŒ‡ä»¥æœ€å·¦è¾¹çš„ä¸ºèµ·ç‚¹å­—æ®µæŸ¥è¯¢å¯ä»¥ä½¿ç”¨è”åˆç´¢å¼•ï¼Œå¦åˆ™å°†ä¸èƒ½ä½¿ç”¨è”åˆç´¢å¼•ã€‚<br> å‡è®¾è”åˆç´¢å¼•ä¸ºA+B+Cï¼Œåˆ™èƒ½ä½¿ç”¨ç´¢å¼•çš„ä¸ºA+B+Cã€A+Bã€A+Cã€‚</li><li>æ¨¡ç³ŠæŸ¥è¯¢æœ€å‰é¢çš„ä¸ºä¸ç¡®å®šåŒ¹é…å­—ç¬¦<br> åªæœ‰æ¨¡ç³ŠåŒ¹é…åé¢ä»»æ„å­—ç¬¦ï¼š<code>like 'xx%'</code> å¯ä»¥ä½¿ç”¨ç´¢å¼•</li><li>ç´¢å¼•åˆ—å‚ä¸äº†è¿ç®—<br> å¦‚ï¼š<code>explain select * from tname where id+1=1;</code>æœªä½¿ç”¨ç´¢å¼•</li><li>ç´¢å¼•åˆ—ä½¿ç”¨äº†å‡½æ•°<br> å¦‚ï¼š<code>explain select * from tname where ifnull(id,0)=1;</code>æœªä½¿ç”¨ç´¢å¼•</li><li>ç´¢å¼•åˆ—å­˜åœ¨ç±»å‹è½¬æ¢<br> å¦‚æœç´¢å¼•åˆ—å­˜åœ¨ç±»å‹è½¬æ¢ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šèµ°ç´¢å¼•ï¼Œæ¯”å¦‚ name ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œè€ŒæŸ¥è¯¢çš„æ—¶å€™è®¾ç½®äº† int ç±»å‹çš„å€¼å°±ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</li><li>ç´¢å¼•åˆ—ä½¿ç”¨ is not null æŸ¥è¯¢<br> å½“åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨äº† is not null ä¹Ÿä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œè€Œ is null åˆ™ä¼šæ­£å¸¸è§¦å‘ç´¢å¼•çš„</li></ol><h4 id="å“ªäº›æƒ…å†µä¸é€‚åˆåˆ›å»ºç´¢å¼•"><a href="#å“ªäº›æƒ…å†µä¸é€‚åˆåˆ›å»ºç´¢å¼•" class="headerlink" title="å“ªäº›æƒ…å†µä¸é€‚åˆåˆ›å»ºç´¢å¼•"></a>å“ªäº›æƒ…å†µä¸é€‚åˆåˆ›å»ºç´¢å¼•</h4><ol><li>ä¸åº”è¯¥åœ¨å­—æ®µæ¯”è¾ƒé•¿çš„å­—æ®µä¸Šå»ºç«‹ç´¢å¼•ï¼Œå› ä¸ºä¼šæ¶ˆè€—å¤§é‡çš„ç©ºé—´</li><li>å¯¹äºé¢‘ç¹æ›´æ–°ã€æ’å…¥çš„å­—æ®µåº”è¯¥å°‘å»ºç«‹ç´¢å¼•ï¼Œå› ä¸ºåœ¨ä¿®æ”¹å’Œæ’å…¥ä¹‹åï¼Œæ•°æ®åº“ä¼šå»ç»´æŠ¤ç´¢å¼•ï¼Œä¼šæ¶ˆè€—èµ„æº</li><li>å°½é‡å°‘åœ¨æ— ç”¨å­—æ®µä¸Šå»ºç«‹ç´¢å¼•ã€whereæ¡ä»¶ä¸­ç”¨ä¸åˆ°çš„å­—æ®µã€‘</li><li>è¡¨è®°å½•å¤ªå°‘ä¸åº”è¯¥åˆ›å»ºç´¢å¼•</li><li>æ•°æ®é‡å¤ä¸”åˆ†å¸ƒå¹³å‡çš„è¡¨å­—æ®µä¸åº”è¯¥åˆ›å»ºç´¢å¼•ã€é€‰æ‹©æ€§å¤ªä½ï¼Œä¾‹å¦‚æ€§åˆ«ã€çŠ¶æ€ã€çœŸå‡å€¼ç­‰å­—æ®µã€‘</li><li>å‚ä¸åˆ—è®¡ç®—çš„åˆ—ä¸é€‚åˆå»ºç´¢å¼•ã€ä¿æŒåˆ—â€å¹²å‡€â€ï¼Œæ¯”å¦‚from_unixtime(create_time) = â€˜2022-05-29â€™å°±ä¸èƒ½ä½¿ç”¨åˆ°ç´¢å¼•ï¼ŒåŸå› æ˜¯b+æ ‘ä¸­å­˜çš„éƒ½æ˜¯æ•°æ®è¡¨ä¸­çš„å­—æ®µå€¼ï¼Œä½†è¿›è¡Œæ£€ç´¢æ—¶éœ€è¦æŠŠæ‰€æœ‰å…ƒç´ éƒ½åº”ç”¨å‡½æ•°æ‰èƒ½æ¯”è¾ƒï¼Œæ˜¾ç„¶æˆæœ¬å¤ªå¤§ï¼Œæ‰€ä»¥è¯­å¥åº”è¯¥å†™æˆcreate_time = unix_timestamp(â€˜2022-05-29â€™)ã€‘</li></ol><h4 id="ç´¢å¼•çš„ä¼˜ç¼ºç‚¹"><a href="#ç´¢å¼•çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="ç´¢å¼•çš„ä¼˜ç¼ºç‚¹"></a>ç´¢å¼•çš„ä¼˜ç¼ºç‚¹</h4><ol><li>å»ºç«‹ç´¢å¼•æ˜¯è¦æ¶ˆè€—ä¸€å®šçš„ç©ºé—´ï¼Œå†µä¸”åœ¨ç´¢å¼•çš„ç»´æŠ¤ä¸Šä¹Ÿä¼šæ¶ˆè€—èµ„æº</li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLæ¶æ„è®¾è®¡</title>
      <link href="/posts/mysql-structural-design.html"/>
      <url>/posts/mysql-structural-design.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1ã€MySQLæ¶æ„è®¾è®¡ä¸­çš„ç»éªŒ"><a href="#1ã€MySQLæ¶æ„è®¾è®¡ä¸­çš„ç»éªŒ" class="headerlink" title="1ã€MySQLæ¶æ„è®¾è®¡ä¸­çš„ç»éªŒ"></a>1ã€MySQLæ¶æ„è®¾è®¡ä¸­çš„ç»éªŒ</h3><ul><li>1ï¼‰æ ¹æ®å…¬å¸ç°æœ‰ä¸šåŠ¡è®¾è®¡åˆç†æ¶æ„</li><li>2ï¼‰é€‰æ‹©æˆç†Ÿæ¶æ„æ–¹æ¡ˆ</li><li>3ï¼‰å› åœ°åˆ¶å®œï¼Œæ ¹æ®å®é™…è®¾å¤‡æƒ…å†µåšå‡ºé€‰æ‹©</li><li>4ï¼‰è€ƒè™‘æ–¹æ¡ˆçš„å¯è¡Œæ€§</li><li>5ï¼‰è¶Šç®€å•è¶Šå¥½ï¼Œè¶Šé€‚åˆå…¬å¸è¶Šå¥½</li></ul>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¶æ„è®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLè”è¡¨æŸ¥è¯¢</title>
      <link href="/posts/mysql-join.html"/>
      <url>/posts/mysql-join.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-è”è¡¨æŸ¥è¯¢åçš„ç»“æœé›†æ¯”è¾ƒ"><a href="#1-è”è¡¨æŸ¥è¯¢åçš„ç»“æœé›†æ¯”è¾ƒ" class="headerlink" title="1. è”è¡¨æŸ¥è¯¢åçš„ç»“æœé›†æ¯”è¾ƒ"></a>1. è”è¡¨æŸ¥è¯¢åçš„ç»“æœé›†æ¯”è¾ƒ</h3><p><img src="/images/mysql_join_1.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è”è¡¨æŸ¥è¯¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ªäººæ”¶é›†çš„ä¸€äº›å…¬ç”¨æ•°æ®</title>
      <link href="/posts/personnel-public-data.html"/>
      <url>/posts/personnel-public-data.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">è¿™æ˜¯ä¸ªäººé‡‡é›†çš„ä¸€äº›å…¬ç”¨æ•°æ®ï¼Œå¤§å®¶å¯æ ¹æ®éœ€è¦è‡ªå–ï¼Œä¸è°¢ï¼</div><ul><li><a href="https://github.com/crazy-boy/public-data/blob/main/åœ°åè¯åº“.txt" target="_blank">åœ°åè¯åº“</a></li><li><a href="https://github.com/crazy-boy/public-data/blob/main/æ­‡åè¯­.txt" target="_blank">æ­‡åè¯­</a></li><li><a href="https://github.com/crazy-boy/public-data/blob/main/æˆè¯­.txt" target="_blank">æˆè¯­</a></li><li><a href="https://github.com/crazy-boy/public-data/blob/main/å“ç‰Œå(è‹±æ–‡).txt" target="_blank">2015å¹´æœé›†çš„ä¸€äº›è‹±æ–‡ç‰ˆå“ç‰Œå</a></li><li><a href="https://github.com/crazy-boy/public-data/blob/main/å¸¸è§çš„ç”¨æˆ·å.txt" target="_blank">å¸¸è§çš„ç”¨æˆ·å</a></li><li><a href="https://github.com/crazy-boy/public-data/blob/main/å¸¸è§çš„å¼±å¯†ç .txt" target="_blank">å¸¸è§çš„å¼±å¯†ç </a></li><li><a href="https://github.com/crazy-boy/public-data/blob/main/å§“æ°(ä¸­æ–‡).txt" target="_blank">å§“æ°(ä¸­æ–‡)</a></li><li><a href="https://github.com/crazy-boy/public-data/blob/main/å§“æ°(æ—¥æ–‡).txt" target="_blank">å§“æ°(æ—¥æ–‡)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ƒç‰›äº‘å›¾ç‰‡</title>
      <link href="/posts/qiniu-storage.html"/>
      <url>/posts/qiniu-storage.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1ã€ä¸ƒç‰›äº‘å›¾ç‰‡åœ°å€ï¼š"><a href="#1ã€ä¸ƒç‰›äº‘å›¾ç‰‡åœ°å€ï¼š" class="headerlink" title="1ã€ä¸ƒç‰›äº‘å›¾ç‰‡åœ°å€ï¼š"></a>1ã€ä¸ƒç‰›äº‘å›¾ç‰‡åœ°å€ï¼š</h3><p><code>åŸŸå/hashå€¼</code><br>å¦‚ï¼š<a href="https://qiniu.xx.com/FroIL5_7Yx8cY901eZJk_vgtJko4">https://qiniu.xx.com/FroIL5_7Yx8cY901eZJk_vgtJko4</a></p><h3 id="2ã€æŒ‰æŒ‡å®šå°ºå¯¸æ˜¾ç¤ºå›¾ç‰‡ï¼š"><a href="#2ã€æŒ‰æŒ‡å®šå°ºå¯¸æ˜¾ç¤ºå›¾ç‰‡ï¼š" class="headerlink" title="2ã€æŒ‰æŒ‡å®šå°ºå¯¸æ˜¾ç¤ºå›¾ç‰‡ï¼š"></a>2ã€æŒ‰æŒ‡å®šå°ºå¯¸æ˜¾ç¤ºå›¾ç‰‡ï¼š</h3><p><code>åŸŸå/hashå€¼?imageMogr2/auto-orient/thumbnail/!å®½xé«˜r/gravity/Center/crop/å®½xé«˜/interlace/1/blur/1x0/quality/80|imageslim</code><br>å¦‚ï¼š<a href="https://qiniu.xx.com/FroIL5_7Yx8cY901eZJk_vgtJko4?imageMogr2/auto-orient/thumbnail/!100x200r/gravity/Center/crop/100x200/interlace/1/blur/1x0/quality/80|imageslim">https://qiniu.xx.com/FroIL5_7Yx8cY901eZJk_vgtJko4?imageMogr2/auto-orient/thumbnail/!100x200r/gravity/Center/crop/100x200/interlace/1/blur/1x0/quality/80|imageslim</a></p><h3 id="3ã€èµ„æºä¸‹è½½ï¼š"><a href="#3ã€èµ„æºä¸‹è½½ï¼š" class="headerlink" title="3ã€èµ„æºä¸‹è½½ï¼š"></a>3ã€èµ„æºä¸‹è½½ï¼š</h3><p><code>åŸŸå/hashå€¼?attname=æ–‡ä»¶å.æ‰©å±•å</code><br>å¦‚ï¼š<a href="https://qiniu.xx.com/FpGbwMwJR4mqRIbBIDCy2ZNbpvA9?attname=a.jpg">https://qiniu.xx.com/FpGbwMwJR4mqRIbBIDCy2ZNbpvA9?attname=a.jpg</a></p><h3 id="4ã€å›¾ç‰‡ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼š"><a href="#4ã€å›¾ç‰‡ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼š" class="headerlink" title="4ã€å›¾ç‰‡ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼š"></a>4ã€å›¾ç‰‡ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼š</h3><p><code>åŸŸå/hashå€¼?imageView2/&lt;mode&gt;/w/&lt;Width&gt;/h/&lt;Height&gt;</code><br>å¦‚ï¼š<a href="https://qiniu.xx.com/FpGbwMwJR4mqRIbBIDCy2ZNbpvA9?imageView2/2/w/450/h/450">https://qiniu.xx.com/FpGbwMwJR4mqRIbBIDCy2ZNbpvA9?imageView2/2/w/450/h/450</a></p><h3 id="å‚è€ƒæ–‡æ¡£ï¼š"><a href="#å‚è€ƒæ–‡æ¡£ï¼š" class="headerlink" title="å‚è€ƒæ–‡æ¡£ï¼š"></a>å‚è€ƒæ–‡æ¡£ï¼š</h3><p><a href="https://developer.qiniu.com/dora/api/1279/basic-processing-images-imageview2">https://developer.qiniu.com/dora/api/1279/basic-processing-images-imageview2</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¬¬ä¸‰æ–¹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¸ƒç‰›äº‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelä½¿ç”¨å°æŠ€å·§</title>
      <link href="/posts/e939ff3c.html"/>
      <url>/posts/e939ff3c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-excelå›ºå®šç¬¬ä¸€è¡Œï¼š"><a href="#1-excelå›ºå®šç¬¬ä¸€è¡Œï¼š" class="headerlink" title="1. excelå›ºå®šç¬¬ä¸€è¡Œï¼š"></a>1. excelå›ºå®šç¬¬ä¸€è¡Œï¼š</h3><p>é€‰æ‹©ç¬¬äºŒè¡Œï¼Œç‚¹å‡»è§†å›¾é‡Œçš„å†»ç»“çª—å£å³å¯ã€‚</p><h3 id="2-excelåˆ†åˆ—ï¼š"><a href="#2-excelåˆ†åˆ—ï¼š" class="headerlink" title="2. excelåˆ†åˆ—ï¼š"></a>2. excelåˆ†åˆ—ï¼š</h3><pre><code>å¦‚ï¼šå°†æŸä¸€åˆ—çš„æ•°æ®ç”±C4159D5953D8è½¬ä¸ºC4:15:9D:59:53:D8æ ¼å¼ï¼š</code></pre><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…¬å¼ä¸º</span></span><br><span class="line">=left(A1,2) &amp; ":" &amp; mid(A1,3,2) &amp; ":" &amp; mid(A1,5,2) &amp; ":" &amp; mid(A1,7,2) &amp; ":" &amp; mid(A1,9,2) &amp; ":" &amp; right(A1,2)</span><br></pre></td></tr></tbody></table></figure><h3 id="3-åˆ é™¤é‡å¤é¡¹ï¼š"><a href="#3-åˆ é™¤é‡å¤é¡¹ï¼š" class="headerlink" title="3. åˆ é™¤é‡å¤é¡¹ï¼š"></a>3. åˆ é™¤é‡å¤é¡¹ï¼š</h3><pre><code>é€‰ä¸­æ•°æ®åŒºåŸŸ-&gt;æ•°æ®-&gt;åˆ é™¤é‡å¤é¡¹-&gt;ç¡®å®š</code></pre><h3 id="4-VLOOKUPå‡½æ•°çš„ä½¿ç”¨"><a href="#4-VLOOKUPå‡½æ•°çš„ä½¿ç”¨" class="headerlink" title="4. VLOOKUPå‡½æ•°çš„ä½¿ç”¨"></a>4. VLOOKUPå‡½æ•°çš„ä½¿ç”¨</h3>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢†å¯¼ä¸ä¸‹å±äº¤å¾€ä¹‹é“</title>
      <link href="/posts/relation-between-leaders-and-staffs.html"/>
      <url>/posts/relation-between-leaders-and-staffs.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li><p>éå·¥ä½œæ—¶é—´ï¼Œä¸è¦æ‹¿å·¥ä½œä¸Šçš„äº‹æ¥æ‰“å‹å¨èƒä¸‹å±ï¼›è¿™ä¼šè®©ä¸‹å±å¿ƒç”Ÿåæ„Ÿã€‚<br> å¦‚ï¼šé¢†å¯¼è®©ä¸‹å±å¸®å¿™åšæŸä»¶äº‹æƒ…ï¼Œä¸‹å±ä¸è‚¯ï¼Œé¢†å¯¼å°±è¯´ä»¥åæ‰€æœ‰çš„å·¥ä½œéƒ½æŒ‡æ´¾ç»™ä½ ï¼Œå‡èŒåŠ è–ªæƒ³éƒ½åˆ«æƒ³â€¦â€¦</p></li><li><p>å¯¹ä¸‹å±ä¸å¥½åˆ†é…ä»»åŠ¡ï¼Œå·¥æœŸè¯„ä¼°è¿‡é•¿ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ</p><ul><li>ä¸è¦å£å¤´å®‰æ’ä»»åŠ¡ï¼Œå¼•å…¥ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œè®¾ç½®å¥½æˆªæ­¢æ—¥æœŸï¼Œéœ€æ±‚æè¿°æ¸…æ¥šï¼Œé€šçŸ¥ä¸‹å±åŠæ—¶å®Œæˆï¼›</li><li>è¯„ä¼°æ¯ä¸ªä»»åŠ¡çš„æ ‡å‡†äº§å‡º(è¡Œä¸šä¸­ç­‰åä¸Šæ°´å¹³çš„ä¸€ä¸ªå‘˜å·¥å®ŒæˆæŸä¸ªä»»åŠ¡æ‰€éœ€çš„æ—¶é—´)ï¼Œç”±äºæ¯ä¸ªä»»åŠ¡æœ‰å¤§å°éš¾æ˜“ä¹‹åˆ†ï¼Œæ‰€ä»¥è¦ç§ä¸‹è¯„ä¼°å‡ºæ¯ä¸ªä»»åŠ¡çš„æ ‡å‡†äº§å‡ºï¼›å¦‚æœæ— æ³•è¯„ä¼°ï¼Œé‚£å°±æŒ‰ç…§è‡ªå·±çš„æ°´å¹³æ¥è¯„ä¼°å³å¯ï¼Œå³ï¼šå‡è®¾è‡ªå·±æ¥åšè¿™ä¸ªä»»åŠ¡éœ€è¦èŠ±å¤šå°‘æ—¶é—´ï¼Œå°±æ˜¯æ ‡å‡†äº§å‡ºæ—¶é—´ã€‚</li><li>å®šæœŸå¯¹æ¯ä¸ªå‘˜å·¥çš„æ ‡å‡†äº§å‡ºè¿›è¡Œç»Ÿè®¡ï¼Œç»“åˆå‘˜å·¥çº§åˆ«ã€è–ªèµ„ã€å·¥ä½œæ—¶é—´å’Œæ ‡å‡†äº§å‡ºå°±å¯ä»¥å¯¹å¤§å®¶çš„çŠ¶æ€æœ‰ä¸ªæ¸…æ™°çš„è®¤è¯†äº†ã€‚<br><img src="/images/tec_manage_1.png" alt=""><br>ä»ä¸Šé¢çš„ç»Ÿè®¡ä¸­ï¼Œå¾ˆå®¹æ˜“å°±èƒ½çœ‹å‡ºè°æ˜¯è€æ²¹æ¡äº†</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ç®¡ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èŒåœºä¹‹é“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux å®‰è£…php5(php7)</title>
      <link href="/posts/install-php-on-linux.html"/>
      <url>/posts/install-php-on-linux.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-å…ˆå®‰è£…ä¾èµ–åŒ…"><a href="#1-å…ˆå®‰è£…ä¾èµ–åŒ…" class="headerlink" title="1. å…ˆå®‰è£…ä¾èµ–åŒ…"></a>1. å…ˆå®‰è£…ä¾èµ–åŒ…</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">  yum install gcc bison bison-devel zlib-devel libmcrypt-devel mcrypt mhash-devel openssl-devel libxml2-devel libcurl-devel bzip2-devel readline-devel libedit-devel</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-ä¸‹è½½php-5-3-0"><a href="#2-ä¸‹è½½php-5-3-0" class="headerlink" title="2. ä¸‹è½½php-5.3.0"></a>2. ä¸‹è½½php-5.3.0</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">wget http://cn2.php.net/get/php-5.3.0.tar.gz/from/this/mirror -o php-5.3.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è§£å‹</span> </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">tar -zxvf php-5.3.0.tar.gz</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> php-5.3.0</span></span><br><span class="line"></span><br><span class="line">yum install libxml2</span><br><span class="line"></span><br><span class="line">yum install libxml2-devel -y</span><br><span class="line"></span><br><span class="line">yum install curl curl-devel</span><br><span class="line">yum install -y epel-release</span><br><span class="line">yum install -y libmcrypt-devel</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">php5 é…ç½® </span><br><span class="line"></span><br><span class="line"> ./configure \</span><br><span class="line">--prefix=/usr/local/php5 \</span><br><span class="line">--with-config-file-path=/usr/local/php5/etc \</span><br><span class="line">--enable-inline-optimization \</span><br><span class="line">--disable-debug \</span><br><span class="line">--disable-rpath \</span><br><span class="line">--enable-shared \</span><br><span class="line">--enable-opcache \</span><br><span class="line">--enable-fpm \</span><br><span class="line">--with-fpm-user=www \</span><br><span class="line">--with-fpm-group=www \</span><br><span class="line">--with-mysql=mysqlnd \</span><br><span class="line">--with-mysqli=mysqlnd \</span><br><span class="line">--with-pdo-mysql=mysqlnd \</span><br><span class="line">--with-gettext \</span><br><span class="line">--with-gd \</span><br><span class="line">--enable-mbstring \</span><br><span class="line">--with-iconv \</span><br><span class="line">--with-mcrypt \</span><br><span class="line">--with-mhash \</span><br><span class="line">--with-openssl \</span><br><span class="line">--enable-bcmath \</span><br><span class="line">--enable-soap \</span><br><span class="line">--with-libxml-dir \</span><br><span class="line">--enable-pcntl \</span><br><span class="line">--enable-shmop \</span><br><span class="line">--enable-sysvmsg \</span><br><span class="line">--enable-sysvsem \</span><br><span class="line">--enable-sysvshm \</span><br><span class="line">--enable-sockets \</span><br><span class="line">--with-curl \</span><br><span class="line">--with-zlib \</span><br><span class="line">--enable-zip \</span><br><span class="line">--with-bz2 \</span><br><span class="line">--with-readline \</span><br><span class="line">--with-xsl \</span><br><span class="line">--without-sqlite3 \</span><br><span class="line">--without-pdo-sqlite \</span><br><span class="line">--with-pear</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">php7 é…ç½®</span><br><span class="line"></span><br><span class="line"> ./configure \</span><br><span class="line">--prefix=/usr/local/php7 \</span><br><span class="line">--with-config-file-path=/usr/local/php7/etc \</span><br><span class="line">--enable-inline-optimization \</span><br><span class="line">--disable-debug \</span><br><span class="line">--disable-rpath \</span><br><span class="line">--enable-shared \</span><br><span class="line">--enable-opcache \</span><br><span class="line">--enable-fpm \</span><br><span class="line">--with-fpm-user=www \</span><br><span class="line">--with-fpm-group=www \</span><br><span class="line">--with-mysql=mysqlnd \</span><br><span class="line">--with-mysqli=mysqlnd \</span><br><span class="line">--with-pdo-mysql=mysqlnd \</span><br><span class="line">--with-gettext \</span><br><span class="line">--enable-mbstring \</span><br><span class="line">--with-iconv \</span><br><span class="line">--with-mcrypt \</span><br><span class="line">--with-mhash \</span><br><span class="line">--with-openssl \</span><br><span class="line">--enable-bcmath \</span><br><span class="line">--enable-soap \</span><br><span class="line">--with-libxml-dir \</span><br><span class="line">--enable-pcntl \</span><br><span class="line">--enable-shmop \</span><br><span class="line">--enable-sysvmsg \</span><br><span class="line">--enable-sysvsem \</span><br><span class="line">--enable-sysvshm \</span><br><span class="line">--enable-sockets \</span><br><span class="line">--with-curl \</span><br><span class="line">--with-zlib \</span><br><span class="line">--enable-zip \</span><br><span class="line">--with-bz2 \</span><br><span class="line">--with-readline \</span><br><span class="line">--without-sqlite3 \</span><br><span class="line">--without-pdo-sqlite \</span><br><span class="line">--with-pear</span><br></pre></td></tr></tbody></table></figure><h3 id="3-ç¼–è¯‘å®‰è£…"><a href="#3-ç¼–è¯‘å®‰è£…" class="headerlink" title="3. ç¼–è¯‘å®‰è£…"></a>3. ç¼–è¯‘å®‰è£…</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">make &amp;&amp; make install</span></span><br></pre></td></tr></tbody></table></figure><h3 id="4-å¤åˆ¶-php-é…ç½®æ–‡ä»¶"><a href="#4-å¤åˆ¶-php-é…ç½®æ–‡ä»¶" class="headerlink" title="4. å¤åˆ¶ php é…ç½®æ–‡ä»¶"></a>4. å¤åˆ¶ php é…ç½®æ–‡ä»¶</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_2_centos php-5.6.30]# cp php.ini-production /usr/local/php7/etc/php.ini</span><br><span class="line">å·²ç»å®‰è£…å®Œæˆï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·</span><br><span class="line"></span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# /usr/local/php7/bin/php -v</span><br><span class="line">è¿”å›</span><br><span class="line"></span><br><span class="line">PHP 5.6.30 (cli) (built: Aug 29 2018 09:09:28) </span><br><span class="line">Copyright (c) 1997-2016 The PHP Group</span><br><span class="line">Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies</span><br></pre></td></tr></tbody></table></figure><h3 id="5-é…ç½®-php-fpm"><a href="#5-é…ç½®-php-fpm" class="headerlink" title="5. é…ç½® php-fpm"></a>5. é…ç½® php-fpm</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_2_centos php-5.6.30]# cp /usr/local/php7/etc/php-fpm.conf.default /usr/local/php7/etc/php-fpm.conf</span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# vim /usr/local/php7/etc/php-fpm.conf</span><br><span class="line">æŸ¥æ‰¾ user å°†</span><br><span class="line"></span><br><span class="line">user = nobody</span><br><span class="line">group = nobody</span><br><span class="line">æ”¹æˆ</span><br><span class="line"></span><br><span class="line">user = www</span><br><span class="line">group = www</span><br><span class="line">æŸ¥æ‰¾ listen å°†</span><br><span class="line"></span><br><span class="line">listen = 127.0.0.1:9000</span><br><span class="line">æ”¹æˆ</span><br><span class="line"></span><br><span class="line">listen = 127.0.0.1:9001</span><br><span class="line"></span><br><span class="line">é…ç½® php-fpm æœåŠ¡</span><br><span class="line"></span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# cp sapi/fpm/php-fpm.service /usr/lib/systemd/system/php7-fpm.service</span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# vim /usr/lib/systemd/system/php7-fpm.service </span><br><span class="line">å°†ï¼š</span><br><span class="line"></span><br><span class="line">PIDFile=${prefix}/var/run/php-fpm.pid</span><br><span class="line">ExecStart=${exec_prefix}/sbin/php-fpm --nodaemonize --fpm-config ${prefix}/etc/php-fpm.conf</span><br><span class="line">æ”¹æˆ</span><br><span class="line"></span><br><span class="line">PIDFile=/usr/local/php7/var/run/php-fpm.pid</span><br><span class="line">ExecStart=/usr/local/php7/sbin/php-fpm --nodaemonize --fpm-config /usr/local/php7/etc/php-fpm.conf</span><br></pre></td></tr></tbody></table></figure><h3 id="6-é‡æ–°è½½å…¥-systemd"><a href="#6-é‡æ–°è½½å…¥-systemd" class="headerlink" title="6. é‡æ–°è½½å…¥ systemd"></a>6. é‡æ–°è½½å…¥ systemd</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_2_centos php-5.6.30]# systemctl daemon-reload</span><br><span class="line">å¯ä»¥è®¾ç½®å¼€æœºå¯åŠ¨ï¼š</span><br><span class="line"></span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# systemctl enable php7-fpm</span><br><span class="line">è¿”å›ç»“æœ</span><br><span class="line"></span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/php7-fpm.service to /usr/lib/systemd/system/php7-fpm.service.</span><br><span class="line">å¯åŠ¨ï¼š</span><br><span class="line"></span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# systemctl start php7-fpm</span><br><span class="line">å…³é—­ï¼š</span><br><span class="line"></span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# systemctl stop php7-fpm</span><br><span class="line">æŸ¥çœ‹çŠ¶æ€ï¼š</span><br><span class="line"></span><br><span class="line">[root@VM_0_2_centos php-5.6.30]# systemctl status php7-fpm</span><br><span class="line">è¿”å›</span><br><span class="line"></span><br><span class="line">â— php5-fpm.service - The PHP FastCGI Process Manager</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/php5-fpm.service; disabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since Wed 2018-08-29 09:36:39 CST; 47s ago</span><br><span class="line"> Main PID: 14996 (php-fpm)</span><br><span class="line">   CGroup: /system.slice/php5-fpm.service</span><br><span class="line">           â”œâ”€14996 php-fpm: master process (/usr/local/php5/etc/php-fpm.conf)</span><br><span class="line">           â”œâ”€14997 php-fpm: pool www</span><br><span class="line">           â””â”€14998 php-fpm: pool www</span><br></pre></td></tr></tbody></table></figure><p>å‚è€ƒåœ°å€ï¼š<a href="https://blog.csdn.net/weixin_42579642/article/details/85290670">https://blog.csdn.net/weixin_42579642/article/details/85290670</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos7å®‰è£…mysql5.0ç‰ˆæœ¬æ•™ç¨‹</title>
      <link href="/posts/install-mysql-on-linux.html"/>
      <url>/posts/install-mysql-on-linux.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-ä¸‹è½½mysql-bundle-taråŒ…"><a href="#1-ä¸‹è½½mysql-bundle-taråŒ…" class="headerlink" title="1. ä¸‹è½½mysql bundle.taråŒ…"></a>1. ä¸‹è½½mysql bundle.taråŒ…</h3><p>ä¸Šä¼   mysql bundle.taråŒ…åˆ°æœåŠ¡å™¨<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è§£å‹  tar -xvf mysql-5.7.27-1.el7.x86_64.rpm-bundle.tar</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="2-æŒ‰é¡ºåºé€ä¸ªå®‰è£…rpm"><a href="#2-æŒ‰é¡ºåºé€ä¸ªå®‰è£…rpm" class="headerlink" title="2. æŒ‰é¡ºåºé€ä¸ªå®‰è£…rpm"></a>2. æŒ‰é¡ºåºé€ä¸ªå®‰è£…rpm</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa|grep mariadb</span><br><span class="line">rpm -e mariadb-libs-5.5.35-3.el7.x86_64 --nodeps</span><br><span class="line">rpm - ivh mysql-community-common-</span><br><span class="line">rpm - ivh mysql-community-libs-      </span><br><span class="line">rpm - ivh mysql-community-client-  </span><br><span class="line">rpm - ivh mysql-community-server-   </span><br><span class="line">rpm - ivh mysql-community-devel-</span><br></pre></td></tr></tbody></table></figure><h3 id="3-å¯åŠ¨-amp-é…ç½®"><a href="#3-å¯åŠ¨-amp-é…ç½®" class="headerlink" title="3. å¯åŠ¨&amp;é…ç½®"></a>3. å¯åŠ¨&amp;é…ç½®</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨</span></span><br><span class="line">systemctl  start mysqld</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…³é—­</span></span><br><span class="line">systemctl  stop mysqld</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¼€æœºå¯åŠ¨</span></span><br><span class="line">systemctl enable mysqld</span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">systemctl  status mysqld</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">çœ‹åˆ°ç»¿è‰²çš„runningä»£è¡¨å·²ç»å¯åŠ¨æˆåŠŸï¼Œç„¶åmysqlåœ¨5.6ä¹‹åçš„ç‰ˆæœ¬éƒ½ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªé»˜è®¤å¯†ç ï¼Œæ˜¯rootç”¨æˆ·çš„ã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹é»˜è®¤è®¾ç½®çš„å¯†ç </span></span><br><span class="line">grep 'temporary password' /var/log/mysqld.log</span><br></pre></td></tr></tbody></table></figure><h3 id="4-è¿›å…¥mysql"><a href="#4-è¿›å…¥mysql" class="headerlink" title="4. è¿›å…¥mysql"></a>4. è¿›å…¥mysql</h3><p>æ‰§è¡Œå®Œå¦‚ä¸‹å‘½ä»¤ä¹‹åè¾“å…¥é»˜è®¤å¯†ç <br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></tbody></table></figure><p></p><p>MySQL 5è°ƒæ•´å¯†ç éªŒè¯è§„åˆ™ï¼š<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"><span class="built_in">set</span> global validate_password_policy=0;</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"><span class="built_in">set</span> global validate_password_length=1;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>é‡æ–°è®¾ç½®å¯†ç <br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER  user() identified by "123456";</span><br></pre></td></tr></tbody></table></figure><p></p><p>æˆæƒ root è¿œç¨‹è¿æ¥<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br></pre></td></tr></tbody></table></figure><p></p><p>ä¿®æ”¹è¿æ¥æƒé™ï¼Œæ‰§è¡Œï¼š<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update user set host='%' where user ='root';</span><br></pre></td></tr></tbody></table></figure><p></p><p>æ‰§è¡Œåˆ·æ–°æƒé™ï¼š<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹å®‰è£…nodejs</title>
      <link href="/posts/linux-install-nodejs.html"/>
      <url>/posts/linux-install-nodejs.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-ä¸‹è½½nodejs"><a href="#1-ä¸‹è½½nodejs" class="headerlink" title="1. ä¸‹è½½nodejs"></a>1. ä¸‹è½½nodejs</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">wget</span>&nbsp;https://nodejs.org/dist/v8.<span class="number">11</span>.<span class="number">4</span>/node-v8.<span class="number">11</span>.<span class="number">4</span>-linux-x64.tar.xz</span><br></pre></td></tr></tbody></table></figure><h3 id="2-è§£å‹nodejs"><a href="#2-è§£å‹nodejs" class="headerlink" title="2. è§£å‹nodejs"></a>2. è§£å‹nodejs</h3><figure class="highlight crmsh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar xvf <span class="keyword">node</span><span class="title">-v8</span>.<span class="number">11.4</span>-linux-x64.tar.xz <span class="comment">#è§£å‹</span></span><br><span class="line">mv <span class="keyword">node</span><span class="title">-v8</span>.<span class="number">11.4</span>-linux-x64 <span class="keyword">node</span><span class="title">-v8</span>.<span class="number">11.4</span> <span class="comment">#æ”¹çŸ­å</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-æŸ¥çœ‹ç‰ˆæœ¬"><a href="#3-æŸ¥çœ‹ç‰ˆæœ¬" class="headerlink" title="3. æŸ¥çœ‹ç‰ˆæœ¬"></a>3. æŸ¥çœ‹ç‰ˆæœ¬</h3><figure class="highlight crmsh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">node</span><span class="title">-v8</span>.<span class="number">11.4</span>/bin &amp;&amp; ls <span class="comment">#è¿›å…¥ç›®å½•å¹¶åˆ—å‡º</span></span><br><span class="line">./<span class="keyword">node</span> <span class="title">-v</span> <span class="comment">#æŸ¥çœ‹nodeç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">node</span> <span class="title">-v</span> <span class="comment">#æ— æ³•è·å–ï¼Œæœªé…ç½®</span></span><br></pre></td></tr></tbody></table></figure><p><img src="/images/linux_install_nodejs_1.png" alt=""></p><h3 id="4-é…ç½®"><a href="#4-é…ç½®" class="headerlink" title="4. é…ç½®"></a>4. é…ç½®</h3><figure class="highlight crmsh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /<span class="keyword">node</span><span class="title">-v8</span>.<span class="number">11.4</span>/bin/<span class="keyword">node</span> <span class="title">/usr</span>/bin/<span class="keyword">node</span></span><br><span class="line"><span class="title">ln</span> -s /<span class="keyword">node</span><span class="title">-v8</span>.<span class="number">11.4</span>/bin/npm /usr/bin/npm</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/linux_install_nodejs_2.png" alt=""></p><h3 id="5-æ¸…ç†å®‰è£…åŒ…"><a href="#5-æ¸…ç†å®‰è£…åŒ…" class="headerlink" title="5. æ¸…ç†å®‰è£…åŒ…"></a>5. æ¸…ç†å®‰è£…åŒ…</h3><figure class="highlight crmsh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf <span class="keyword">node</span><span class="title">-v8</span>.<span class="number">11.4</span>-linux-x64.tar.xz</span><br></pre></td></tr></tbody></table></figure><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://www.jianshu.com/p/8cdbe4f4b533">https://www.jianshu.com/p/8cdbe4f4b533</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹å®‰è£…Cacti</title>
      <link href="/posts/install-cacti-on-linux.html"/>
      <url>/posts/install-cacti-on-linux.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1ã€å®‰è£…rrdtool"><a href="#1ã€å®‰è£…rrdtool" class="headerlink" title="1ã€å®‰è£…rrdtool"></a>1ã€å®‰è£…rrdtool</h3><p><code>yum install rrdtool rrdtool-perl -y</code></p><h3 id="2ã€å®‰è£…é…ç½®net-snmp"><a href="#2ã€å®‰è£…é…ç½®net-snmp" class="headerlink" title="2ã€å®‰è£…é…ç½®net-snmp"></a>2ã€å®‰è£…é…ç½®net-snmp</h3><ul><li>(1)ã€å®‰è£…net-snmp<br><code>yum install net-snmp net-snmp-libs net-snmp-utils</code></li></ul><p>å¯èƒ½æŠ¥é”™ï¼š</p><figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="number">2</span>:postfix-<span class="number">2.10</span>.<span class="number">1</span>-<span class="number">6</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span> has missing requires of libmysqlclient<span class="selector-class">.so</span>.<span class="number">18</span>()(<span class="number">64</span>bit)</span><br><span class="line"><span class="number">2</span>:postfix-<span class="number">2.10</span>.<span class="number">1</span>-<span class="number">6</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span> has missing requires of libmysqlclient<span class="selector-class">.so</span>.<span class="number">18</span>(libmysqlclient_18)(<span class="number">64</span>bit)</span><br></pre></td></tr></tbody></table></figure><p>è§£å†³:ç¼ºå°‘Percona-XtraDB-Cluster-shared-55-5.5.37-25.10.756.el6.x86_64.rpmè¿™ä¸ªåŒ…</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">wget http://www.percona.com/redir/downloads/Percona-XtraDB-Cluster/5.5.37-25.10/RPM/rhel6/x86_64/Percona-XtraDB-Cluster-shared-55-5.5.37-25.10.756.el6.x86_64.rpm</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rpm -ivh Percona-XtraDB-Cluster-shared-55-5.5.37-25.10.756.el6.x86_64.rp</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(2)ã€é…ç½®net-snmp<br><code>vim /etc/snmp/snmpd.conf</code></li></ul><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">41</span>è¡Œ <span class="number">1</span>å°†<span class="keyword">default</span> æ”¹ä¸ºç›‘æ§æœåŠ¡å™¨ip;<span class="number">2</span> å°†<span class="built_in">public</span> æ”¹æˆå¤æ‚äº›çš„è¯†åˆ«çš„å­—ç¬¦ä¸²  </span><br><span class="line">com2sec notConfigUser  <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>      <span class="built_in">public</span>  </span><br><span class="line">  </span><br><span class="line"><span class="number">62</span>è¡Œ <span class="number">1</span>å°†systemview æ”¹ä¸º<span class="keyword">all</span>,ä¾›æ‰€æœ‰snmp è®¿é—®æƒé™  </span><br><span class="line"><span class="keyword">access</span>  notConfigGroup ""      <span class="keyword">any</span>       noauth    exact  <span class="keyword">all</span> <span class="keyword">none</span> <span class="keyword">none</span>  </span><br><span class="line">  </span><br><span class="line"><span class="number">85</span>è¡Œ å°†#æ³¨é‡Šç¬¦å·å»æ‰  </span><br><span class="line"><span class="keyword">view</span> <span class="keyword">all</span>    included  <span class="number">.1</span>                               <span class="number">80</span>  </span><br></pre></td></tr></tbody></table></figure><ul><li><p>(3)ã€å¯åŠ¨net-snmp<br><code>service snmpd start</code><br>å¯èƒ½æç¤ºï¼šRedirecting to /bin/systemctl start snmpd.service<br>è§£å†³æ–¹æ³•ï¼š<code>/bin/systemctl start snmpd</code></p></li><li><p>(4)ã€æµ‹è¯•net-snmp<br>snmpd ä½¿ç”¨ tcp/udp 161 ç«¯å£,éªŒè¯snmpd æœåŠ¡<br><code>lsof -i :161</code><br><img src="/images/install_cacti_on_linux_1.png" alt=""><br>ä½¿ç”¨snmpwalk å‘½ä»¤éªŒè¯</p><figure class="highlight llvm"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">snmpwalk -v <span class="number">2</span><span class="keyword">c</span> -<span class="keyword">c</span> public <span class="number">127.0</span>.<span class="number">0.1</span> </span><br><span class="line">-væ˜¯æŒ‡ç‰ˆæœ¬<span class="punctuation">,</span>-<span class="keyword">c</span> æ˜¯æŒ‡å¯†é’¥ï¼Œè·å–åˆ°ç³»ç»Ÿä¿¡æ¯åˆ™æ­£å¸¸ï¼</span><br><span class="line">å¦‚æœcactiæ­å»ºå¥½åå¾ˆä¹…è¿˜æ˜¯æ²¡å‡ºå›¾ï¼Œç”¨è¿™ä¸ªå‘½ä»¤è¯•è¯•çœ‹èƒ½å¦è·å–åˆ°æ•°æ®ã€‚</span><br><span class="line">æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤åä¼šæœ‰å¾ˆå¤šæ•°æ®å‡ºç°ï¼</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="3ã€å®‰è£…cacti"><a href="#3ã€å®‰è£…cacti" class="headerlink" title="3ã€å®‰è£…cacti"></a>3ã€å®‰è£…cacti</h3><ul><li>(1)ã€å®‰è£…net-snmp<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp </span><br><span class="line">wget http://www.cacti.net/downloads/cacti-0.8.8a.tar.gz </span><br><span class="line">tar xzf cacti-0.8.8a.tar.gz </span><br><span class="line">mv cacti-0.8.8a /var/www/cacti </span><br><span class="line">cd /var/www/cacti</span><br></pre></td></tr></tbody></table></figure></li><li><p>(2)ã€åˆ›å»ºæ•°æ®åº“<br><code>mysqladmin --user=root -p create cacti</code></p></li><li><p>(3)ã€å¯¼å…¥æ•°æ®åº“<br><code>mysql -uroot -p cacti &lt; cacti.sql</code><br>å¯èƒ½æŠ¥é”™ï¼šERROR 1067 (42000) at line 1847: Invalid default value for â€˜status_fail_dateâ€™<br>åŸå› ï¼šstatus_fail_dateçš„datetimeé»˜è®¤ç±»å‹æ˜¯ä¸å…è®¸çš„<br>è§£å†³æ–¹æ³•ï¼š</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vim</span> /etc/my.<span class="keyword">cnf</span></span><br><span class="line">æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</span><br><span class="line">sql-<span class="keyword">mode</span>=<span class="string">"ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span></span><br><span class="line">é‡å¯mysqlæœåŠ¡ï¼šsystemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure></li><li><p>(4)ã€åˆ›å»ºæ•°æ®åº“ç”¨æˆ·</p><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysql -uroot -p mysql </span><br><span class="line">mysql&gt; <span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> cacti.* <span class="keyword">TO</span> cactiuser@localhost IDENTIFIED <span class="keyword">BY</span> <span class="string">'Cacti@pwd001231'</span>; </span><br><span class="line">mysql&gt; flush <span class="keyword">privileges</span>; </span><br></pre></td></tr></tbody></table></figure></li><li><p>(5)ã€é…ç½®include/config.php</p><figure class="highlight perl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$database_type = <span class="string">"mysql"</span>; </span><br><span class="line">$database_default = <span class="string">"cacti"</span>; </span><br><span class="line">$database_hostname = <span class="string">"localhost"</span>; </span><br><span class="line">$database_username = <span class="string">"cactiuser"</span>; </span><br><span class="line">$database_password = <span class="string">"Cacti@pwd001231"</span>; </span><br></pre></td></tr></tbody></table></figure></li></ul><p>æ‰“å¼€æ³¨é‡Šæ‰çš„ï¼š<code>$url_path = "/cacti/";</code></p><ul><li><p>(6)ã€é…ç½®include/global.php</p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Default database settings*/</span> </span><br><span class="line"><span class="variable">$database_type</span> = <span class="string">"mysql"</span>; </span><br><span class="line"><span class="variable">$database_default</span> = <span class="string">"cacti"</span>; </span><br><span class="line"><span class="variable">$database_hostname</span> = <span class="string">"localhost"</span>; </span><br><span class="line"><span class="variable">$database_username</span> = <span class="string">"cactiuser"</span>; </span><br><span class="line"><span class="variable">$database_password</span> = <span class="string">"Cacti@pwd001231"</span>; </span><br><span class="line"><span class="variable">$database_port</span> = <span class="string">"3306"</span>; </span><br><span class="line"><span class="variable">$database_ssl</span> = <span class="literal">false</span>; </span><br></pre></td></tr></tbody></table></figure></li><li><p>(7)ã€è®¾ç½®ç›®å½•æƒé™</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd cactiuser </span><br><span class="line"><span class="built_in">chown</span> -R cactiuser rra/ <span class="built_in">log</span>/ </span><br></pre></td></tr></tbody></table></figure></li><li><p>(8)ã€é…ç½®è®¡åˆ’ä»»åŠ¡</p><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#crontab -e </span></span><br><span class="line">*<span class="regexp">/5 * * * * /u</span>sr<span class="regexp">/bin/</span>php <span class="regexp">/var/</span>www<span class="regexp">/html/</span>cacti<span class="regexp">/poller.php &gt; /</span>dev<span class="regexp">/null 2&gt;&amp;1 /</span>/è®©ç³»ç»Ÿæ¯<span class="number">5</span>åˆ†é’Ÿæ”¶é›†</span><br><span class="line">service crond restart </span><br></pre></td></tr></tbody></table></figure></li><li><p>(9)ã€å®Œæˆcactiçš„å®‰è£…<br>æ³¨æ„å…³é—­é˜²ç«å¢™æˆ–è€…å…è®¸80ç«¯å£ï¼Œå…³é—­selinux<br>1) åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š<a href="http://ç›‘æ§æœåŠ¡å™¨IP/cacti/">http://ç›‘æ§æœåŠ¡å™¨IP/cacti/</a><br>é»˜è®¤ç”¨æˆ·åï¼šadmin å¯†ç ï¼šadmin<br>2ï¼‰è®¾ç½®cactiç”¨åˆ°çš„å‘½ä»¤è·¯å¾„<br>3) æ›´æ”¹å¯†ç <br>ç™»é™†æˆåŠŸæˆ· next&gt;&gt;   next&gt;&gt;<br><img src="/images/install_cacti_on_linux_2.png" alt=""><br><img src="/images/install_cacti_on_linux_3.png" alt=""></p></li></ul><p>å‚è€ƒåœ°å€ï¼š<a href="https://www.cnblogs.com/liuyansheng/p/6118535.html">https://www.cnblogs.com/liuyansheng/p/6118535.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cacti </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹æ“ä½œMySQL</title>
      <link href="/posts/use-mysql-on-linux.html"/>
      <url>/posts/use-mysql-on-linux.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-ç™»å½•MySQLæ•°æ®åº“"><a href="#1-ç™»å½•MySQLæ•°æ®åº“" class="headerlink" title="1. ç™»å½•MySQLæ•°æ®åº“"></a>1. ç™»å½•MySQLæ•°æ®åº“</h3><p><code>mysql -uroot -p</code><br><img src="/images/use_mysql_on_linux_1.png" alt=""></p><h3 id="2-é€€å‡ºMySQL"><a href="#2-é€€å‡ºMySQL" class="headerlink" title="2. é€€å‡ºMySQL"></a>2. é€€å‡ºMySQL</h3><p><code>quitæˆ–è€…exit</code><br><img src="/images/use_mysql_on_linux_2.png" alt=""></p><h3 id="3-æŸ¥çœ‹MySQLç‰ˆæœ¬-å››ç§æ–¹æ³•"><a href="#3-æŸ¥çœ‹MySQLç‰ˆæœ¬-å››ç§æ–¹æ³•" class="headerlink" title="3. æŸ¥çœ‹MySQLç‰ˆæœ¬(å››ç§æ–¹æ³•)"></a>3. æŸ¥çœ‹MySQLç‰ˆæœ¬(å››ç§æ–¹æ³•)</h3><ul><li><p>åœ¨ç»ˆç«¯ä¸‹æ‰§è¡Œï¼š <code>mysql -V</code><br><img src="/images/show_mysql_version_on_linux_1.png" alt=""></p></li><li><p>åœ¨helpä¸­æŸ¥æ‰¾ <code>mysql --help | grep Distrib</code><br><img src="/images/show_mysql_version_on_linux_2.png" alt=""></p></li><li><p>åœ¨mysql é‡ŒæŸ¥çœ‹ <code>select version()</code><br><img src="/images/show_mysql_version_on_linux_3.png" alt=""></p></li><li><p>åœ¨mysql é‡ŒæŸ¥çœ‹ <code>status</code><br><img src="/images/show_mysql_version_on_linux_4.png" alt=""></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSç‚¹å‡»å¤åˆ¶æŒ‡å®šå†…å®¹</title>
      <link href="/posts/js-copy-object.html"/>
      <url>/posts/js-copy-object.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç‚¹å‡»æŒ‰é’®ï¼Œå¤åˆ¶æŒ‡å®šæ–‡æœ¬æ¡†å†…å®¹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">copy</span>(<span class="params"></span>){</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> str = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">"my-data"</span>);</span></span><br><span class="line"><span class="language-javascript">    str.<span class="title function_">select</span>(); <span class="comment">// é€‰æ‹©å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">"Copy"</span>); <span class="comment">// æ‰§è¡Œæµè§ˆå™¨å¤åˆ¶å‘½ä»¤</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">"å¤åˆ¶æˆåŠŸï¼"</span>);</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">cols</span>=<span class="string">"20"</span> <span class="attr">rows</span>=<span class="string">"10"</span> <span class="attr">id</span>=<span class="string">"my-data"</span>&gt;</span>æˆ‘çš„æµ‹è¯•å†…å®¹<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onClick</span>=<span class="string">"copy();"</span> <span class="attr">value</span>=<span class="string">"å¤åˆ¶"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­rzçš„ä½¿ç”¨</title>
      <link href="/posts/rz-on-linux.html"/>
      <url>/posts/rz-on-linux.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æˆ‘ä»¬å¸¸å¸¸éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨(windowså’Œlinux)ä¹‹é—´äº’ä¼ æ–‡ä»¶ï¼Œè¿™å°±å¯ä»¥ä½¿ç”¨rz(sz)å‘½ä»¤ã€‚</p><ol><li><p>å¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒrzå‘½ä»¤ï¼Œéœ€å®‰è£…ï¼š</p> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install lrzsz</span><br></pre></td></tr></tbody></table></figure></li><li><p>ä»å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶(å¯å¤šé€‰)åˆ°æœåŠ¡å™¨ï¼š</p> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rz</span><br><span class="line">sudo rz -be</span><br></pre></td></tr></tbody></table></figure></li><li><p>ä»æœåŠ¡ç«¯å‘é€æ–‡ä»¶åˆ°å®¢æˆ·ç«¯ï¼š</p> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sz filename</span><br></pre></td></tr></tbody></table></figure></li><li><p>å¸è½½rzï¼š</p> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove lrzsz</span><br></pre></td></tr></tbody></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> rz/sz </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLå¸¸è§æŠ¥é”™é—®é¢˜</title>
      <link href="/posts/mysql-errors.html"/>
      <url>/posts/mysql-errors.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li><p>[Err] 1066 - Not unique table/alias: â€˜sâ€™</p><p>åŸå› ï¼šSQLè¯­å¥ä¸­å­˜åœ¨å¤šä¸ªè¡¨çš„åˆ«åä¸ºâ€™sâ€™</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPè¿ç»´ç¬”è®°</title>
      <link href="/posts/php-operate-note.html"/>
      <url>/posts/php-operate-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-å¸¸è§å‘½ä»¤"><a href="#1-å¸¸è§å‘½ä»¤" class="headerlink" title="1. å¸¸è§å‘½ä»¤"></a>1. å¸¸è§å‘½ä»¤</h3><pre><code>æŸ¥çœ‹PHPæ‰©å±•ï¼š`php -m`æŸ¥çœ‹æ‰©å±•çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š`php -ri æ‰©å±•å`  å¦‚ï¼š`php -ri redis`</code></pre>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿ç»´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdownç¬”è®°</title>
      <link href="/posts/markdown-note.html"/>
      <url>/posts/markdown-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>è§£å†³æœ‰åºåˆ—è¡¨æ’åºå¤±è´¥çš„é—®é¢˜ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">1</span> </span><br><span class="line"><span class="selector-attr">[Tab]</span>-<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">1</span>-<span class="number">1</span> </span><br><span class="line"><span class="selector-attr">[Tab]</span>-<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">1</span>-<span class="number">2</span> </span><br><span class="line"><span class="number">2</span>.<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">2</span> </span><br><span class="line"><span class="selector-attr">[Tab]</span>-<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">2</span>-<span class="number">1</span> </span><br><span class="line"><span class="selector-attr">[Tab]</span><span class="selector-attr">[Tab]</span>-<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">2</span>-<span class="number">1</span>-<span class="number">1</span> </span><br><span class="line"><span class="selector-attr">[Tab]</span><span class="selector-attr">[Tab]</span>-<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">2</span>-<span class="number">1</span>-<span class="number">2</span> </span><br><span class="line"><span class="selector-attr">[Tab]</span>-<span class="selector-attr">[ç©ºæ ¼]</span>æµ‹è¯•æ–‡å­—<span class="number">2</span>-<span class="number">2</span></span><br></pre></td></tr></tbody></table></figure> ä»£ç æ®µä½¿ç”¨Tabé€€æ ¼</li></ol>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Prologç¬”è®°</title>
      <link href="/posts/prolog-notes.html"/>
      <url>/posts/prolog-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-åŠ è½½è„šæœ¬"><a href="#1-åŠ è½½è„šæœ¬" class="headerlink" title="1. åŠ è½½è„šæœ¬"></a>1. åŠ è½½è„šæœ¬</h2><p><code>?- ['E:/SWI-Prolog/test/friend.pl'].       %true</code></p><h2 id="2-æ•™ç¨‹"><a href="#2-æ•™ç¨‹" class="headerlink" title="2. æ•™ç¨‹"></a>2. æ•™ç¨‹</h2><p><a href="https://riptutorial.com/zh-CN/prolog">https://riptutorial.com/zh-CN/prolog</a></p><h2 id="3-ç®€å•çš„è®¡ç®—æ±‚è§£ï¼š"><a href="#3-ç®€å•çš„è®¡ç®—æ±‚è§£ï¼š" class="headerlink" title="3. ç®€å•çš„è®¡ç®—æ±‚è§£ï¼š"></a>3. ç®€å•çš„è®¡ç®—æ±‚è§£ï¼š</h2><p><code>?- X is 3*7.       %X = 21</code></p><h2 id="4-CLPï¼ˆçº¦æŸé€»è¾‘ç¼–ç¨‹ï¼‰åº“çš„ä½¿ç”¨"><a href="#4-CLPï¼ˆçº¦æŸé€»è¾‘ç¼–ç¨‹ï¼‰åº“çš„ä½¿ç”¨" class="headerlink" title="4. CLPï¼ˆçº¦æŸé€»è¾‘ç¼–ç¨‹ï¼‰åº“çš„ä½¿ç”¨"></a>4. CLPï¼ˆçº¦æŸé€»è¾‘ç¼–ç¨‹ï¼‰åº“çš„ä½¿ç”¨</h2><p>æ±‚è§£æ–¹ç¨‹ï¼ŒCLPåªèƒ½å¤„ç†æ•´æ•°è¿ç®—<br>    </p><figure class="highlight ruby"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">?-</span> use_module(library(clpfd)).</span><br><span class="line"><span class="string">?-</span> Y <span class="comment">#= 3+4.                    %Y = 7.</span></span><br><span class="line"><span class="string">?-</span> <span class="number">5</span> <span class="comment">#= 4+W.                    %W = 1.</span></span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="5-å•è¡Œæ³¨é‡Š"><a href="#5-å•è¡Œæ³¨é‡Š" class="headerlink" title="5. å•è¡Œæ³¨é‡Š"></a>5. å•è¡Œæ³¨é‡Š</h2><p>ä½¿ç”¨â€%â€</p><h2 id="6-çŸ¥è¯†åº“"><a href="#6-çŸ¥è¯†åº“" class="headerlink" title="6. çŸ¥è¯†åº“"></a>6. çŸ¥è¯†åº“</h2><p>äº‹å® + è§„åˆ™ = çŸ¥è¯†åº“ã€‚<br>äº‹å®æ˜¯æˆ‘ä»¬å¯¹è¿™ä¸ªä¸–ç•Œç›´æ¥è§‚å¯Ÿçš„ç»“æœã€‚è§„åˆ™æ˜¯å…³äºç°å®ä¸–ç•Œçš„é€»è¾‘æ¨è®ºã€‚</p><h2 id="7-åˆä¸€ï¼ˆunificationï¼‰"><a href="#7-åˆä¸€ï¼ˆunificationï¼‰" class="headerlink" title="7. åˆä¸€ï¼ˆunificationï¼‰"></a>7. åˆä¸€ï¼ˆunificationï¼‰</h2><p>æ‰¾å‡ºé‚£äº›ä½¿è§„åˆ™åŒ¹é…çš„å€¼ã€‚<br>åˆä¸€æœ‰æ—¶å€™ä¸æ˜¯å”¯ä¸€çš„ï¼Œå¯ä»¥é€šè¿‡â€œ;â€æ¥è¿›è¡Œè¿½é—®ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¸æ»¡è¶³äºä¸€ä¸ªç­”æ¡ˆã€‚</p><h2 id="8-åˆ—è¡¨-å…ƒç»„"><a href="#8-åˆ—è¡¨-å…ƒç»„" class="headerlink" title="8. åˆ—è¡¨/å…ƒç»„"></a>8. åˆ—è¡¨/å…ƒç»„</h2><p>ç¨‹åº = ç®—æ³• + æ•°æ®ç»“æ„ã€‚      åˆ—è¡¨æ˜¯å˜é•¿çš„å®¹å™¨ï¼Œå…ƒç»„æ˜¯å®šé•¿çš„å®¹å™¨ã€‚<br>    </p><figure class="highlight gcode"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?- <span class="comment">(1,2,3)</span> = <span class="comment">(1,2,3)</span>.               <span class="meta">%</span>å…ƒç»„</span><br><span class="line">yes</span><br><span class="line"></span><br><span class="line">?- [A,B,C] = [A,B,C].               <span class="meta">%</span>åˆ—è¡¨</span><br><span class="line">yes</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="9-å†…ç½®è°“è¯"><a href="#9-å†…ç½®è°“è¯" class="headerlink" title="9. å†…ç½®è°“è¯"></a>9. å†…ç½®è°“è¯</h2><h3 id="length"><a href="#length" class="headerlink" title="length"></a>length</h3><p>è·å–åˆ—è¡¨çš„é•¿åº¦   <code>?- length([1,2,3],L).      %L = 3.</code></p><h3 id="append"><a href="#append" class="headerlink" title="append"></a>append</h3><p>å¯ä»¥ç”¨æ¥åˆå¹¶ä¸¤ä¸ªåˆ—è¡¨<br>    </p><figure class="highlight inform7"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?- append(<span class="comment">[1]</span>,<span class="comment">[2]</span>,What).      %What = <span class="comment">[1, 2]</span>.</span><br><span class="line">?- append(<span class="comment">[1]</span>,W,<span class="comment">[1,2,3]</span>).      %W = <span class="comment">[2, 3]</span>.</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="member"><a href="#member" class="headerlink" title="member"></a>member</h3><p>æ£€æŸ¥æŸä¸€ä¸ªå€¼æ˜¯å¦åœ¨ä¸€ä¸ªåˆ—è¡¨å†…<br>    </p><figure class="highlight ruby"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">?-</span> member(<span class="number">1</span>,[<span class="number">1</span>,<span class="number">2</span>]).      %<span class="literal">true</span>.</span><br><span class="line"><span class="string">?-</span>  member(<span class="number">3</span>,[<span class="number">1</span>,<span class="number">2</span>]).      %<span class="literal">false</span>.</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> Prolog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Prolog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPExcelç¬”è®°</title>
      <link href="/posts/php-excel.html"/>
      <url>/posts/php-excel.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-è®¾ç½®å­—ä½“å’Œæ ·å¼"><a href="#1-è®¾ç½®å­—ä½“å’Œæ ·å¼" class="headerlink" title="1. è®¾ç½®å­—ä½“å’Œæ ·å¼"></a>1. è®¾ç½®å­—ä½“å’Œæ ·å¼</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$objPHPExcel</span>-&gt;getActiveSheet()-&gt;getStyle(<span class="string">'A1'</span>)-&gt;applyFromArray([<span class="string">'font'</span>=&gt;[<span class="string">'bold'</span>=&gt;<span class="literal">true</span>]]);//è®¾ç½®å•å…ƒæ ¼A1å­—ä½“åŠ ç²—</span><br><span class="line"><span class="variable">$objPHPExcel</span>-&gt;getActiveSheet()-&gt;getStyle(<span class="string">'A1:GL1'</span>)-&gt;applyFromArray([<span class="string">'font'</span>=&gt;[<span class="string">'bold'</span>=&gt;<span class="literal">true</span>]]);//è®¾ç½®å•å…ƒæ ¼A1-GL1å­—ä½“åŠ ç²—</span><br><span class="line"><span class="variable">$objPHPExcel</span>-&gt;getActiveSheet()-&gt;getStyle(<span class="string">'A1:B3'</span>)-&gt;getFont()-&gt;setBold(<span class="literal">true</span>);//è®¾ç½®A1-B3ä¹‹é—´çš„å•å…ƒæ ¼å­—ä½“åŠ ç²—</span><br></pre></td></tr></tbody></table></figure><h3 id="2-è®¾ç½®è¡Œé«˜"><a href="#2-è®¾ç½®è¡Œé«˜" class="headerlink" title="2. è®¾ç½®è¡Œé«˜"></a>2. è®¾ç½®è¡Œé«˜</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$objPHPExcel</span>-&gt;getActiveSheet()-&gt;getDefaultRowDimension()-&gt;setRowHeight(20);//è®¾ç½®é»˜è®¤è¡Œé«˜</span><br><span class="line"><span class="variable">$objPHPExcel</span>-&gt;getActiveSheet()-&gt;getRowDimension(<span class="string">'1'</span>)-&gt;setRowHeight(30);//è®¾ç½®ç¬¬ä¸€è¡Œè¡Œé«˜</span><br></pre></td></tr></tbody></table></figure><h3 id="3-è®¾ç½®åˆ—å®½"><a href="#3-è®¾ç½®åˆ—å®½" class="headerlink" title="3. è®¾ç½®åˆ—å®½"></a>3. è®¾ç½®åˆ—å®½</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$objPHPExcel</span>-&gt;getActiveSheet()-&gt;getColumnDimension(<span class="string">'A'</span>)-&gt;setWidth(20);//è®¾ç½®Aåˆ—åˆ—å®½</span><br></pre></td></tr></tbody></table></figure><h3 id="4-å•å…ƒæ ¼å†…å®¹ç‰¹å®šä½ç½®æ¢è¡Œ"><a href="#4-å•å…ƒæ ¼å†…å®¹ç‰¹å®šä½ç½®æ¢è¡Œ" class="headerlink" title="4. å•å…ƒæ ¼å†…å®¹ç‰¹å®šä½ç½®æ¢è¡Œ"></a>4. å•å…ƒæ ¼å†…å®¹ç‰¹å®šä½ç½®æ¢è¡Œ</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$objPHPExcel</span>-&gt;setActiveSheetIndex(0)-&gt;setCellValue(<span class="string">'A3'</span>, <span class="string">"ç¬¬ä¸‰èŠ‚\n11:00-12:00"</span>);   //æ³¨æ„åŒå¼•å·</span><br><span class="line"><span class="variable">$objPHPExcel</span>-&gt;getActiveSheet()-&gt;getStyle(<span class="string">'A3'</span>)-&gt;getAlignment()-&gt;setWrapText(<span class="literal">true</span>);</span><br></pre></td></tr></tbody></table></figure><h3 id="5-PhpSpreadsheetæ—¥æœŸæ ¼å¼é—®é¢˜"><a href="#5-PhpSpreadsheetæ—¥æœŸæ ¼å¼é—®é¢˜" class="headerlink" title="5. PhpSpreadsheetæ—¥æœŸæ ¼å¼é—®é¢˜"></a>5. PhpSpreadsheetæ—¥æœŸæ ¼å¼é—®é¢˜</h3><p>ä½¿ç”¨PhpSpreadsheet  è¿›è¡Œå¯¼å…¥å¤„ç†æ—¶ï¼Œå¦‚æœå•å…ƒæ ¼æ ¼å¼ä¸ºï¼šè‡ªå®šä¹‰çš„<code>yyyy/m/d</code>ï¼Œå¯¼å…¥åçš„æ•°æ®æ ¼å¼ä¼šå˜ä¸º<code>m/d/yyyy</code>ï¼Œå³12/13/2021<br><img src="/images/php_excel_note_1.png" alt=""><br>è¿™æ˜¯å› ä¸ºPhpSpreadsheetä¼šæŠŠå•å…ƒæ ¼è½¬ä¸ºæ•°å­—ï¼Œè€Œæ ¡éªŒå‡ºçš„å•å…ƒæ ¼æ ¼å¼ä¸º<code>m/d/yyyy</code>ã€‚<br>è§£å†³åŠæ³•ï¼šä½¿ç”¨æ—¥æœŸæ ¼å¼çš„<code>yyyy/m/d</code><br><img src="/images/php_excel_note_2.png" alt=""><br>ç¨‹åºæ ¡éªŒå‡ºçš„æ—¥æœŸæ ¼å¼ä¸ºï¼š<code>yyyy/m/d;@</code><br>excelå¯¼å…¥ï¼Œè·å–æ•°æ®ï¼š<br></p><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$allobjWorksheets</span> = <span class="variable">$objPHPExcel</span>-&gt;<span class="title function_ invoke__">getAllSheets</span>();</span><br><span class="line"><span class="variable">$result</span> = [];</span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$allobjWorksheets</span> <span class="keyword">as</span> <span class="variable">$objWorksheet</span>) {</span><br><span class="line">    <span class="variable">$sheetname</span> = <span class="variable">$objWorksheet</span>-&gt;<span class="title function_ invoke__">getTitle</span>();</span><br><span class="line">    <span class="variable">$highestRow</span> = <span class="variable">$objWorksheet</span>-&gt;<span class="title function_ invoke__">getHighestRow</span>();</span><br><span class="line">    <span class="variable">$highestColumn</span> = <span class="variable">$objWorksheet</span>-&gt;<span class="title function_ invoke__">getHighestColumn</span>();</span><br><span class="line">    <span class="variable">$highestColumnIndex</span> = <span class="title class_">Coordinate</span>::<span class="title function_ invoke__">columnIndexFromString</span>(<span class="variable">$highestColumn</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$row</span> = <span class="number">1</span>; <span class="variable">$row</span> &lt;= <span class="variable">$highestRow</span>; ++<span class="variable">$row</span>) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$col</span> = <span class="number">0</span>; <span class="variable">$col</span> &lt;= <span class="variable">$highestColumnIndex</span>; ++<span class="variable">$col</span>) {</span><br><span class="line">            <span class="variable">$cell</span> = <span class="variable">$objWorksheet</span>-&gt;<span class="title function_ invoke__">getCellByColumnAndRow</span>(<span class="variable">$col</span>, <span class="variable">$row</span>);</span><br><span class="line">            <span class="variable">$value</span> = <span class="variable">$cell</span>-&gt;<span class="title function_ invoke__">getValue</span>();</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$cell</span>-&gt;<span class="title function_ invoke__">getDataType</span>() == <span class="title class_">DataType</span>::<span class="variable constant_">TYPE_NUMERIC</span>) {</span><br><span class="line">                <span class="variable">$formatcode</span> = <span class="variable">$cell</span>-&gt;<span class="title function_ invoke__">getStyle</span>()-&gt;<span class="title function_ invoke__">getNumberFormat</span>()-&gt;<span class="title function_ invoke__">getFormatCode</span>();</span><br><span class="line">                <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">'/^(\[\$[A-Z]*-[0-9A-F]*\])*[hmsdy]/i'</span>, <span class="variable">$formatcode</span>)) {</span><br><span class="line">                    <span class="variable">$value</span> = <span class="variable">$cell</span>-&gt;<span class="title function_ invoke__">getFormattedValue</span>();</span><br><span class="line">                    <span class="comment">//$value=gmdate("Y-m-d", PHPExcel_Shared_Date::ExcelToPHP($value));</span></span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    <span class="variable">$value</span> = <span class="title class_">NumberFormat</span>::<span class="title function_ invoke__">toFormattedString</span>(<span class="variable">$value</span>, <span class="variable">$formatcode</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="variable">$result</span>[<span class="variable">$sheetname</span>][<span class="variable">$row</span> - <span class="number">1</span>][<span class="variable">$col</span>] = <span class="variable">$value</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$result</span>);</span><br><span class="line"><span class="keyword">die</span>;</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPExcel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLè‡ªå®šä¹‰å‡½æ•°</title>
      <link href="/posts/mysql-custom-functions.html"/>
      <url>/posts/mysql-custom-functions.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">æœ‰æ—¶å€™è¦å¯¹MySQLæ•°æ®è¿›è¡Œæ‰¹é‡å¤„ç†ï¼Œä»…ä»…ä¾é å·²æœ‰çš„å†…ç½®å‡½æ•°æ˜¯ä¸å¤Ÿçš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„å‡½æ•°äº†ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„è‡ªå®šä¹‰å‡½æ•°</div><h3 id="1-æ‰¹é‡å¤„ç†å­—ç¬¦ä¸²ï¼Œå°†â€FEEED305904Bâ€è½¬ä¸ºâ€FE-EE-D3-05-90-4Bâ€æ ¼å¼ï¼š"><a href="#1-æ‰¹é‡å¤„ç†å­—ç¬¦ä¸²ï¼Œå°†â€FEEED305904Bâ€è½¬ä¸ºâ€FE-EE-D3-05-90-4Bâ€æ ¼å¼ï¼š" class="headerlink" title="1. æ‰¹é‡å¤„ç†å­—ç¬¦ä¸²ï¼Œå°†â€FEEED305904Bâ€è½¬ä¸ºâ€FE:EE:D3:05:90:4Bâ€æ ¼å¼ï¼š"></a>1. æ‰¹é‡å¤„ç†å­—ç¬¦ä¸²ï¼Œå°†â€FEEED305904Bâ€è½¬ä¸ºâ€FE:EE:D3:05:90:4Bâ€æ ¼å¼ï¼š</h3><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> `SPLIT_STR`; </span><br><span class="line"><span class="keyword">delimiter</span> $$<span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> SPLIT_STR(</span></span><br><span class="line"><span class="language-pgsql">  x <span class="type">VARCHAR</span>(<span class="number">255</span>),</span></span><br><span class="line"><span class="language-pgsql">  delim <span class="type">VARCHAR</span>(<span class="number">12</span>),</span></span><br><span class="line"><span class="language-pgsql">  pos <span class="type">INT</span></span></span><br><span class="line"><span class="language-pgsql">)</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">RETURNS</span> <span class="type">VARCHAR</span>(<span class="number">255</span>)</span></span><br><span class="line"><span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">BEGIN</span></span></span><br><span class="line"><span class="language-pgsql">    <span class="keyword">DECLARE</span> i <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-pgsql">    <span class="keyword">DECLARE</span> s <span class="type">text</span> <span class="keyword">DEFAULT</span> <span class="string">''</span>;</span></span><br><span class="line"><span class="language-pgsql">    myloop: <span class="keyword">LOOP</span></span></span><br><span class="line"><span class="language-pgsql">        <span class="keyword">SET</span> i = i+pos;</span></span><br><span class="line"><span class="language-pgsql">        <span class="keyword">SET</span> s = CONCAT(s,delim,left(x,pos));</span></span><br><span class="line"><span class="language-pgsql">        <span class="keyword">SET</span> x = right(x,length(x)-pos);</span></span><br><span class="line"><span class="language-pgsql">        <span class="keyword">if</span> pos&gt;length(x) <span class="keyword">then</span></span></span><br><span class="line"><span class="language-pgsql">            <span class="keyword">if</span> length(x)&gt;<span class="number">0</span> <span class="keyword">then</span></span></span><br><span class="line"><span class="language-pgsql">                <span class="keyword">SET</span> s = CONCAT(s,delim,x);</span></span><br><span class="line"><span class="language-pgsql">            <span class="keyword">end</span> <span class="keyword">if</span>;</span></span><br><span class="line"><span class="language-pgsql">            leave myloop;</span></span><br><span class="line"><span class="language-pgsql">        <span class="keyword">end</span> <span class="keyword">if</span>;</span></span><br><span class="line"><span class="language-pgsql">    <span class="keyword">END</span> <span class="keyword">LOOP</span> myloop;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">RETURN</span> right(s,length(s)-length(delim));</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">END</span> $$</span></span><br></pre></td></tr></tbody></table></figure><p>è°ƒç”¨ï¼š<code>SELECT SPLIT_STR('FEEED305904B', ':', 2);</code></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPç”Ÿæˆæ•°æ®å­—å…¸</title>
      <link href="/posts/make-dictionary-by-php.html"/>
      <url>/posts/make-dictionary-by-php.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>é€šè¿‡phpä»£ç ç”ŸæˆMySQLæ•°æ®å­—å…¸ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight php-template"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="language-php"><span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-php"> * ç”Ÿæˆmysqlæ•°æ®å­—å…¸</span></span></span><br><span class="line"><span class="comment"><span class="language-php"> */</span></span></span><br><span class="line"><span class="language-php"><span class="title function_ invoke__">header</span>(<span class="string">"Content-type: text/html; charset=utf-8"</span>);</span></span><br><span class="line"><span class="language-php"><span class="comment">//é…ç½®æ•°æ®åº“</span></span></span><br><span class="line"><span class="language-php"><span class="variable">$dbserver</span>   = <span class="string">"127.0.0.1"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$dbusername</span> = <span class="string">"root"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$dbpassword</span> = <span class="string">"root"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$database</span>   = <span class="string">"demodb"</span>;</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php"><span class="comment">//å…¶ä»–é…ç½®</span></span></span><br><span class="line"><span class="language-php"><span class="variable">$mysql_conn</span> = @<span class="title function_ invoke__">mysql_connect</span>(<span class="variable">$dbserver</span>, <span class="variable">$dbusername</span>, <span class="variable">$dbpassword</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"Mysql connect is error."</span>);</span></span><br><span class="line"><span class="language-php"><span class="title function_ invoke__">mysql_select_db</span>(<span class="variable">$database</span>, <span class="variable">$mysql_conn</span>);</span></span><br><span class="line"><span class="language-php"><span class="title function_ invoke__">mysql_query</span>(<span class="string">'SET NAMES utf8'</span>, <span class="variable">$mysql_conn</span>);</span></span><br><span class="line"><span class="language-php"><span class="variable">$table_result</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="string">'show tables'</span>, <span class="variable">$mysql_conn</span>);</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php"><span class="variable">$no_show_table</span> = <span class="keyword">array</span>();    <span class="comment">//ä¸éœ€è¦æ˜¾ç¤ºçš„è¡¨</span></span></span><br><span class="line"><span class="language-php"><span class="variable">$no_show_field</span> = <span class="keyword">array</span>();   <span class="comment">//ä¸éœ€è¦æ˜¾ç¤ºçš„å­—æ®µ</span></span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php"><span class="comment">//å–å¾—æ‰€æœ‰çš„è¡¨å</span></span></span><br><span class="line"><span class="language-php"><span class="keyword">while</span>(<span class="variable">$row</span> = <span class="title function_ invoke__">mysql_fetch_array</span>(<span class="variable">$table_result</span>)){</span></span><br><span class="line"><span class="language-php"><span class="keyword">if</span>(!<span class="title function_ invoke__">in_array</span>(<span class="variable">$row</span>[<span class="number">0</span>],<span class="variable">$no_show_table</span>)){</span></span><br><span class="line"><span class="language-php"><span class="variable">$tables</span>[][<span class="string">'TABLE_NAME'</span>] = <span class="variable">$row</span>[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php"><span class="comment">//æ›¿æ¢æ‰€ä»¥è¡¨çš„è¡¨å‰ç¼€</span></span></span><br><span class="line"><span class="language-php"><span class="keyword">if</span>(!<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">'prefix'</span>])){ </span></span><br><span class="line"><span class="language-php"><span class="variable">$prefix</span> = <span class="string">'wxaj'</span>;</span></span><br><span class="line"><span class="language-php"><span class="keyword">foreach</span>(<span class="variable">$tables</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$val</span>){</span></span><br><span class="line"><span class="language-php"><span class="variable">$tableName</span> = <span class="variable">$val</span>[<span class="string">'TABLE_NAME'</span>];</span></span><br><span class="line"><span class="language-php"><span class="variable">$string</span> = <span class="title function_ invoke__">explode</span>(<span class="string">'_'</span>,<span class="variable">$tableName</span>);</span></span><br><span class="line"><span class="language-php"><span class="keyword">if</span>(<span class="variable">$string</span>[<span class="number">0</span>] != <span class="variable">$prefix</span>){  </span></span><br><span class="line"><span class="language-php"><span class="variable">$string</span>[<span class="number">0</span>] = <span class="variable">$prefix</span>;  </span></span><br><span class="line"><span class="language-php"><span class="variable">$newTableName</span> = <span class="title function_ invoke__">implode</span>(<span class="string">'_'</span>, <span class="variable">$string</span>);  </span></span><br><span class="line"><span class="language-php"><span class="title function_ invoke__">mysql_query</span>(<span class="string">'rename table '</span>.<span class="variable">$tableName</span>.<span class="string">' TO '</span>.<span class="variable">$newTableName</span>);  </span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php"><span class="keyword">echo</span> <span class="string">"æ›¿æ¢æˆåŠŸï¼"</span>;<span class="keyword">exit</span>();</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php"><span class="comment">//å¾ªç¯å–å¾—æ‰€æœ‰è¡¨çš„å¤‡æ³¨åŠè¡¨ä¸­åˆ—æ¶ˆæ¯</span></span></span><br><span class="line"><span class="language-php"><span class="keyword">foreach</span> (<span class="variable">$tables</span> <span class="keyword">as</span> <span class="variable">$k</span>=&gt;<span class="variable">$v</span>) {</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span>  = <span class="string">'SELECT * FROM '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">'INFORMATION_SCHEMA.TABLES '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">'WHERE '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">"table_name = '<span class="subst">{$v['TABLE_NAME']}</span>'  AND table_schema = '<span class="subst">{$database}</span>'"</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$table_result</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="variable">$sql</span>, <span class="variable">$mysql_conn</span>);</span></span><br><span class="line"><span class="language-php">    <span class="keyword">while</span> (<span class="variable">$t</span> = <span class="title function_ invoke__">mysql_fetch_array</span>(<span class="variable">$table_result</span>) ) {</span></span><br><span class="line"><span class="language-php">        <span class="variable">$tables</span>[<span class="variable">$k</span>][<span class="string">'TABLE_COMMENT'</span>] = <span class="variable">$t</span>[<span class="string">'TABLE_COMMENT'</span>];</span></span><br><span class="line"><span class="language-php">    }</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span>  = <span class="string">'SELECT column_name FROM '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">'INFORMATION_SCHEMA.`KEY_COLUMN_USAGE` '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">'WHERE '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">"table_name = '<span class="subst">{$v['TABLE_NAME']}</span>'  AND constraint_name = 'PRIMARY'"</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$pk_result</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="variable">$sql</span>, <span class="variable">$mysql_conn</span>);</span></span><br><span class="line"><span class="language-php">    <span class="variable">$pks</span> = [];</span></span><br><span class="line"><span class="language-php">    <span class="keyword">while</span> (<span class="variable">$t</span> = <span class="title function_ invoke__">mysql_fetch_array</span>(<span class="variable">$pk_result</span>) ) {</span></span><br><span class="line"><span class="language-php">        <span class="variable">$pks</span>[] = <span class="variable">$t</span>[<span class="string">'column_name'</span>];</span></span><br><span class="line"><span class="language-php">    }</span></span><br><span class="line"><span class="language-php">    <span class="variable">$tables</span>[<span class="variable">$k</span>][<span class="string">'PRIMARY_KEY'</span>] = <span class="variable">$pks</span>;</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span>  = <span class="string">'SELECT * FROM '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">'INFORMATION_SCHEMA.COLUMNS '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">'WHERE '</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$sql</span> .= <span class="string">"table_name = '<span class="subst">{$v['TABLE_NAME']}</span>' AND table_schema = '<span class="subst">{$database}</span>'"</span>;</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php">    <span class="variable">$fields</span> = [];</span></span><br><span class="line"><span class="language-php">    <span class="variable">$field_result</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="variable">$sql</span>, <span class="variable">$mysql_conn</span>);</span></span><br><span class="line"><span class="language-php">    <span class="keyword">while</span> (<span class="variable">$t</span> = <span class="title function_ invoke__">mysql_fetch_array</span>(<span class="variable">$field_result</span>) ) {</span></span><br><span class="line"><span class="language-php">        <span class="variable">$fields</span>[] = <span class="variable">$t</span>;</span></span><br><span class="line"><span class="language-php">    }</span></span><br><span class="line"><span class="language-php">    <span class="variable">$tables</span>[<span class="variable">$k</span>][<span class="string">'COLUMN'</span>] = <span class="variable">$fields</span>;</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php"><span class="title function_ invoke__">mysql_close</span>(<span class="variable">$mysql_conn</span>);</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> = <span class="string">''</span>;</span></span><br><span class="line"><span class="language-php"><span class="comment">//å¾ªç¯æ‰€æœ‰è¡¨</span></span></span><br><span class="line"><span class="language-php"><span class="keyword">foreach</span> (<span class="variable">$tables</span> <span class="keyword">as</span> <span class="variable">$k</span>=&gt;<span class="variable">$v</span>) {</span></span><br><span class="line"><span class="language-php">    <span class="variable">$html</span> .= <span class="string">'&lt;h3&gt;'</span> . (<span class="variable">$k</span> + <span class="number">1</span>) . <span class="string">'ã€'</span> . <span class="variable">$v</span>[<span class="string">'TABLE_COMMENT'</span>] .<span class="string">'  ï¼ˆ'</span>. <span class="variable">$v</span>[<span class="string">'TABLE_NAME'</span>]. <span class="string">'ï¼‰&lt;/h3&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$html</span> .= <span class="string">'&lt;table border="1" cellspacing="0" cellpadding="0" width="100%"&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php">    <span class="variable">$html</span> .= <span class="string">'&lt;tbody&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;tr&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;th&gt;å­—æ®µå&lt;/th&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;th&gt;æ•°æ®ç±»å‹&lt;/th&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;th&gt;å…è®¸éç©º&lt;/th&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;th&gt;è‡ªåŠ¨é€’å¢&lt;/th&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;th&gt;æ˜¯å¦ä¸»é”®&lt;/th&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;th&gt;å¤‡æ³¨&lt;/th&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;/tr&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"></span></span><br><span class="line"><span class="language-php">    <span class="keyword">foreach</span> (<span class="variable">$v</span>[<span class="string">'COLUMN'</span>] <span class="keyword">as</span> <span class="variable">$f</span>) {</span></span><br><span class="line"><span class="language-php"><span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$no_show_field</span>[<span class="variable">$v</span>[<span class="string">'TABLE_NAME'</span>]]) || !<span class="title function_ invoke__">is_array</span>(<span class="variable">$no_show_field</span>[<span class="variable">$v</span>[<span class="string">'TABLE_NAME'</span>]])){ </span></span><br><span class="line"><span class="language-php"><span class="variable">$no_show_field</span>[<span class="variable">$v</span>[<span class="string">'TABLE_NAME'</span>]] = <span class="keyword">array</span>();</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php"><span class="keyword">if</span>(!<span class="title function_ invoke__">in_array</span>(<span class="variable">$f</span>[<span class="string">'COLUMN_NAME'</span>],<span class="variable">$no_show_field</span>[<span class="variable">$v</span>[<span class="string">'TABLE_NAME'</span>]])){</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;tr&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;td class="c1"&gt;'</span> . <span class="variable">$f</span>[<span class="string">'COLUMN_NAME'</span>] . <span class="string">'&lt;/td&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;td class="c2"&gt;'</span> . <span class="variable">$f</span>[<span class="string">'COLUMN_TYPE'</span>] . <span class="string">'&lt;/td&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;td class="c3"&gt;'</span> . <span class="variable">$f</span>[<span class="string">'COLUMN_DEFAULT'</span>] . <span class="string">'&lt;/td&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;td class="c4"&gt;'</span> . <span class="variable">$f</span>[<span class="string">'IS_NULLABLE'</span>] . <span class="string">'&lt;/td&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;td class="c5"&gt;'</span> . (<span class="variable">$f</span>[<span class="string">'EXTRA'</span>]==<span class="string">'auto_increment'</span>?<span class="string">'æ˜¯'</span>:<span class="string">'&amp;nbsp;'</span>) . <span class="string">'&lt;/td&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;td class="c6"&gt;'</span> . (<span class="title function_ invoke__">in_array</span>(<span class="variable">$f</span>[<span class="string">'COLUMN_NAME'</span>],<span class="variable">$v</span>[<span class="string">'PRIMARY_KEY'</span>])?<span class="string">'æ˜¯'</span>:<span class="string">'&amp;nbsp;'</span>) . <span class="string">'&lt;/td&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;td class="c7"&gt;'</span> . <span class="variable">$f</span>[<span class="string">'COLUMN_COMMENT'</span>] . <span class="string">'&lt;/td&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;/tr&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php">    }</span></span><br><span class="line"><span class="language-php">    <span class="variable">$html</span> .= <span class="string">'&lt;/tbody&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php"><span class="variable">$html</span> .= <span class="string">'&lt;/table&gt;'</span>.<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="language-php">}</span></span><br><span class="line"><span class="language-php"><span class="meta">?&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>æ•°æ®å­—å…¸<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"generator"</span> <span class="attr">content</span>=<span class="string">"ThinkDb V1.0"</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"Crazy_boy"</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"copyright"</span> <span class="attr">content</span>=<span class="string">"2014-208 zotuo.com"</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">body</span>, <span class="selector-tag">td</span>, <span class="selector-tag">th</span> { <span class="attribute">font-family</span>: <span class="string">"å¾®è½¯é›…é»‘"</span>; <span class="attribute">font-size</span>: <span class="number">14px</span>; }</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.warp</span>{<span class="attribute">margin</span>:auto; <span class="attribute">width</span>:<span class="number">900px</span>;}</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.warp</span> <span class="selector-tag">h3</span>{<span class="attribute">margin</span>:<span class="number">0px</span>; <span class="attribute">padding</span>:<span class="number">0px</span>; <span class="attribute">line-height</span>:<span class="number">30px</span>; <span class="attribute">margin-top</span>:<span class="number">10px</span>;}</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">table</span> { <span class="attribute">border-collapse</span>: collapse; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#CCC</span>; <span class="attribute">background</span>: <span class="number">#efefef</span>; }</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">table</span> <span class="selector-tag">th</span> { <span class="attribute">text-align</span>: left; <span class="attribute">font-weight</span>: bold; <span class="attribute">height</span>: <span class="number">26px</span>; <span class="attribute">line-height</span>: <span class="number">26px</span>; <span class="attribute">font-size</span>: <span class="number">14px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#CCC</span>; <span class="attribute">padding</span>:<span class="number">5px</span>;}</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">table</span> <span class="selector-tag">td</span> { <span class="attribute">height</span>: <span class="number">20px</span>; <span class="attribute">font-size</span>: <span class="number">14px</span>; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#CCC</span>; <span class="attribute">background-color</span>: <span class="number">#fff</span>; <span class="attribute">padding</span>:<span class="number">5px</span>;}</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.c1</span> { <span class="attribute">width</span>: <span class="number">120px</span>; }</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.c2</span> { <span class="attribute">width</span>: <span class="number">120px</span>; }</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.c3</span> { <span class="attribute">width</span>: <span class="number">150px</span>; }</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.c4</span> { <span class="attribute">width</span>: <span class="number">80px</span>; <span class="attribute">text-align</span>:center;}</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.c5</span> { <span class="attribute">width</span>: <span class="number">80px</span>; <span class="attribute">text-align</span>:center;}</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.c6</span> { <span class="attribute">width</span>: <span class="number">80px</span>; <span class="attribute">text-align</span>:center;}</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.c7</span> { <span class="attribute">width</span>: <span class="number">270px</span>; }</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"warp"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">"text-align:center;"</span>&gt;</span>æ•°æ®å­—å…¸<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="language-php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="variable">$html</span>; <span class="meta">?&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></tbody></table></figure><p>å…¶ä¸­$dbserverã€$dbusernameã€$dbpasswordã€$databaseéœ€é…ç½®ä¸ºç›¸åº”çš„æ•°æ®åº“IPåœ°å€ã€ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åã€‚<br>ä»£ç ä¸‹è½½ï¼š<a href="/codes/dictionary.php">dictionary.php</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®å­—å…¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracleç¬”è®°</title>
      <link href="/posts/oracle-note.html"/>
      <url>/posts/oracle-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1-å¼ºåˆ¶å¹¶è¡Œå¤„ç†"><a href="#1-å¼ºåˆ¶å¹¶è¡Œå¤„ç†" class="headerlink" title="1. å¼ºåˆ¶å¹¶è¡Œå¤„ç†"></a>1. å¼ºåˆ¶å¹¶è¡Œå¤„ç†</h4><p><code>/*+ monitor parallel(8)*/</code></p><h3 id="2-plsqlæŸ¥çœ‹sqlæ€§èƒ½"><a href="#2-plsqlæŸ¥çœ‹sqlæ€§èƒ½" class="headerlink" title="2. plsqlæŸ¥çœ‹sqlæ€§èƒ½"></a>2. plsqlæŸ¥çœ‹sqlæ€§èƒ½</h3><p><code>F5</code></p><h3 id="3-åœ¨oracleä¸­æœ‰æ—¶å€™éœ€è¦è¿›è¡ŒMySQLä¸­çš„find-in-setæŸ¥è¯¢ï¼Œæ•…å°è£…äº†å¦‚ä¸‹å‡½æ•°ï¼š"><a href="#3-åœ¨oracleä¸­æœ‰æ—¶å€™éœ€è¦è¿›è¡ŒMySQLä¸­çš„find-in-setæŸ¥è¯¢ï¼Œæ•…å°è£…äº†å¦‚ä¸‹å‡½æ•°ï¼š" class="headerlink" title="3. åœ¨oracleä¸­æœ‰æ—¶å€™éœ€è¦è¿›è¡ŒMySQLä¸­çš„find_in_setæŸ¥è¯¢ï¼Œæ•…å°è£…äº†å¦‚ä¸‹å‡½æ•°ï¼š"></a>3. åœ¨oracleä¸­æœ‰æ—¶å€™éœ€è¦è¿›è¡ŒMySQLä¸­çš„find_in_setæŸ¥è¯¢ï¼Œæ•…å°è£…äº†å¦‚ä¸‹å‡½æ•°ï¼š</h3><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR REPLACE</span> <span class="keyword">FUNCTION</span> FIND_IN_SET(piv_str1 varchar2, piv_str2 varchar2, p_sep varchar2 := <span class="string">','</span>)</span><br><span class="line"><span class="keyword">RETURN</span> NUMBER <span class="keyword">IS</span></span><br><span class="line">  l_idx    number:=<span class="number">0</span>; <span class="comment">-- ç”¨äºè®¡ç®—piv_str2ä¸­åˆ†éš”ç¬¦çš„ä½ç½®</span></span><br><span class="line">  str      varchar2(<span class="number">500</span>);  <span class="comment">-- æ ¹æ®åˆ†éš”ç¬¦æˆªå–çš„å­å­—ç¬¦ä¸²</span></span><br><span class="line">  piv_str  varchar2(<span class="number">500</span>) := piv_str2; <span class="comment">-- å°†piv_str2èµ‹å€¼ç»™piv_str</span></span><br><span class="line">  res      number:=<span class="number">0</span>; <span class="comment">-- è¿”å›ç»“æœ</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="comment">-- å¦‚æœpiv_strä¸­æ²¡æœ‰åˆ†å‰²ç¬¦ï¼Œç›´æ¥åˆ¤æ–­piv_str1å’Œpiv_stræ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰ res=1</span></span><br><span class="line"><span class="keyword">IF</span> instr(piv_str, p_sep, <span class="number">1</span>) = <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">   <span class="keyword">IF</span> piv_str = piv_str1 <span class="keyword">THEN</span></span><br><span class="line">      res:= <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">END</span> <span class="keyword">IF</span>;</span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line"><span class="comment">-- å¾ªç¯æŒ‰åˆ†éš”ç¬¦æˆªå–piv_str</span></span><br><span class="line"><span class="keyword">LOOP</span></span><br><span class="line">    l_idx := instr(piv_str,p_sep);</span><br><span class="line"><span class="comment">-- å½“piv_strä¸­è¿˜æœ‰åˆ†éš”ç¬¦æ—¶</span></span><br><span class="line">      <span class="keyword">IF</span> l_idx &gt; <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">   <span class="comment">-- æˆªå–ç¬¬ä¸€ä¸ªåˆ†éš”ç¬¦å‰çš„å­—æ®µstr</span></span><br><span class="line">         str:= substr(piv_str,<span class="number">1</span>,l_idx<span class="number">-1</span>);</span><br><span class="line">   <span class="comment">-- åˆ¤æ–­ str å’Œpiv_str1 æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰ res=1 å¹¶ç»“æŸå¾ªç¯åˆ¤æ–­</span></span><br><span class="line">         <span class="keyword">IF</span> str = piv_str1 <span class="keyword">THEN</span></span><br><span class="line">           res:= <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">EXIT</span>;</span><br><span class="line">         <span class="keyword">END</span> <span class="keyword">IF</span>;</span><br><span class="line">        piv_str := substr(piv_str,l_idx+length(p_sep));</span><br><span class="line">      <span class="keyword">ELSE</span></span><br><span class="line">   <span class="comment">-- å½“æˆªå–åçš„piv_str ä¸­ä¸å­˜åœ¨åˆ†å‰²ç¬¦æ—¶ï¼Œåˆ¤æ–­piv_strå’Œpiv_str1æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰ res=1</span></span><br><span class="line">        <span class="keyword">IF</span> piv_str = piv_str1 <span class="keyword">THEN</span></span><br><span class="line">           res:= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">END</span> <span class="keyword">IF</span>;</span><br><span class="line">        <span class="comment">-- æ— è®ºæœ€åæ˜¯å¦ç›¸ç­‰ï¼Œéƒ½è·³å‡ºå¾ªç¯</span></span><br><span class="line">        <span class="keyword">EXIT</span>;</span><br><span class="line">      <span class="keyword">END</span> <span class="keyword">IF</span>;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span>;</span><br><span class="line"><span class="comment">-- ç»“æŸå¾ªç¯</span></span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br><span class="line"><span class="comment">-- è¿”å›res</span></span><br><span class="line"><span class="keyword">RETURN</span> res;</span><br><span class="line"><span class="keyword">END</span> FIND_IN_SET;</span><br></pre></td></tr></tbody></table></figure><h3 id="4-æ—¥æœŸè½¬æ—¶é—´æˆ³å‡½æ•°"><a href="#4-æ—¥æœŸè½¬æ—¶é—´æˆ³å‡½æ•°" class="headerlink" title="4. æ—¥æœŸè½¬æ—¶é—´æˆ³å‡½æ•°"></a>4. æ—¥æœŸè½¬æ—¶é—´æˆ³å‡½æ•°</h3><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or replace</span> <span class="keyword">function</span> oracle_to_unix(in_date <span class="keyword">IN</span> <span class="type">DATE</span>) <span class="keyword">return</span> number <span class="keyword">is</span></span><br><span class="line">    <span class="keyword">begin</span> </span><br><span class="line">        <span class="keyword">return</span>( (in_date -TO_DATE(<span class="string">'19700101'</span>,<span class="string">'yyyymmdd'</span>))*<span class="number">86400</span> - TO_NUMBER(SUBSTR(TZ_OFFSET(sessiontimezone),<span class="number">1</span>,<span class="number">3</span>))*<span class="number">3600</span>);</span><br><span class="line">    <span class="keyword">end</span> oracle_to_unix;</span><br></pre></td></tr></tbody></table></figure><h3 id="5-æ—¶é—´æˆ³è½¬æ—¥æœŸå‡½æ•°"><a href="#5-æ—¶é—´æˆ³è½¬æ—¥æœŸå‡½æ•°" class="headerlink" title="5. æ—¶é—´æˆ³è½¬æ—¥æœŸå‡½æ•°"></a>5. æ—¶é—´æˆ³è½¬æ—¥æœŸå‡½æ•°</h3><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or replace</span> <span class="keyword">function</span> unix_to_oracle(in_number NUMBER) <span class="keyword">return</span> <span class="type">date</span> <span class="keyword">is</span></span><br><span class="line">    <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">return</span>(TO_DATE(<span class="string">'19700101'</span>,<span class="string">'yyyymmdd'</span>) + in_number/<span class="number">86400</span> +TO_NUMBER(SUBSTR(TZ_OFFSET(sessiontimezone),<span class="number">1</span>,<span class="number">3</span>))/<span class="number">24</span>);</span><br><span class="line">    <span class="keyword">end</span> unix_to_oracle;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿ƒè·³åŒ…æœºåˆ¶</title>
      <link href="/posts/heartbeat.html"/>
      <url>/posts/heartbeat.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>å¿ƒè·³åŒ…æœºåˆ¶ï¼šä¸»è¦ä¹Ÿå°±æ˜¯ç”¨äºé•¿è¿æ¥çš„ä¿æ´»å’Œæ–­çº¿å¤„ç†ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¿ƒè·³åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptç¬”è®°</title>
      <link href="/posts/javascript-notes.html"/>
      <url>/posts/javascript-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å¦‚æœæƒ³è·å–ajaxé‡Œçš„functionè¿”å›å€¼ï¼Œå¯ç”¨åŒæ­¥ajaxã€‚"><a href="#å¦‚æœæƒ³è·å–ajaxé‡Œçš„functionè¿”å›å€¼ï¼Œå¯ç”¨åŒæ­¥ajaxã€‚" class="headerlink" title="å¦‚æœæƒ³è·å–ajaxé‡Œçš„functionè¿”å›å€¼ï¼Œå¯ç”¨åŒæ­¥ajaxã€‚"></a>å¦‚æœæƒ³è·å–ajaxé‡Œçš„functionè¿”å›å€¼ï¼Œå¯ç”¨åŒæ­¥ajaxã€‚</h3><h3 id="JavaScriptä¸å®šå‚æ•°"><a href="#JavaScriptä¸å®šå‚æ•°" class="headerlink" title="JavaScriptä¸å®šå‚æ•°"></a>JavaScriptä¸å®šå‚æ•°</h3><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>JavaScriptä¸å®šå‚æ•°<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>){</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++ ){</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>[i]);</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"test('one','two','three','four');"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelä½¿ç”¨å°æŠ€å·§</title>
      <link href="/posts/excel-tips.html"/>
      <url>/posts/excel-tips.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li><p>excelå›ºå®šç¬¬ä¸€è¡Œï¼šé€‰æ‹©ç¬¬äºŒè¡Œï¼Œç‚¹å‡»è§†å›¾é‡Œçš„å†»ç»“çª—å£å³å¯ã€‚</p></li><li><p>excelåˆ†åˆ—ï¼š<br> å¦‚å°†æŸä¸€åˆ—çš„æ•°æ®ç”±C4159D5953D8è½¬ä¸ºC4:15:9D:59:53:D8æ ¼å¼ï¼š<br> <code>å…¬å¼ä¸ºï¼š=left(A1,2) &amp; ":" &amp; mid(A1,3,2) &amp; ":" &amp; mid(A1,5,2) &amp; ":" &amp; mid(A1,7,2) &amp; ":" &amp; mid(A1,9,2) &amp; ":" &amp; right(A1,2)</code></p></li><li><p>åˆ é™¤é‡å¤é¡¹ï¼š<br> é€‰ä¸­æ•°æ®åŒºåŸŸ-&gt;æ•°æ®-&gt;åˆ é™¤é‡å¤é¡¹-&gt;ç¡®å®š</p></li><li><p>VLOOKUPå‡½æ•°çš„ä½¿ç”¨</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rè¯­è¨€å­¦ä¹ </title>
      <link href="/posts/r-notes.html"/>
      <url>/posts/r-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¹‹å‰æ–­æ–­ç»­ç»­çœ‹äº†ä¸€äº›Rè¯­è¨€çš„è§†é¢‘ï¼Œä¸€ç›´æ²¡ä»€ä¹ˆæ•ˆæœï¼Œçœ‹æ¥è¿˜å¾—åšç¬”è®°ï¼š</p><ol><li>&lt;- æ˜¯èµ‹å€¼çš„æ„æ€</li><li>å‘é‡æ˜¯ä¸‹æ ‡ä»¥1å¼€å§‹çš„</li><li>åŒºåˆ†å¤§å°å†™</li><li>è·¯å¾„ï¼š<code>C://a.txt</code></li><li>roundï¼šå››èˆäº”å…¥</li></ol>]]></content>
      
      
      <categories>
          
          <category> Rè¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SEOâ€”â€”æƒé‡è½¬ç§»</title>
      <link href="/posts/seo-weight-transfer.html"/>
      <url>/posts/seo-weight-transfer.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong> äº§å“åˆ—è¡¨å­˜åœ¨å¤šé¡µï¼Œæˆ–è€…æ–‡ç« å†…å®¹è¿‡å¤šå­˜åœ¨å¤šé¡µæ—¶ï¼Œä¸ºäº†SEOè€ƒè™‘ï¼Œé¿å…æƒé‡æµå¤±ï¼Œå†…å®¹é‡å¤ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•ä¼˜åŒ–ï¼š</strong><br></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"canonical"</span> <span class="attr">href</span>=<span class="string">"ä¸»é¡µurl"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><br>Google ç­‰æœç´¢å¼•æ“æœ€ç»ˆéƒ½ä¼šåªæ”¶å½• canonical æ ‡ç­¾æŒ‡å®šçš„è¿™ä¸ªç½‘å€ï¼Œæœç´¢å¼•æ“ä¼šå°†å…¶å®ƒé¡µé¢ä½œä¸ºé‡å¤å†…å®¹ï¼Œè¿™äº›é‡å¤çš„å†…å®¹ä¸å†å‚ä¸é¡µé¢çš„æƒé‡åˆ†é…(å¦‚ Google çš„ PR å€¼)ã€‚<p></p><p>å¦‚ï¼š<br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=1">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=1</a><br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=2">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=2</a><br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=3">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=3</a><br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=4">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=4</a><br>â€¦â€¦<br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=45">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=45</a></p><p>å°±å¯ä»¥åœ¨æ¯ä¸ªé¡µé¢çš„headæ ‡ç­¾å†…æ·»åŠ ä»£ç ï¼š</p><link rel="canonical" href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html">]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SEO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€åŸºç¡€</title>
      <link href="/posts/go-note.html"/>
      <url>/posts/go-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è‡ªå­¦Goè¯­è¨€çš„è¿‡ç¨‹æ¼«é•¿è€Œåå·ï¼Œå…ˆè®°å½•ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚</p><h3 id="æ‰§è¡Œgoæ–‡ä»¶"><a href="#æ‰§è¡Œgoæ–‡ä»¶" class="headerlink" title="æ‰§è¡Œgoæ–‡ä»¶"></a>æ‰§è¡Œgoæ–‡ä»¶</h3><p><code>E:\Go_WorkSpace&gt;go run test.go</code></p><h3 id="æŠŠgoç¨‹åºç¼–è¯‘æˆexeæ–‡ä»¶"><a href="#æŠŠgoç¨‹åºç¼–è¯‘æˆexeæ–‡ä»¶" class="headerlink" title="æŠŠgoç¨‹åºç¼–è¯‘æˆexeæ–‡ä»¶"></a>æŠŠgoç¨‹åºç¼–è¯‘æˆexeæ–‡ä»¶</h3><p><code>E:\Go_WorkSpace&gt;go build test.go</code></p><h3 id="æ‰“å°å†…å®¹"><a href="#æ‰“å°å†…å®¹" class="headerlink" title="æ‰“å°å†…å®¹"></a>æ‰“å°å†…å®¹</h3><p><code>fmt.Printf("Hello,World!")</code></p><h3 id="switchè¯­å¥ä¸­ï¼Œå¤šä¸ªcaseå…±ç”¨ä¸€ç»„æ‰§è¡Œè¯­å¥"><a href="#switchè¯­å¥ä¸­ï¼Œå¤šä¸ªcaseå…±ç”¨ä¸€ç»„æ‰§è¡Œè¯­å¥" class="headerlink" title="switchè¯­å¥ä¸­ï¼Œå¤šä¸ªcaseå…±ç”¨ä¸€ç»„æ‰§è¡Œè¯­å¥"></a>switchè¯­å¥ä¸­ï¼Œå¤šä¸ªcaseå…±ç”¨ä¸€ç»„æ‰§è¡Œè¯­å¥</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">switch A{</span><br><span class="line">case a,b,c:</span><br><span class="line">...</span><br><span class="line">case d:</span><br><span class="line">...</span><br><span class="line">default :</span><br><span class="line">...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="GoLandä½¿ç”¨"><a href="#GoLandä½¿ç”¨" class="headerlink" title="GoLandä½¿ç”¨"></a>GoLandä½¿ç”¨</h3><p>æ–°éƒ¨ç½²é¡¹ç›®åï¼Œéœ€é€šè¿‡<code>go mod download</code> ä¸‹è½½ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œå¦‚æœæŠ¥é”™ï¼Œéœ€è®¾ç½®Go Modulesä¸­çš„Proxyä¸ºï¼š<code>https://goproxy.cn</code></p><h3 id="GoLandä½¿ç”¨ä¸‹è½½ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…"><a href="#GoLandä½¿ç”¨ä¸‹è½½ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…" class="headerlink" title="GoLandä½¿ç”¨ä¸‹è½½ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…"></a>GoLandä½¿ç”¨ä¸‹è½½ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…</h3><p>1ã€ IDE-ã€‹setting-ã€‹Go-ã€‹Go Modulesä¸­ï¼Œè®¾ç½®ä»£ç†ï¼š<a href="https://goproxy.cn">https://goproxy.cn</a><br><img src="/images/goland_1.png" alt=""><br>2ã€é¡¹ç›®ä¸­ï¼Œåˆ›å»ºgo.modæ–‡ä»¶ï¼ŒåŒ…å«éœ€è¦å¼•å…¥çš„ä¾èµ–åŒ…ï¼Œ<br>å¦‚ï¼šå¯¼å…¥ ginï¼šrequire github.com/gin-gonic/gin latest<br>åœ¨Terminalä¸Šï¼Œè¿è¡Œgo mod downloadå³å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†ç‰ˆæœ¬å·å›å¡«åˆ°go.modä¸­<br><img src="/images/goland_2.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitBookä½¿ç”¨ç¬”è®°</title>
      <link href="/posts/gitbook-note.html"/>
      <url>/posts/gitbook-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">ä½¿ç”¨GitBookæ¥å†™ä¹¦è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œå¯ä»¥éƒ¨ç½²åœ¨githubä¸Šçš„ï¼Œæ€»çš„æ¥è¯´ï¼Œä¸å¤ªå¤æ‚ã€‚ç°è®°å½•ä¸€äº›å¸¸ç”¨çš„æ“ä½œï¼Œæ–¹ä¾¿å¤§å®¶å‚è€ƒã€‚</div><h5 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h5><ol><li>ç¼–è¯‘æ–‡ä»¶ç”Ÿæˆç½‘é¡µ        <code>gitbook build</code></li><li>å¯åŠ¨æœåŠ¡        <code>gitbook serve</code></li><li>å®‰è£…å¯ä»¥å‚è€ƒè¿™ä¸ªç½‘é¡µ <a href="https://www.jianshu.com/p/421cc442f06c">gitbookå®‰è£…</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitBook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoä½¿ç”¨ç¬”è®°</title>
      <link href="/posts/hexo-notes.html"/>
      <url>/posts/hexo-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">å‰è¨€ï¼šè¿™ä¸ªåšå®¢ç½‘ç«™æ˜¯ä½¿ç”¨hexoæ­å»ºï¼Œéƒ¨ç½²åœ¨githubä¸Šçš„ï¼Œæ€»çš„æ¥è¯´ï¼Œä¸å¤ªå¤æ‚ã€‚ç°è®°å½•ä¸€äº›å¸¸ç”¨çš„æ“ä½œï¼Œæ–¹ä¾¿å¤§å®¶å‚è€ƒã€‚</div><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><ol><li>æ¸…é™¤å½“å‰ç¼“å­˜        <code>$ hexo clean</code></li><li>é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²åˆ°githubä¸Š        <code>$ hexo g -d</code></li><li>å¯åŠ¨æœåŠ¡        <code>$ hexo s</code></li><li>æ–°å»ºé¡µé¢        <code>$ hexo new page categories</code></li><li>å¿«é€Ÿæ„å»º        <code>$ hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code></li></ol><h3 id="å¸¸ç”¨è®¾ç½®"><a href="#å¸¸ç”¨è®¾ç½®" class="headerlink" title="å¸¸ç”¨è®¾ç½®"></a>å¸¸ç”¨è®¾ç½®</h3><h4 id="1-å¦‚ä½•åœ¨é¦–é¡µè®¾ç½®ã€Œé˜…è¯»å…¨æ–‡ã€"><a href="#1-å¦‚ä½•åœ¨é¦–é¡µè®¾ç½®ã€Œé˜…è¯»å…¨æ–‡ã€" class="headerlink" title="1. å¦‚ä½•åœ¨é¦–é¡µè®¾ç½®ã€Œé˜…è¯»å…¨æ–‡ã€?"></a>1. å¦‚ä½•åœ¨é¦–é¡µè®¾ç½®ã€Œé˜…è¯»å…¨æ–‡ã€?</h4><p>   åœ¨é¦–é¡µæ˜¾ç¤ºä¸€ç¯‡æ–‡ç« çš„éƒ¨åˆ†å†…å®¹(æˆ–è€…æ‘˜è¦)ï¼Œå¹¶æä¾›ä¸€ä¸ªé“¾æ¥(ã€Œé˜…è¯»å…¨æ–‡ã€)è·³è½¬åˆ°æ–‡ç« è¯¦æƒ…é¡µã€‚ NexT æä¾›ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p><ol><li>åœ¨æ–‡ç« ä¸­ä½¿ç”¨ <code>&lt;!-- more --&gt;</code> æ‰‹åŠ¨è¿›è¡Œæˆªæ–­ï¼ŒHexo æä¾›çš„æ–¹å¼(<font color="#FF0000">æ¨è</font> )</li><li>åœ¨æ–‡ç« çš„ <a href="https://hexo.io/docs/front-matter.html">front-matter</a> ä¸­æ·»åŠ  descriptionï¼Œå¹¶æä¾›æ–‡ç« æ‘˜å½•</li><li>è‡ªåŠ¨å½¢æˆæ‘˜è¦ï¼Œåœ¨ ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml ä¸­æ·»åŠ ï¼š<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto_excerpt:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  length: 150</span><br></pre></td></tr></tbody></table></figure>é»˜è®¤æˆªå–çš„é•¿åº¦ä¸º 150 å­—ç¬¦ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œè®¾å®šã€‚</li></ol><p>å»ºè®®ä½¿ç”¨ <code>&lt;!-- more --&gt;</code>æ–¹å¼ï¼Œæ—¢å¯ä»¥ç²¾ç¡®æ§åˆ¶éœ€è¦æ˜¾ç¤ºçš„æ‘˜å½•å†…å®¹ï¼Œ è¿˜å¯ä»¥è®© Hexo ä¸­çš„æ’ä»¶æ›´å¥½çš„è¯†åˆ«ã€‚    </p><h3 id="å¸¸ç”¨æ’ä»¶"><a href="#å¸¸ç”¨æ’ä»¶" class="headerlink" title="å¸¸ç”¨æ’ä»¶"></a>å¸¸ç”¨æ’ä»¶</h3><h4 id="1-æ–‡ç« ç”Ÿæˆæ°¸ä¹…çŸ­é“¾æ¥"><a href="#1-æ–‡ç« ç”Ÿæˆæ°¸ä¹…çŸ­é“¾æ¥" class="headerlink" title="1. æ–‡ç« ç”Ÿæˆæ°¸ä¹…çŸ­é“¾æ¥"></a>1. æ–‡ç« ç”Ÿæˆæ°¸ä¹…çŸ­é“¾æ¥</h4><p><code>npm install hexo-abbrlink --save</code><br>åœ¨ç«™ç‚¹é…ç½®é¡¹æ–‡ä»¶_config.ymlä¸‹æ·»åŠ ï¼š<br></p><figure class="highlight oxygene"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">url: https:<span class="comment">//crazy-boy.com</span></span><br><span class="line">root: /</span><br><span class="line">permalink: archives/:abbrlink.html</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  # ç®—æ³•ï¼šcrc16(<span class="keyword">default</span>) <span class="keyword">and</span> crc32</span><br><span class="line">  rep: hex    # è¿›åˆ¶ï¼šdec(<span class="keyword">default</span>) <span class="keyword">and</span> hex</span><br><span class="line">permalink_defaults:</span><br><span class="line">pretty_urls:</span><br><span class="line">  trailing_index: <span class="keyword">true</span> # <span class="keyword">Set</span> <span class="keyword">to</span> <span class="keyword">false</span> <span class="keyword">to</span> <span class="keyword">remove</span> trailing <span class="string">'index.html'</span> <span class="keyword">from</span> permalinks</span><br><span class="line">  trailing_html: <span class="keyword">true</span> # <span class="keyword">Set</span> <span class="keyword">to</span> <span class="keyword">false</span> <span class="keyword">to</span> <span class="keyword">remove</span> trailing <span class="string">'.html'</span> <span class="keyword">from</span> permalinks</span><br></pre></td></tr></tbody></table></figure><br>å½“ç„¶æ–‡ç« çš„çŸ­é“¾éƒ¨åˆ†å¯ä»¥åœ¨æ–‡ç« çš„é¦–éƒ¨è¿›è¡Œè®¾ç½®ï¼Œå¦‚ï¼š<code>abbrlink: 'hexo-notes'</code>ï¼Œå¦‚æœä¸è®¾ç½®å°±ä¼šè‡ªåŠ¨ç”ŸæˆéšæœºçŸ­é“¾ã€‚<p></p><h4 id="2-å¼€å¯æ–‡ç« å­—æ•°ç»Ÿè®¡"><a href="#2-å¼€å¯æ–‡ç« å­—æ•°ç»Ÿè®¡" class="headerlink" title="2. å¼€å¯æ–‡ç« å­—æ•°ç»Ÿè®¡"></a>2. å¼€å¯æ–‡ç« å­—æ•°ç»Ÿè®¡</h4><p><code>npm i --save hexo-wordcount</code></p><h4 id="3-æ–‡ç« è®¾ç½®å¯†ç "><a href="#3-æ–‡ç« è®¾ç½®å¯†ç " class="headerlink" title="3. æ–‡ç« è®¾ç½®å¯†ç "></a>3. æ–‡ç« è®¾ç½®å¯†ç </h4><p><code>npm install --save hexo-blog-encrypt</code><br>å°†â€passwordâ€å­—æ®µæ·»åŠ åˆ°æ–‡ç« çš„ä¿¡æ¯å¤´ï¼š<code>password: abc123</code><br>æ–‡ç« å¯ä»¥æŒ‰æ ‡ç­¾è¿›è¡ŒåŠ å¯†ï¼Œä¼˜å…ˆçº§ä¸ºï¼šæ–‡ç« ä¿¡æ¯å¤´&gt;æŒ‰æ ‡ç­¾åŠ å¯†<br>æ–‡ç« ä¿¡æ¯å¤´çš„è®¾ç½®ç¤ºä¾‹<br><img src="/images/hexo_notes_2.png" alt=""></p><p>_config.ymlç¤ºä¾‹<br></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†,</span> <span class="string">è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">æ‚¨å¥½,</span> <span class="string">è¿™é‡Œéœ€è¦å¯†ç .</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> {<span class="attr">name:</span> <span class="string">tagNameA</span>, <span class="attr">password:</span> <span class="string">å¯†ç A</span>}</span><br><span class="line">  <span class="bullet">-</span> {<span class="attr">name:</span> <span class="string">tagNameB</span>, <span class="attr">password:</span> <span class="string">å¯†ç B</span>}</span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">æŠ±æ­‰,</span> <span class="string">å¯†ç ä¸å¤ªå¯¹å“Ÿ.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">æŠ±æ­‰,</span> <span class="string">è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ,</span> <span class="string">ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.</span></span><br></pre></td></tr></tbody></table></figure><br>å¦‚æœtagNameAä¸­çš„æŸç¯‡åšæ–‡ä¸æƒ³è¢«åŠ å¯†ï¼Œåªéœ€æŠŠåšæ–‡å¤´éƒ¨çš„passwordè®¾ç½®ä¸ºâ€â€å³å¯ã€‚<p></p><h3 id="å¤šå°ç”µè„‘åŒæ­¥æ›´æ–°hexoåšå®¢"><a href="#å¤šå°ç”µè„‘åŒæ­¥æ›´æ–°hexoåšå®¢" class="headerlink" title="å¤šå°ç”µè„‘åŒæ­¥æ›´æ–°hexoåšå®¢"></a>å¤šå°ç”µè„‘åŒæ­¥æ›´æ–°hexoåšå®¢</h3><ul><li>åœ¨githubä¸Šåˆ‡ä¸ªhexoåˆ†æ”¯ï¼ŒæŠŠæºä»£ç pushä¸Šå»ã€‚</li><li>åœ¨éœ€è¦åŒæ­¥æ›´æ–°çš„ç”µè„‘ä¸Šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š<br>  å®‰è£…git<br>  ä¸‹è½½å®‰è£…nodejs<br>  node -v<br>  npm -v<br>  git clone xx.git<br>  åˆ é™¤ä¸»é¢˜ä¸‹.gitç›®å½•<br>  è¿›å…¥ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š  <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br><span class="line">$ npm install hexo<span class="operator">-</span>generator<span class="operator">-</span><span class="keyword">search</span> <span class="comment">--save</span></span><br><span class="line">$ npm i hexo<span class="operator">-</span>permalink<span class="operator">-</span>pinyin <span class="comment">--save</span></span><br><span class="line">$ npm install hexo<span class="operator">-</span><span class="keyword">filter</span><span class="operator">-</span>github<span class="operator">-</span>emojis <span class="comment">--save</span></span><br><span class="line">$ npm install hexo<span class="operator">-</span>generator<span class="operator">-</span>feed <span class="comment">--save</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><h4 id="1-æ‰§è¡Œhexoå‘½ä»¤ï¼Œæç¤ºhexo-command-not-found"><a href="#1-æ‰§è¡Œhexoå‘½ä»¤ï¼Œæç¤ºhexo-command-not-found" class="headerlink" title="1. æ‰§è¡Œhexoå‘½ä»¤ï¼Œæç¤ºhexo: command not found"></a>1. æ‰§è¡Œhexoå‘½ä»¤ï¼Œæç¤º<code>hexo: command not found</code></h4><ul><li>é¦–å…ˆæ£€æŸ¥nodejså’Œnpmæ˜¯å¦æ­£å¸¸ï¼Œä¾æ¬¡è¾“å…¥<code>node -v</code>å’Œ<code>npm -v</code>æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯</li><li>å°†ä¸_config.ymlåŒçº§çš„node_modulesä¸‹çš„.binè·¯å¾„(F:\GitHub\crazy-boy.github.io\node_modules.bin)æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡çš„Pathé‡Œ</li><li>å¦‚æœè¿˜ä¸è¡Œï¼Œå°±é‡è£…hexoï¼š<code>npm install hexo-cli -g</code></li></ul><h4 id="2-hexo-g-dæŠ¥é”™fatal-in-unpopulated-submodule-â€˜-deploy-gitâ€™"><a href="#2-hexo-g-dæŠ¥é”™fatal-in-unpopulated-submodule-â€˜-deploy-gitâ€™" class="headerlink" title="2. hexo g -dæŠ¥é”™fatal: in unpopulated submodule â€˜.deploy_gitâ€™"></a>2. hexo g -dæŠ¥é”™fatal: in unpopulated submodule â€˜.deploy_gitâ€™</h4><ul><li>åˆ é™¤.deploy_gitæ–‡ä»¶å¤¹</li><li>å†æ‰§è¡Œ<code>hexo g -d</code></li></ul><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p><a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">https://blog.csdn.net/sinat_37781304/article/details/82729029</a><br><a href="https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md">https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md</a><br><a href="https://blog.csdn.net/qq_30105599/article/details/118302086">https://blog.csdn.net/qq_30105599/article/details/118302086</a></p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é«˜å¾·åœ°å›¾APIä½¿ç”¨</title>
      <link href="/posts/amap-api.html"/>
      <url>/posts/amap-api.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li><p>é«˜å¾·åœ°å›¾çš„è¦†ç›–ç‰©labelé»˜è®¤æ˜¯è“æ¡†ç™½åº•çš„ï¼ŒclassNameä¸ºamap-marker-labelï¼Œå¯ä»¥é€šè¿‡cssæ¥ä¿®æ”¹æ ·å¼ã€‚å¦‚ï¼š</p> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .amap-marker-label{</span><br><span class="line">        height:40px;</span><br><span class="line">        width:120px;</span><br><span class="line">        background-color: red;</span><br><span class="line">        border: solid 1px black;</span><br><span class="line">    }</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></tbody></table></figure></li><li><p>é«˜å¾·åœ°å›¾ï¼Œæ ¹æ®åœ°å€æœç´¢ç»çº¬åº¦ï¼Œå†æ¬¡æœç´¢æ—¶æ¸…é™¤é®ç›–ç‰©ï¼š</p> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var markers = [];</span><br><span class="line">map.remove(markers);</span><br><span class="line">markers.push(marker);</span><br></pre></td></tr></tbody></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç¬¬ä¸‰æ–¹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é«˜å¾·åœ°å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¶æ„å­¦ä¹ </title>
      <link href="/posts/architecture-notes.html"/>
      <url>/posts/architecture-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>æ¶æ„è®¾è®¡çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶ç³»ç»Ÿå¤æ‚åº¦å¸¦æ¥çš„é—®é¢˜ã€‚</li><li>æ¶æ„çš„å¤æ‚åº¦æ¥æºï¼šé«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€å¯æ‰©å±•æ€§ã€å…¶å®ƒ(ä½æˆæœ¬ã€å®‰å…¨ã€è§„æ¨¡ç­‰)ã€‚</li><li>æ¶æ„è®¾è®¡çš„ä¸‰åŸåˆ™ï¼šåˆé€‚ä¼˜äºä¸šç•Œé¢†å…ˆã€ç®€å•ä¼˜äºå¤æ‚ã€æ¼”åŒ–ä¼˜äºä¸€æ­¥åˆ°ä½ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¯ä»¶æ¶æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerä½¿ç”¨</title>
      <link href="/posts/docker-notes.html"/>
      <url>/posts/docker-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>windows7 å®‰è£…dockerï¼Œéœ€è¦åˆ©ç”¨ docker toolbox æ¥å®‰è£…ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</title>
      <link href="/posts/rich-text-editor.html"/>
      <url>/posts/rich-text-editor.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li>è§£å†³umeditorå¯Œæ–‡æœ¬å†…å®¹å±…ä¸­å¯èƒ½å¤±æ•ˆçš„é—®é¢˜ï¼šæ›´æ”¹umeditor.config.jsçš„xssè¿‡æ»¤ä¸ºfalse    <pre><code> å³ï¼š`,xssFilterRules: false,inputXssFilter: false,outputXssFilter: false`</code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç¬¬ä¸‰æ–¹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLç¬”è®°</title>
      <link href="/posts/mysql-notes.html"/>
      <url>/posts/mysql-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-mysqlæ ¹æ®æ±‰å­—é¦–å­—æ¯æ’åºçš„æ–¹æ³•"><a href="#1-mysqlæ ¹æ®æ±‰å­—é¦–å­—æ¯æ’åºçš„æ–¹æ³•" class="headerlink" title="1. mysqlæ ¹æ®æ±‰å­—é¦–å­—æ¯æ’åºçš„æ–¹æ³•"></a>1. mysqlæ ¹æ®æ±‰å­—é¦–å­—æ¯æ’åºçš„æ–¹æ³•</h3><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- utf8_general_ciç¼–ç </span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tname <span class="keyword">order</span> <span class="keyword">by</span> convert(<span class="type">name</span> <span class="keyword">using</span> gbk);</span><br></pre></td></tr></tbody></table></figure><h3 id="2-åˆ é™¤è¡¨æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœè¡¨ä½¿ç”¨äº†åˆ«å"><a href="#2-åˆ é™¤è¡¨æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœè¡¨ä½¿ç”¨äº†åˆ«å" class="headerlink" title="2. åˆ é™¤è¡¨æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœè¡¨ä½¿ç”¨äº†åˆ«å"></a>2. åˆ é™¤è¡¨æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœè¡¨ä½¿ç”¨äº†åˆ«å</h3><p>åº”è¯¥è¿™æ ·å†™ï¼š<code>DELETE a FROM table a;</code></p><h3 id="3-ä¸ä½¿ç”¨ç¼“å­˜æ‰§è¡ŒæŸä¸ªæŸ¥è¯¢sql"><a href="#3-ä¸ä½¿ç”¨ç¼“å­˜æ‰§è¡ŒæŸä¸ªæŸ¥è¯¢sql" class="headerlink" title="3. ä¸ä½¿ç”¨ç¼“å­˜æ‰§è¡ŒæŸä¸ªæŸ¥è¯¢sql"></a>3. ä¸ä½¿ç”¨ç¼“å­˜æ‰§è¡ŒæŸä¸ªæŸ¥è¯¢sql</h3><p><code>SELECT SQL_NO_CACHE xx, xx from tb;</code></p><h3 id="4-MySqlä¸­Blobä¸Textçš„åŒºåˆ«"><a href="#4-MySqlä¸­Blobä¸Textçš„åŒºåˆ«" class="headerlink" title="4. MySqlä¸­Blobä¸Textçš„åŒºåˆ«"></a>4. MySqlä¸­Blobä¸Textçš„åŒºåˆ«</h3><p>BLOBåˆ—è¢«è§†ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼ŒTEXTåˆ—è¢«è§†ä¸ºéäºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚</p><h3 id="5-MyISAMå’ŒInnoDBçš„åŒºåˆ«"><a href="#5-MyISAMå’ŒInnoDBçš„åŒºåˆ«" class="headerlink" title="5. MyISAMå’ŒInnoDBçš„åŒºåˆ«"></a>5. MyISAMå’ŒInnoDBçš„åŒºåˆ«</h3><p>Innodb æ”¯æŒäº‹åŠ¡å¤„ç†ä¸å¤–é”®å’Œè¡Œçº§é”ï¼›<br>MyISAMç±»å‹çš„è¡¨å¼ºè°ƒçš„æ˜¯æ€§èƒ½ï¼Œå…¶æ‰§è¡Œé€Ÿåº¦æ¯”InnoDBç±»å‹æ›´å¿«ã€‚</p><h3 id="6-æ•°æ®åº“æ¢å¤"><a href="#6-æ•°æ®åº“æ¢å¤" class="headerlink" title="6. æ•°æ®åº“æ¢å¤"></a>6. æ•°æ®åº“æ¢å¤</h3><p>æ˜¯æŒ‡é€šè¿‡æŠ€æœ¯æ‰‹æ®µå°†ä¿å­˜åœ¨æ•°æ®åº“ä¸­ä¸¢å¤±çš„ç”µå­æ•°æ®è¿›è¡ŒæŠ¢æ•‘å’Œæ¢å¤çš„æŠ€æœ¯ã€‚</p><h3 id="7-mysqlåˆ é™¤è‡ªå®šä¹‰å‡½æ•°ï¼š"><a href="#7-mysqlåˆ é™¤è‡ªå®šä¹‰å‡½æ•°ï¼š" class="headerlink" title="7. mysqlåˆ é™¤è‡ªå®šä¹‰å‡½æ•°ï¼š"></a>7. mysqlåˆ é™¤è‡ªå®šä¹‰å‡½æ•°ï¼š</h3><p><code>DROP FUNCTION IF EXISTS `å‡½æ•°å`;</code></p><h3 id="8-æ’å…¥æ•°æ®ï¼š"><a href="#8-æ’å…¥æ•°æ®ï¼š" class="headerlink" title="8. æ’å…¥æ•°æ®ï¼š"></a>8. æ’å…¥æ•°æ®ï¼š</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb (field1,field2,field3â€¦â€¦) <span class="keyword">value</span> (val1,val2,val3â€¦â€¦);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb (field1,field2,field3â€¦â€¦) <span class="keyword">values</span> (val1,val2,val3â€¦â€¦);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb <span class="keyword">set</span> field1<span class="operator">=</span>val1,field2<span class="operator">=</span>val2,field3<span class="operator">=</span>val3;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb (field1,field2,field3â€¦â€¦) <span class="keyword">values</span> (val11,val12,val13â€¦â€¦),(val21,val22,val23â€¦â€¦),(val31,val32,val33â€¦â€¦);</span><br><span class="line"><span class="keyword">insert</span> ignore <span class="keyword">into</span> tb (field1,field2,field3â€¦â€¦) <span class="keyword">values</span> (val1,val2,val3â€¦â€¦);<span class="operator">/</span><span class="operator">/</span>ä½¿ç”¨ignoreå…³é”®å­—å¿½ç•¥é”™è¯¯</span><br></pre></td></tr></tbody></table></figure><h3 id="9-æŸ¥è¯¢æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨çš„è®°å½•æ•°ï¼š"><a href="#9-æŸ¥è¯¢æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨çš„è®°å½•æ•°ï¼š" class="headerlink" title="9. æŸ¥è¯¢æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨çš„è®°å½•æ•°ï¼š"></a>9. æŸ¥è¯¢æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨çš„è®°å½•æ•°ï¼š</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use information_schema;</span><br><span class="line"><span class="keyword">select</span> table_name,table_rows <span class="keyword">from</span> tables <span class="keyword">where</span> TABLE_SCHEMA <span class="operator">=</span> <span class="string">'dataBase'</span> <span class="keyword">order</span> <span class="keyword">by</span> table_rows <span class="keyword">desc</span>;  </span><br></pre></td></tr></tbody></table></figure><h3 id="10-mysqlæŸ¥è¯¢ä¸»é”®å­—æ®µåï¼š"><a href="#10-mysqlæŸ¥è¯¢ä¸»é”®å­—æ®µåï¼š" class="headerlink" title="10. mysqlæŸ¥è¯¢ä¸»é”®å­—æ®µåï¼š"></a>10. mysqlæŸ¥è¯¢ä¸»é”®å­—æ®µåï¼š</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> INFORMATION_SCHEMA.`KEY_COLUMN_USAGE` <span class="keyword">WHERE</span> table_name<span class="operator">=</span><span class="string">'è¡¨å'</span> <span class="keyword">AND</span> constraint_name<span class="operator">=</span><span class="string">'PRIMARY'</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="11-mysqlæŸ¥è¯¢æ‰€æœ‰å­—æ®µåï¼š"><a href="#11-mysqlæŸ¥è¯¢æ‰€æœ‰å­—æ®µåï¼š" class="headerlink" title="11. mysqlæŸ¥è¯¢æ‰€æœ‰å­—æ®µåï¼š"></a>11. mysqlæŸ¥è¯¢æ‰€æœ‰å­—æ®µåï¼š</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> information_schema.columns <span class="keyword">WHERE</span> table_name<span class="operator">=</span><span class="string">'è¡¨å'</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="12ã€nullçš„é—®é¢˜ï¼š"><a href="#12ã€nullçš„é—®é¢˜ï¼š" class="headerlink" title="12ã€nullçš„é—®é¢˜ï¼š"></a>12ã€nullçš„é—®é¢˜ï¼š</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> t_classroom <span class="keyword">set</span> building_name<span class="operator">=</span><span class="keyword">null</span> <span class="keyword">where</span> build_id <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="13ã€è·å–æŒ‡å®šå­—æ®µçš„é»˜è®¤å€¼ï¼š"><a href="#13ã€è·å–æŒ‡å®šå­—æ®µçš„é»˜è®¤å€¼ï¼š" class="headerlink" title="13ã€è·å–æŒ‡å®šå­—æ®µçš„é»˜è®¤å€¼ï¼š"></a>13ã€è·å–æŒ‡å®šå­—æ®µçš„é»˜è®¤å€¼ï¼š</h3><p>DEFAULT(col_name)<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">DEFAULT</span>(sort) <span class="keyword">from</span> t_node_school limit <span class="number">1</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="14ã€mysqlé‡å‘½åè¡¨åï¼š"><a href="#14ã€mysqlé‡å‘½åè¡¨åï¼š" class="headerlink" title="14ã€mysqlé‡å‘½åè¡¨åï¼š"></a>14ã€mysqlé‡å‘½åè¡¨åï¼š</h3><p><code>alter table tb1 rename to tb2;</code><br>æˆ–è€…<br><code>rename tb1 to tb2;</code></p><h3 id="15ã€nullå­—æ®µæ’åºé—®é¢˜ï¼š"><a href="#15ã€nullå­—æ®µæ’åºé—®é¢˜ï¼š" class="headerlink" title="15ã€nullå­—æ®µæ’åºé—®é¢˜ï¼š"></a>15ã€nullå­—æ®µæ’åºé—®é¢˜ï¼š</h3><p>è®¾æ’åºå­—æ®µä¸ºsortï¼Œä½¿ç”¨order by sort descå®ç°é™åºæ—¶ï¼Œsortä¸ºnullçš„æ•°æ®ä¼šæ’åœ¨æœ€åé¢ï¼›<br>ä½†æ˜¯ä½¿ç”¨order by sortå‡åºæ—¶ï¼Œsortä¸ºnullçš„æ•°æ®ä¼šæ’åœ¨æœ€å‰é¢ï¼Œå¦‚æœæƒ³å°†sortä¸ºnullçš„æ•°æ®æ’åœ¨åé¢ï¼Œå°±éœ€è¦åŠ is nullã€‚<br>å¦‚ï¼š<code>select * from t_grade order by sort is null, sort, create_time desc;</code></p><h3 id="16ã€ä¸»é”®è®¾ç½®è§„åˆ™"><a href="#16ã€ä¸»é”®è®¾ç½®è§„åˆ™" class="headerlink" title="16ã€ä¸»é”®è®¾ç½®è§„åˆ™"></a>16ã€ä¸»é”®è®¾ç½®è§„åˆ™</h3><p> ä¸»é”®çš„å€¼ä¸å¯æ›´æ–°ï¼Œæœªæ¥å¯èƒ½ä¼šå˜æ›´çš„å­—æ®µä¸èƒ½è®¾ç½®ä¸ºä¸»é”®ï¼›<br> ä¸»é”®çš„å€¼ä¸å¯ä¸ºç©ºï¼Œä¸”ä¸èƒ½é‡å¤ï¼›</p><h3 id="17ã€æŸ¥çœ‹æŸä¸ªè¡¨çš„æ‰€æœ‰åˆ—ï¼š"><a href="#17ã€æŸ¥çœ‹æŸä¸ªè¡¨çš„æ‰€æœ‰åˆ—ï¼š" class="headerlink" title="17ã€æŸ¥çœ‹æŸä¸ªè¡¨çš„æ‰€æœ‰åˆ—ï¼š"></a>17ã€æŸ¥çœ‹æŸä¸ªè¡¨çš„æ‰€æœ‰åˆ—ï¼š</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> columns <span class="keyword">from</span> tableName;  æˆ–è€…  <span class="keyword">describe</span> tableName; <span class="operator">/</span><span class="operator">/</span>å¯ä»¥ç”¨æ¥ç”Ÿæˆæ•°æ®å­—å…¸</span><br></pre></td></tr></tbody></table></figure><h3 id="18ã€ä¸‹åˆ’çº¿â€-â€é€šé…ç¬¦-åŒ¹é…ä¸€ä¸ªå­—ç¬¦"><a href="#18ã€ä¸‹åˆ’çº¿â€-â€é€šé…ç¬¦-åŒ¹é…ä¸€ä¸ªå­—ç¬¦" class="headerlink" title="18ã€ä¸‹åˆ’çº¿â€_â€é€šé…ç¬¦ åŒ¹é…ä¸€ä¸ªå­—ç¬¦"></a>18ã€ä¸‹åˆ’çº¿â€_â€é€šé…ç¬¦ åŒ¹é…ä¸€ä¸ªå­—ç¬¦</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> field1,field2 <span class="keyword">from</span> tableName <span class="keyword">where</span> field3 <span class="keyword">like</span> "_xx";</span><br></pre></td></tr></tbody></table></figure><h3 id="19ã€æ—¥æœŸè½¬æ˜ŸæœŸ"><a href="#19ã€æ—¥æœŸè½¬æ˜ŸæœŸ" class="headerlink" title="19ã€æ—¥æœŸè½¬æ˜ŸæœŸ"></a>19ã€æ—¥æœŸè½¬æ˜ŸæœŸ</h3> <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> weekday("2021-11-10")<span class="operator">+</span><span class="number">1</span> week;      </span><br><span class="line"><span class="comment">-- 2021å¹´11æœˆ10æ—¥æ˜¯æ˜ŸæœŸä¸‰</span></span><br></pre></td></tr></tbody></table></figure><h3 id="20ã€å•æ¡SQLè¯­å¥å®Œæˆå¤šç§æ•°æ®ç»Ÿè®¡"><a href="#20ã€å•æ¡SQLè¯­å¥å®Œæˆå¤šç§æ•°æ®ç»Ÿè®¡" class="headerlink" title="20ã€å•æ¡SQLè¯­å¥å®Œæˆå¤šç§æ•°æ®ç»Ÿè®¡"></a>20ã€å•æ¡SQLè¯­å¥å®Œæˆå¤šç§æ•°æ®ç»Ÿè®¡</h3> <figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ç°éœ€åˆ†åˆ«ç»Ÿè®¡wl_student_score_logsè¡¨ä¸­exam_idä¸º5çš„change_scoreå¢åŠ é‡å’Œå‡å°‘é‡</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line"><span class="built_in">sum</span>( if( change_score <span class="operator">&gt;</span> <span class="number">0</span>, change_score, <span class="number">0</span>)) <span class="keyword">as</span> increase_score,</span><br><span class="line"><span class="built_in">sum</span>( if( change_score  <span class="operator">&lt;</span> <span class="number">0</span>, change_score, <span class="number">0</span>)) <span class="keyword">as</span> reduce_score</span><br><span class="line"><span class="keyword">from</span> wl_student_score_logs <span class="keyword">where</span> exam_id<span class="operator">=</span><span class="number">5</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="21ã€truncateã€drop-å’Œ-delete-çš„åŒºåˆ«"><a href="#21ã€truncateã€drop-å’Œ-delete-çš„åŒºåˆ«" class="headerlink" title="21ã€truncateã€drop å’Œ delete çš„åŒºåˆ«"></a>21ã€truncateã€drop å’Œ delete çš„åŒºåˆ«</h3><pre><code>1. æ‰§è¡Œé€Ÿåº¦ï¼šdrop &gt; truncate &gt; deteleï¼›2. delete å’Œ truncate åªåˆ é™¤è¡¨æ•°æ®ï¼Œè€Œ drop ä¼šåˆ é™¤è¡¨æ•°æ®å’Œè¡¨ç»“æ„ä»¥åŠè¡¨çš„ç´¢å¼•ã€çº¦æŸå’Œè§¦å‘å™¨ï¼›3. delete å¯ä»¥åŠ  where æ¡ä»¶å®ç°éƒ¨åˆ†æ•°æ®åˆ é™¤ï¼Œè€Œ truncate å’Œ drop ä¸èƒ½åŠ  where æ¡ä»¶æ˜¯æ•´ä½“åˆ é™¤ï¼›4. truncate å’Œ drop æ˜¯ç«‹å³æ‰§è¡Œï¼Œä¸”ä¸èƒ½æ¢å¤ï¼›è€Œ delete ä¼šèµ°äº‹åŠ¡ï¼Œå¯ä»¥æ’¤å›å’Œæ¢å¤ï¼›5. truncate ä¼šé‡ç½®è‡ªå¢åˆ—ä¸º 1ï¼Œè€Œ delete ä¸ä¼šé‡ç½®è‡ªå¢åˆ—ï¼›6. truncate å’Œ drop æ˜¯ DDL è¯­å¥ï¼Œè€Œ delete æ˜¯ DML è¯­å¥ã€‚</code></pre><h3 id="22ã€ä¿®æ”¹è‡ªå¢åˆ—çš„å€¼"><a href="#22ã€ä¿®æ”¹è‡ªå¢åˆ—çš„å€¼" class="headerlink" title="22ã€ä¿®æ”¹è‡ªå¢åˆ—çš„å€¼"></a>22ã€ä¿®æ”¹è‡ªå¢åˆ—çš„å€¼</h3><pre><code>`alter table tname auto_increment=n;`ä¸€ä¸ªè¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªè‡ªå¢åˆ—,å¦‚æœè®¾ç½®å¤šä¸ªè‡ªå¢åˆ—ï¼Œé‚£ä¹ˆ SQL æ‰§è¡Œå°±ä¼šæŠ¥é”™ã€‚é™¤æ­¤ä¹‹å¤–è¿˜è¦æ³¨æ„è‡ªå¢åˆ—åº”è¯¥ä¸ºæ•´æ•°ç±»å‹ï¼Œä¸” auto_increment éœ€è¦é…åˆ key ä¸€èµ·ä½¿ç”¨ï¼Œè¿™ä¸ª key å¯ä»¥æ˜¯ primary key æˆ– foreign keyã€‚</code></pre><h3 id="23ã€ç”Ÿæˆæ‰¹é‡æ¸…ç©ºæŒ‡å®šæ•°æ®åº“çš„è¯­å¥"><a href="#23ã€ç”Ÿæˆæ‰¹é‡æ¸…ç©ºæŒ‡å®šæ•°æ®åº“çš„è¯­å¥" class="headerlink" title="23ã€ç”Ÿæˆæ‰¹é‡æ¸…ç©ºæŒ‡å®šæ•°æ®åº“çš„è¯­å¥"></a>23ã€ç”Ÿæˆæ‰¹é‡æ¸…ç©ºæŒ‡å®šæ•°æ®åº“çš„è¯­å¥</h3><pre><code>`select CONCAT('TRUNCATE TABLE ',table_schema,'.',TABLE_NAME, ';') æ¸…ç©ºè¯­å¥ from INFORMATION_SCHEMA.TABLES where table_schema ='åº“å';`    </code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSç¬”è®°</title>
      <link href="/posts/1822a0ce.html"/>
      <url>/posts/1822a0ce.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ol><li><p>å¦‚æœå¸Œæœ›cssæ ·å¼ä¸è¢«è¦†ç›–ï¼Œå¯ä»¥åœ¨åé¢åŠ ä¸Š!importantï¼Œå¦‚ï¼š<code>.cntck{ margin-right: 5px!important;}</code></p></li><li><p>å¦‚æœcsså¸Œæœ›ä¸¤ä¸ªæ ‡ç­¾å¯¹é½ï¼Œå¯ä»¥ç”¨positionæ¥å¤„ç†ï¼Œå¦‚ï¼š<code>.cntck{position: relative; bottom: -2px;}</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jqueryç¬”è®°</title>
      <link href="/posts/jquery-note.html"/>
      <url>/posts/jquery-note.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="jqueryè·å–jsonçš„é•¿åº¦"><a href="#jqueryè·å–jsonçš„é•¿åº¦" class="headerlink" title="jqueryè·å–jsonçš„é•¿åº¦"></a>jqueryè·å–jsonçš„é•¿åº¦</h3><figure class="highlight arcade"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸€ç»´ï¼š</span></span><br><span class="line"><span class="keyword">var</span> JsonTemp = {<span class="string">'id'</span>:<span class="number">5</span>,<span class="string">'name'</span>:<span class="string">'lilei'</span>};  </span><br><span class="line"><span class="built_in">length</span> = JsonTemp.<span class="built_in">length</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒç»´ï¼š</span></span><br><span class="line"><span class="keyword">var</span> JsonTemp = [{<span class="string">"name"</span>:<span class="string">"å¼ ä¸‰"</span>,<span class="string">"age"</span>:<span class="number">18</span>},{<span class="string">"name"</span>:<span class="string">"æå››"</span>,<span class="string">"age"</span>:<span class="number">19</span>}];  </span><br><span class="line"><span class="built_in">length</span> = Object.keys(JsonTemp).<span class="built_in">length</span>;</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå¸¸ç”¨å‘½ä»¤</title>
      <link href="/posts/linux-common-commands.html"/>
      <url>/posts/linux-common-commands.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœ¬äººç¼–ç¨‹å¤šå¹´ï¼Œä¸€ç›´å¯¹Linuxæ“ä½œä¸ç†Ÿç»ƒï¼Œä¸»è¦åŸå› æ˜¯å‘½ä»¤ä¸ç†Ÿæ‚‰ï¼Œä¸ºæ–¹ä¾¿è®°å¿†ï¼Œç°ç½—åˆ—ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼š</p><h3 id="æ“ä½œæ–‡ä»¶"><a href="#æ“ä½œæ–‡ä»¶" class="headerlink" title="æ“ä½œæ–‡ä»¶"></a>æ“ä½œæ–‡ä»¶</h3><ul><li>åˆ›å»ºæ–‡ä»¶å¤¹ï¼š<code>mkdir dir</code></li><li>åˆ é™¤æ–‡ä»¶å¤¹ï¼š<code>rm -rf dir</code>   -rå‘ä¸‹é€’å½’ï¼Œ-få¼ºåˆ¶åˆ é™¤</li><li>åˆ›å»ºæ–‡ä»¶ï¼š<code>touch a.txt</code></li><li>åˆ é™¤æ–‡ä»¶ï¼š<code>rm -f /var/log/a.txt</code></li><li>è¿½åŠ å†…å®¹åˆ°æ–‡ä»¶ï¼š<code>echo sssss &gt;&gt; a.txt</code></li><li>æ’å…¥å†…å®¹ï¼š<code>vi text.txt =ã€‹æŒ‰i =ã€‹æ’å…¥å†…å®¹ =ã€‹æŒ‰Esc =ã€‹:wq</code></li><li>æŸ¥çœ‹æ–‡ä»¶çš„è¡Œæ•°ï¼š<code>wc -l xx.txt</code></li><li>æŸ¥çœ‹æ–‡ä»¶é‡Œæœ‰å¤šå°‘ä¸ªwordï¼š<code>wc -l xx.txt</code></li><li>é¡ºåºæŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†…å®¹ï¼š<code>cat xx.php</code></li><li>å€’åºæŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†…å®¹ï¼š<code>tac xx.log</code></li></ul><h3 id="ç³»ç»Ÿæ“ä½œ"><a href="#ç³»ç»Ÿæ“ä½œ" class="headerlink" title="ç³»ç»Ÿæ“ä½œ"></a>ç³»ç»Ÿæ“ä½œ</h3><ul><li><p>ä¿®æ”¹å¯†ç </p><ol><li>é€‰æ‹©è¦ä¿®æ”¹å¯†ç çš„ç”¨æˆ·åï¼Œä»¥rootç”¨æˆ·ä¸ºä¾‹<br><code>passwd root</code></li><li>è¾“å…¥2æ¬¡ä¸€æ ·çš„æ–°å¯†ç ï¼Œå½“æç¤ºæ›´æ–°æˆåŠŸå³å¯ã€‚<br><img src="/images/linux_command_1.png" alt=""></li></ol></li><li><p>æŸ¥çœ‹ç³»ç»Ÿç¯å¢ƒ</p> <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_7_centos ~]# cat /etc/redhat-release </span><br><span class="line">CentOS Linux release 7.6.1810 (Core) </span><br><span class="line">[root@VM_0_7_centos ~]# uname -a</span><br><span class="line">Linux VM_0_7_centos 3.10.0-957.27.2.el7.x86_64 #1 SMP Mon Jul 29 17:46:05 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></tbody></table></figure><p> ä»ä¸Šè¿°ç»“æœå¯ä»¥çœ‹å‡ºï¼šç³»ç»Ÿä¸ºCentOS 7.6 å†…æ ¸ä¸º3.10.0-957.27.2.el7.x86_64</p></li></ul><h3 id="æ—¥å¿—æ“ä½œ"><a href="#æ—¥å¿—æ“ä½œ" class="headerlink" title="æ—¥å¿—æ“ä½œ"></a>æ—¥å¿—æ“ä½œ</h3><ul><li>å®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼š<code>tail -f xx.log</code></li><li>å®æ—¶æŸ¥çœ‹æ—¥å¿—æœ€å100è¡Œçš„å†…å®¹ï¼š <code>tail -f -n 100 xx.log</code></li><li>æŸ¥è¯¢æœ€å100è¡Œçš„å†…å®¹ï¼š<code>tail -n 100 xx.log</code></li><li>æŸ¥è¯¢100è¡Œä¹‹åçš„æ‰€æœ‰å†…å®¹ï¼š<code>tail -n +100 xx.log</code></li><li>æŸ¥çœ‹æ–‡ä»¶çš„å‰10è¡Œï¼š<code>head -n 10 xx.log</code></li><li>æŸ¥è¯¢é™¤æœ€å100è¡Œå¤–çš„å†…å®¹ï¼š<code>head -n -100 xx.log</code></li><li>æ ¹æ®å…³é”®å­—æŸ¥è¯¢æ—¥å¿—ï¼š<code>cat -n xx.log |grep "charge"</code>   å¯ä»¥å¾—åˆ°å…³é”®å­—æ—¥å¿—çš„è¡Œå·å’Œå†…å®¹</li><li>æ ¹æ®å…³é”®å­—æŸ¥è¯¢æ—¥å¿—å¹¶è·å–æœ€å5è¡Œï¼š<code>grep 'charge' xx.log |tail -n 5</code></li><li>æ ¹æ®å…³é”®å­—æŸ¥è¯¢æ—¥å¿—å†…å®¹ï¼š<code>grep 'charge' xx.log</code>   ä¸è¿”å›è¡Œå·ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™è¯´æ˜æ—¥å¿—ä¸­æ— æ­¤å…³é”®å­—<ul><li>å¦‚æœæ—¥å¿—å¤ªå¤šï¼Œå¯åˆ†é¡µæŸ¥çœ‹ï¼š<code>cat -n xx.log |grep 'charge' | more</code>  æŒ‰ç©ºæ ¼é”®è¿›è¡Œç¿»é¡µ</li><li>å¦‚æœæ—¥å¿—å¤ªå¤§ï¼Œä¹Ÿå¯ä»¥åªæŠŠå…³é”®å­—éƒ¨åˆ†ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œæå–ä¸‹æ¥ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š<br>  <code>cat -n xx.log |grep 'charge' &gt; aa.txt</code><br>  ç„¶åä¸‹è½½ä¸‹æ¥ï¼š<code>sz aa.txt</code><br>  æœ€ååˆ é™¤æ–‡ä»¶ï¼š<code>rm -f aa.txt</code></li></ul></li></ul><h3 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h3><ul><li>æ¸…ç©ºå½“å‰ç•Œé¢ä¿¡æ¯ï¼š<code>clear</code> æˆ–è€… Ctrl+L</li><li>æ˜¾ç¤ºå½“å‰æ—¶é—´ï¼š<code>date</code></li><li>æ˜¾ç¤ºå½“å‰è·¯å¾„ï¼š<code>pwd</code></li><li>æŸ¥çœ‹å†å²å‘½ä»¤ï¼š<code>history</code></li><li>Tabé”®ï¼šè‡ªåŠ¨è¡¥é½ï¼ŒæŒ‰ä¸¤ä¸‹æ˜¯æŸ¥è¯¢ç›¸åŒå‰ç¼€çš„ç›®å½•æˆ–æ–‡ä»¶</li><li>moreçš„è¾…åŠ©æ“ä½œï¼šæŒ‰ç©ºæ ¼é”®è¿›è¡Œç¿»é¡µ</li><li>lessçš„è¾…åŠ©æ“ä½œï¼šæŒ‰ç©ºæ ¼é”®è¿›è¡Œç¿»é¡µ   [up]å‘ä¸Šæ»šåŠ¨ä¸€è¡Œ   [down]æˆ–è€…å›è½¦å…ˆåæ»šåŠ¨ä¸€è¡Œ   Qï¼šé€€å‡º</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¹¦å•å¿ƒæ„¿å¢™</title>
      <link href="/posts/wished-book-list.html"/>
      <url>/posts/wished-book-list.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ç½—åˆ—ä¸€äº›è‡ªå·±åç»­è¦è¯»çš„ä¹¦ç±æˆ–è€…æ–‡ç« ï¼š"><a href="#ç½—åˆ—ä¸€äº›è‡ªå·±åç»­è¦è¯»çš„ä¹¦ç±æˆ–è€…æ–‡ç« ï¼š" class="headerlink" title="ç½—åˆ—ä¸€äº›è‡ªå·±åç»­è¦è¯»çš„ä¹¦ç±æˆ–è€…æ–‡ç« ï¼š"></a>ç½—åˆ—ä¸€äº›è‡ªå·±åç»­è¦è¯»çš„ä¹¦ç±æˆ–è€…æ–‡ç« ï¼š</h3><ul><li>ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹</li><li>ã€ŠUNIXç¼–ç¨‹è‰ºæœ¯ã€‹</li><li>ã€Šå¼‚ç±»ã€‹</li><li>ã€Šç¾Šçš®å·ã€‹â€”â€”ã€Šé€‰æ‹©çš„åŠ›é‡ã€‹</li><li>ã€Šä¼˜ç§€åˆ°ä¸èƒ½è¢«å¿½è§†ã€‹</li><li>ã€Šæ— è¨€çš„å®‡å®™ã€‹</li><li>ã€Šæ•°å­¦å¥³å­©ã€‹</li></ul>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¹¦ç± </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitä½¿ç”¨ç¬”è®°</title>
      <link href="/posts/git-notes.html"/>
      <url>/posts/git-notes.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight mipsasm"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git pull                <span class="comment">#æ‹‰å–ä»£ç åˆ°æœ¬åœ°</span></span><br><span class="line">git <span class="keyword">add </span>.               <span class="comment">#å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git commit -m <span class="string">"xx"</span>      <span class="comment">#æäº¤ä»£ç ï¼Œå¹¶å¡«å†™æè¿°</span></span><br><span class="line">git push                <span class="comment">#æ¨é€ä»£ç åˆ°è¿œç«¯</span></span><br><span class="line">git status              <span class="comment">#æ˜¾ç¤ºæ‰€æœ‰éœ€æäº¤çš„æ–‡ä»¶</span></span><br><span class="line">git <span class="keyword">branch </span>             <span class="comment">#æ˜¾ç¤ºå½“å‰ä»£ç åº“ä¸­æ‰€æœ‰çš„æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git <span class="keyword">branch </span>xx           <span class="comment">#åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯xx</span></span><br><span class="line">git <span class="keyword">branch </span>-d xx        <span class="comment">#åˆ é™¤æŒ‡å®šåˆ†æ”¯xx</span></span><br><span class="line">git checkout xx         <span class="comment">#åˆ‡æ¢åˆ°åˆ†æ”¯xx</span></span><br><span class="line">git checkout -<span class="keyword">b </span>xx      <span class="comment">#åˆ›å»ºä¸€ä¸ªåˆ†æ”¯xxï¼Œå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</span></span><br><span class="line">git merge xx            <span class="comment">#å°†æŒ‡å®šåˆ†æ”¯xxçš„å†å²è®°å½•åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">git stash save          <span class="comment">#ä¸´æ—¶ä¿å­˜æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶</span></span><br><span class="line">git stash pop           <span class="comment">#æ¢å¤æœ€è¿‘ä¸€æ¬¡å­˜å‚¨çš„æ–‡ä»¶</span></span><br></pre></td></tr></tbody></table></figure><h3 id="æ–‡ä»¶å¿½ç•¥"><a href="#æ–‡ä»¶å¿½ç•¥" class="headerlink" title="æ–‡ä»¶å¿½ç•¥"></a>æ–‡ä»¶å¿½ç•¥</h3><p>è½¯ä»¶é¡¹ç›®ä½¿ç”¨gitæäº¤è¿œç¨‹ä»“åº“æ—¶ï¼Œå¦‚æœéœ€è¦å¿½ç•¥æŸäº›æ–‡ä»¶(å¦‚ç¼“å­˜æ–‡ä»¶ã€æ¡†æ¶æ ¸å¿ƒæ–‡ä»¶)çš„å˜æ›´ï¼Œå¯ä»¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»º.gitignoreæ–‡ä»¶ï¼Œå¹¶ç½—åˆ—éœ€å¿½ç•¥çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ã€‚</p><p>å¦‚ä¸‹ä¸ºPHP Yii2ä¸‹çš„.gitignoreæ–‡ä»¶å†…å®¹ï¼š<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.idea/</span><br><span class="line">.project</span><br><span class="line">.settings</span><br><span class="line">/vendor</span><br><span class="line">assets/</span><br><span class="line">/runtime</span><br><span class="line">/Runtime</span><br><span class="line">/upload</span><br></pre></td></tr></tbody></table></figure><br>ä½†æœ‰æ—¶å€™å¿½ç•¥æ–‡ä»¶ä¸èµ·ä½œç”¨ï¼Œå…¶åŸå› æ˜¯ï¼šgitè®¾ç½®æœ¬åœ°å¿½ç•¥æ—¶ï¼Œå¿…é¡»ä¿è¯è¿œç¨‹ä»“åº“åˆ†æ”¯ä¸Šæ²¡æœ‰è¿™ä¸ªè¦å¿½ç•¥çš„æ–‡ä»¶ï¼›å¦åˆ™æœ¬åœ°çš„ignoreå°†ä¸èµ·ä½œç”¨ã€‚<br>è§£å†³æ–¹å¼ï¼šåˆ é™¤è¦å¿½ç•¥çš„æ–‡ä»¶å¹¶æäº¤è¿œç¨‹ä»“åº“ï¼Œignoreè¯¥æ–‡ä»¶ã€‚<p></p><h3 id="gitè®¾ç½®"><a href="#gitè®¾ç½®" class="headerlink" title="gitè®¾ç½®"></a>gitè®¾ç½®</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> .git/config</span><br><span class="line">git remote set-url origin sshåœ°å€</span><br></pre></td></tr></tbody></table></figure><h3 id="å½“å°è¯•å°†-feature-v20-åˆ†æ”¯åˆå¹¶åˆ°-develop-åˆ†æ”¯æ—¶ï¼Œå‡ºç°å¤§é‡å†²çªï¼Œå¸Œæœ›å°†-develop-åˆ†æ”¯çš„ä»£ç ç›´æ¥æ›¿æ¢ä¸º-feature-v20-åˆ†æ”¯çš„ä»£ç ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š"><a href="#å½“å°è¯•å°†-feature-v20-åˆ†æ”¯åˆå¹¶åˆ°-develop-åˆ†æ”¯æ—¶ï¼Œå‡ºç°å¤§é‡å†²çªï¼Œå¸Œæœ›å°†-develop-åˆ†æ”¯çš„ä»£ç ç›´æ¥æ›¿æ¢ä¸º-feature-v20-åˆ†æ”¯çš„ä»£ç ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š" class="headerlink" title="å½“å°è¯•å°† feature/v20 åˆ†æ”¯åˆå¹¶åˆ° develop åˆ†æ”¯æ—¶ï¼Œå‡ºç°å¤§é‡å†²çªï¼Œå¸Œæœ›å°† develop åˆ†æ”¯çš„ä»£ç ç›´æ¥æ›¿æ¢ä¸º feature/v20 åˆ†æ”¯çš„ä»£ç ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š"></a>å½“å°è¯•å°† feature/v20 åˆ†æ”¯åˆå¹¶åˆ° develop åˆ†æ”¯æ—¶ï¼Œå‡ºç°å¤§é‡å†²çªï¼Œå¸Œæœ›å°† develop åˆ†æ”¯çš„ä»£ç ç›´æ¥æ›¿æ¢ä¸º feature/v20 åˆ†æ”¯çš„ä»£ç ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</h3><h4 id="1-å¼ºåˆ¶é‡ç½®-develop-åˆ†æ”¯"><a href="#1-å¼ºåˆ¶é‡ç½®-develop-åˆ†æ”¯" class="headerlink" title="1. å¼ºåˆ¶é‡ç½® develop åˆ†æ”¯"></a>1. <strong>å¼ºåˆ¶é‡ç½® develop åˆ†æ”¯</strong></h4><ul><li><strong>è­¦å‘Šï¼š</strong> è¿™ä¼šä¸¢å¤± develop åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æœªæäº¤çš„æ›´æ”¹ã€‚è¯·è°¨æ…æ“ä½œï¼Œå¹¶ç¡®ä¿ä½ å·²ç»å¤‡ä»½äº†é‡è¦çš„æ•°æ®ã€‚</li><li><strong>æ­¥éª¤ï¼š</strong><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git reset --hard feature/v20</span><br></pre></td></tr></tbody></table></figure><ul><li><code>git checkout develop</code>: åˆ‡æ¢åˆ° develop åˆ†æ”¯ã€‚</li><li><code>git reset --hard feature/v20</code>: å°† develop åˆ†æ”¯çš„ HEAD æŒ‡é’ˆå¼ºåˆ¶é‡ç½®åˆ° feature/v20 åˆ†æ”¯çš„æœ€æ–°æäº¤ï¼Œä¸¢å¼ƒ develop åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æœ¬åœ°æ›´æ”¹ã€‚</li></ul></li></ul><h4 id="2-é‡æ–°åˆ›å»º-develop-åˆ†æ”¯"><a href="#2-é‡æ–°åˆ›å»º-develop-åˆ†æ”¯" class="headerlink" title="2. é‡æ–°åˆ›å»º develop åˆ†æ”¯"></a>2. <strong>é‡æ–°åˆ›å»º develop åˆ†æ”¯</strong></h4><ul><li><strong>æ­¥éª¤ï¼š</strong><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -D develop  <span class="comment"># åˆ é™¤ç°æœ‰çš„ develop åˆ†æ”¯</span></span><br><span class="line">git checkout feature/v20  <span class="comment"># åˆ‡æ¢åˆ° feature/v20 åˆ†æ”¯</span></span><br><span class="line">git branch develop/v20  <span class="comment"># åŸºäº feature/v20 åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°çš„ develop åˆ†æ”¯</span></span><br></pre></td></tr></tbody></table></figure><ul><li>é¦–å…ˆåˆ é™¤æ—§çš„ develop åˆ†æ”¯ï¼Œç„¶ååŸºäº feature/v20 åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°çš„ develop åˆ†æ”¯ï¼Œè¿™æ · develop åˆ†æ”¯çš„ä»£ç å°±å’Œ feature/v20 åˆ†æ”¯å®Œå…¨ä¸€è‡´äº†ã€‚</li></ul></li></ul><h4 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><ul><li><strong>å¼ºåˆ¶é‡ç½®æˆ–é‡æ–°åˆ›å»ºåˆ†æ”¯æ˜¯æ¯”è¾ƒæç«¯çš„æ“ä½œ</strong>ï¼Œä¼šä¸¢å¤±æ•°æ®ã€‚åœ¨æ‰§è¡Œä¹‹å‰ï¼Œè¯·åŠ¡å¿…ç¡®è®¤ä½ å·²ç»å¤‡ä»½äº†é‡è¦çš„ä»£ç ã€‚</li><li><strong>å¦‚æœ develop åˆ†æ”¯å·²ç»è¢«æ¨é€åˆ°äº†è¿œç¨‹ä»“åº“</strong>ï¼Œé‚£ä¹ˆå¼ºåˆ¶é‡ç½®ä¼šé€ æˆå†å²è®°å½•çš„æ··ä¹±ã€‚å»ºè®®åœ¨æœ¬åœ°è¿›è¡Œæ“ä½œï¼Œç„¶åå†å°†æ–°çš„ develop åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ã€‚</li><li><strong>å¦‚æœ develop åˆ†æ”¯ä¸Šæœ‰å…¶ä»–å¼€å‘è€…æ­£åœ¨åä½œ</strong>ï¼Œå¼ºåˆ¶é‡ç½®å¯èƒ½ä¼šå¯¼è‡´ä»–ä»¬çš„å·¥ä½œä¸¢å¤±ã€‚åœ¨æ‰§è¡Œæ“ä½œä¹‹å‰ï¼Œè¯·ä¸å›¢é˜Ÿæˆå‘˜è¿›è¡Œæ²Ÿé€šã€‚</li></ul><h4 id="å…¶ä»–å»ºè®®"><a href="#å…¶ä»–å»ºè®®" class="headerlink" title="å…¶ä»–å»ºè®®"></a>å…¶ä»–å»ºè®®</h4><ul><li><strong>ä»”ç»†åˆ†æå†²çªï¼š</strong> åœ¨å¼ºåˆ¶é‡ç½®ä¹‹å‰ï¼Œå¯ä»¥ä»”ç»†æŸ¥çœ‹å†²çªçš„æ–‡ä»¶ï¼Œäº†è§£å†²çªçš„åŸå› ã€‚</li><li><strong>åˆ©ç”¨ <code>git diff</code> å‘½ä»¤</strong> æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´çš„å·®å¼‚ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ä»£ç çš„å˜åŒ–ã€‚</li><li><strong>è€ƒè™‘ä½¿ç”¨ <code>git mergetool</code></strong> æ¥å¯è§†åŒ–åœ°è§£å†³å†²çªã€‚</li><li><strong>å¦‚æœå¯èƒ½ï¼Œå°è¯•é‡æ–°åˆ›å»º feature åˆ†æ”¯</strong>ï¼Œå¹¶ç¡®ä¿åœ¨å¼€å‘è¿‡ç¨‹ä¸­åŠæ—¶åˆå¹¶æœ€æ–°çš„ develop åˆ†æ”¯ï¼Œä»¥å‡å°‘å†²çªå‘ç”Ÿçš„é¢‘ç‡ã€‚</li></ul><h3 id="Git-pull-æŠ¥é”™-â€œPlease-commit-your-changes-or-stash-them-before-you-can-mergeâ€-çš„è§£å†³æ–¹æ³•"><a href="#Git-pull-æŠ¥é”™-â€œPlease-commit-your-changes-or-stash-them-before-you-can-mergeâ€-çš„è§£å†³æ–¹æ³•" class="headerlink" title="Git pull æŠ¥é”™ â€œPlease, commit your changes or stash them before you can mergeâ€ çš„è§£å†³æ–¹æ³•"></a>Git pull æŠ¥é”™ â€œPlease, commit your changes or stash them before you can mergeâ€ çš„è§£å†³æ–¹æ³•</h3><h4 id="å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š"><a href="#å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š" class="headerlink" title="å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š"></a>å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š</h4><p>å½“ä½ æ‰§è¡Œ <code>git pull</code> å‘½ä»¤æ—¶ï¼ŒGit ä¼šå°è¯•å°†è¿œç¨‹ä»“åº“çš„æœ€æ–°æ›´æ”¹åˆå¹¶åˆ°ä½ çš„æœ¬åœ°åˆ†æ”¯ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨æœ¬åœ°åˆ†æ”¯ä¸Šæœ‰ä¸€äº›æœªæäº¤çš„ä¿®æ”¹ï¼ŒGit å°±ä¼šæ‹’ç»åˆå¹¶ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´å†²çªã€‚æ‰€ä»¥ï¼ŒGit ä¼šæç¤ºä½ ï¼šè¯·å…ˆæäº¤ä½ çš„ä¿®æ”¹æˆ–è€…å°†å®ƒä»¬æš‚å­˜èµ·æ¥ï¼Œç„¶åå†è¿›è¡Œåˆå¹¶ã€‚</p><h4 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h4><h5 id="1-æäº¤ä½ çš„ä¿®æ”¹"><a href="#1-æäº¤ä½ çš„ä¿®æ”¹" class="headerlink" title="1. æäº¤ä½ çš„ä¿®æ”¹"></a>1. <strong>æäº¤ä½ çš„ä¿®æ”¹</strong></h5><ul><li><strong>æŸ¥çœ‹ä¿®æ”¹:</strong> ä½¿ç”¨ <code>git status</code> å‘½ä»¤æŸ¥çœ‹ä½ æœ‰å“ªäº›æœªæäº¤çš„ä¿®æ”¹ã€‚</li><li><strong>æš‚å­˜ä¿®æ”¹:</strong> ä½¿ç”¨ <code>git add &lt;æ–‡ä»¶å&gt;</code> æˆ– <code>git add .</code> å°†ä¿®æ”¹æš‚å­˜ã€‚</li><li><strong>æäº¤ä¿®æ”¹:</strong> ä½¿ç”¨ <code>git commit -m "ä½ çš„æäº¤ä¿¡æ¯"</code> å°†æš‚å­˜çš„ä¿®æ”¹æäº¤ã€‚</li><li><strong>æ‹‰å–è¿œç¨‹åˆ†æ”¯:</strong> æäº¤å®Œåï¼Œå†æ‰§è¡Œ <code>git pull</code>ã€‚</li></ul><h5 id="2-æš‚å­˜ä½ çš„ä¿®æ”¹"><a href="#2-æš‚å­˜ä½ çš„ä¿®æ”¹" class="headerlink" title="2. æš‚å­˜ä½ çš„ä¿®æ”¹"></a>2. <strong>æš‚å­˜ä½ çš„ä¿®æ”¹</strong></h5><ul><li><strong>æš‚å­˜ä¿®æ”¹:</strong> ä½¿ç”¨ <code>git stash</code> å‘½ä»¤å°†å½“å‰å·¥ä½œåŒºçš„æ‰€æœ‰ä¿®æ”¹æš‚å­˜èµ·æ¥ã€‚</li><li><strong>æ‹‰å–è¿œç¨‹åˆ†æ”¯:</strong> æ‰§è¡Œ <code>git pull</code>ã€‚</li><li><strong>æ¢å¤æš‚å­˜çš„ä¿®æ”¹:</strong> å¦‚æœæƒ³æ¢å¤æš‚å­˜çš„ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>git stash pop</code>ã€‚</li></ul><h5 id="è¯¦ç»†è§£é‡Šï¼š"><a href="#è¯¦ç»†è§£é‡Šï¼š" class="headerlink" title="è¯¦ç»†è§£é‡Šï¼š"></a>è¯¦ç»†è§£é‡Šï¼š</h5><ul><li><strong>git status:</strong> æŸ¥çœ‹ä½ å½“å‰çš„å·¥ä½œåŒºçŠ¶æ€ï¼Œå“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œå“ªäº›æ–‡ä»¶è¢«æš‚å­˜äº†ã€‚</li><li><strong>git add:</strong> å°†ä½ ä¿®æ”¹çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºã€‚</li><li><strong>git commit:</strong> å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ã€‚</li><li><strong>git pull:</strong> ä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°çš„ä»£ç ï¼Œå¹¶åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ã€‚</li><li><strong>git stash:</strong> å°†å½“å‰å·¥ä½œåŒºçš„æ‰€æœ‰ä¿®æ”¹æš‚å­˜èµ·æ¥ï¼Œä½†ä¸æäº¤ã€‚</li><li><strong>git stash pop:</strong> åº”ç”¨æœ€æ–°çš„ stashï¼Œå¹¶å°†å®ƒä» stash æ ˆä¸­åˆ é™¤ã€‚</li></ul><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>å½“é‡åˆ°è¿™ä¸ªé”™è¯¯æ—¶ï¼Œ<strong>æœ€å®‰å…¨çš„åšæ³•æ˜¯å…ˆæäº¤ä½ çš„æœ¬åœ°ä¿®æ”¹</strong>ï¼Œç„¶åå†æ‰§è¡Œ <code>git pull</code>ã€‚å¦‚æœä½ ä¸æƒ³ç«‹å³æäº¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>git stash</code> å°†ä¿®æ”¹æš‚å­˜èµ·æ¥ã€‚</p><p><strong>é€‰æ‹©å“ªç§æ–¹æ³•å–å†³äºä½ çš„å…·ä½“æƒ…å†µï¼š</strong></p><ul><li><strong>å¦‚æœä½ æƒ³ä¿ç•™è¿™äº›ä¿®æ”¹:</strong> æäº¤æˆ–æš‚å­˜ã€‚</li><li><strong>å¦‚æœä½ ä¸æƒ³ä¿ç•™è¿™äº›ä¿®æ”¹:</strong> å¯ä»¥ç›´æ¥ä¸¢å¼ƒè¿™äº›ä¿®æ”¹ï¼Œç„¶åæ‰§è¡Œ <code>git pull</code>ã€‚</li></ul><p><strong>æ³¨æ„:</strong></p><ul><li><strong>å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä¿®æ”¹:</strong> å¦‚æœç¡®å®šè¦ä¸¢å¼ƒæœ¬åœ°ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>git fetch</code> å’Œ <code>git reset --hard origin/master</code> (å‡è®¾è¿œç¨‹åˆ†æ”¯æ˜¯ master)ï¼Œä½†è¿™ä¼šè¦†ç›–ä½ æ‰€æœ‰çš„æœ¬åœ°ä¿®æ”¹ï¼Œè¯·è°¨æ…æ“ä½œã€‚</li><li><strong>è§£å†³å†²çª:</strong> å¦‚æœåœ¨ <code>git pull</code> çš„è¿‡ç¨‹ä¸­å‡ºç°å†²çªï¼Œä½ éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼Œç„¶åä½¿ç”¨ <code>git add</code> å’Œ <code>git commit</code> æ¥æäº¤è§£å†³åçš„ç»“æœã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå®ç°AESåŠ è§£å¯†</title>
      <link href="/posts/php-aes-encrypt.html"/>
      <url>/posts/php-aes-encrypt.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="note info">ç³»ç»Ÿä¸­çš„è´¦å·ä¿¡æ¯åœ¨è¿›è¡Œå­˜å‚¨çš„æ—¶å€™ï¼Œéœ€è¦åšç›¸åº”çš„åŠ å¯†å¤„ç†ï¼›æ¯”å¦‚ç”¨æˆ·å¯†ç ä¸€èˆ¬æ˜¯ä»¥å¯†æ–‡å½¢å¼å­˜å‚¨ï¼Œè€Œä¸”æ˜¯ä¸å¯é€†çš„ï¼Œå¸¸ç”¨çš„å°±æ˜¯md5åŠ å¯†ï¼›è€Œå¯¹äºæŸäº›è´¦æˆ·ä¿¡æ¯(å¦‚ï¼šæ‰‹æœºå·ç ã€é“¶è¡Œå¡å·ç­‰)å°±éœ€è¦è¿›è¡Œå¯é€†åŠ å¯†(å¦‚ï¼šAES)ä¿å­˜ï¼Œè¿™æ ·æ—¢å¯ä»¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œåˆä¸å½±å“æ­£å¸¸çš„ä¸šåŠ¡å¤„ç†ã€‚</div><p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹ä»¥PHPå®ç°AESåŠ å¯†è§£å¯†ï¼š</p><h3 id="1-AESåŠ å¯†è§£å¯†ç±»"><a href="#1-AESåŠ å¯†è§£å¯†ç±»" class="headerlink" title="1. AESåŠ å¯†è§£å¯†ç±»"></a>1. AESåŠ å¯†è§£å¯†ç±»</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title class_">libs</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åˆ©ç”¨mcryptåšAESåŠ å¯†è§£å¯†</span></span><br><span class="line"><span class="comment">* æ”¯æŒå¯†é’¥ï¼š64bitï¼ˆå­—èŠ‚é•¿åº¦8ï¼‰</span></span><br><span class="line"><span class="comment">* æ”¯æŒç®—æ³•ï¼šDES</span></span><br><span class="line"><span class="comment">* æ”¯æŒæ¨¡å¼ï¼šECB</span></span><br><span class="line"><span class="comment">* å¡«å……æ–¹å¼ï¼šPKCS5</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Aes</span></span>{</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">CIPHER</span> = MCRYPT_DES;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">MODE</span> = MCRYPT_MODE_ECB;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠ å¯†</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $stréœ€åŠ å¯†çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $keyå¯†é’¥(8ä½)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string   å¯†æ–‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">encode</span>(<span class="params"><span class="variable">$str</span>,<span class="variable">$key</span></span>)</span>{</span><br><span class="line">        <span class="variable">$size</span> = <span class="title function_ invoke__">mcrypt_get_block_size</span> ( MCRYPT_DES, <span class="string">'ecb'</span> );</span><br><span class="line">        <span class="variable">$str</span> = <span class="built_in">self</span>::<span class="title function_ invoke__">pkcs5_pad</span>(<span class="variable">$str</span>, <span class="variable">$size</span>);</span><br><span class="line">        <span class="variable">$iv</span> = <span class="title function_ invoke__">mcrypt_create_iv</span>(<span class="title function_ invoke__">mcrypt_get_iv_size</span>(<span class="built_in">self</span>::<span class="variable constant_">CIPHER</span>,<span class="built_in">self</span>::<span class="variable constant_">MODE</span>),MCRYPT_RAND);</span><br><span class="line">        <span class="variable">$result</span> = <span class="title function_ invoke__">mcrypt_encrypt</span>(<span class="built_in">self</span>::<span class="variable constant_">CIPHER</span>, <span class="variable">$key</span>, <span class="variable">$str</span>, <span class="built_in">self</span>::<span class="variable constant_">MODE</span>, <span class="variable">$iv</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">base64_encode</span>(<span class="variable">$result</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§£å¯†</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $str   å¯†æ–‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $key   å¯†é’¥(8ä½)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string   æ˜æ–‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">decode</span>(<span class="params"><span class="variable">$str</span>,<span class="variable">$key</span></span>)</span>{</span><br><span class="line">        <span class="variable">$str</span> = <span class="title function_ invoke__">base64_decode</span>(<span class="variable">$str</span>);</span><br><span class="line">        <span class="variable">$iv</span> = <span class="title function_ invoke__">mcrypt_create_iv</span>(<span class="title function_ invoke__">mcrypt_get_iv_size</span>(<span class="built_in">self</span>::<span class="variable constant_">CIPHER</span>,<span class="built_in">self</span>::<span class="variable constant_">MODE</span>),MCRYPT_RAND);</span><br><span class="line">        <span class="variable">$str</span> = <span class="title function_ invoke__">trim</span>(<span class="title function_ invoke__">mcrypt_decrypt</span>(<span class="built_in">self</span>::<span class="variable constant_">CIPHER</span>, <span class="variable">$key</span>, <span class="variable">$str</span>, <span class="built_in">self</span>::<span class="variable constant_">MODE</span>, <span class="variable">$iv</span>));</span><br><span class="line">        <span class="keyword">return</span>  <span class="built_in">self</span>::<span class="title function_ invoke__">pkcs5_unpad</span>(<span class="variable">$str</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * PKCS5å¡«å……</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $text</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $blocksize</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">pkcs5_pad</span>(<span class="params"><span class="variable">$text</span>, <span class="variable">$blocksize</span></span>) </span>{</span><br><span class="line">        <span class="variable">$pad</span> = <span class="variable">$blocksize</span> - (<span class="title function_ invoke__">strlen</span>(<span class="variable">$text</span>) % <span class="variable">$blocksize</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$text</span> . <span class="title function_ invoke__">str_repeat</span>(<span class="title function_ invoke__">chr</span>(<span class="variable">$pad</span>), <span class="variable">$pad</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $text</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool|string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">pkcs5_unpad</span>(<span class="params"><span class="variable">$text</span></span>) </span>{</span><br><span class="line">        <span class="variable">$pad</span> = <span class="title function_ invoke__">ord</span>(<span class="variable">$text</span>{<span class="title function_ invoke__">strlen</span>(<span class="variable">$text</span>) - <span class="number">1</span>});</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$pad</span> &gt; <span class="title function_ invoke__">strlen</span>(<span class="variable">$text</span>)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">strspn</span>(<span class="variable">$text</span>, <span class="title function_ invoke__">chr</span>(<span class="variable">$pad</span>), <span class="title function_ invoke__">strlen</span>(<span class="variable">$text</span>)-<span class="variable">$pad</span>) != <span class="variable">$pad</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">substr</span>(<span class="variable">$text</span>, <span class="number">0</span>, -<span class="number">1</span> * <span class="variable">$pad</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-è°ƒç”¨"><a href="#2-è°ƒç”¨" class="headerlink" title="2. è°ƒç”¨"></a>2. è°ƒç”¨</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title class_">app</span>\<span class="title class_">modules</span>\<span class="title class_">demo</span>\<span class="title class_">controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">app</span>\<span class="title">common</span>\<span class="title">components</span>\<span class="title">Controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">libs</span>\<span class="title">Aes</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionTest</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="variable">$key</span> = <span class="string">'WGiSP3UQ'</span>;</span><br><span class="line">        <span class="variable">$str</span> = <span class="string">'18958019299'</span>;</span><br><span class="line">        <span class="variable">$enStr</span> = <span class="title class_">Aes</span>::<span class="title function_ invoke__">encode</span>(<span class="variable">$str</span>,<span class="variable">$key</span>);</span><br><span class="line">        <span class="variable">$deStr</span> = <span class="title class_">Aes</span>::<span class="title function_ invoke__">decode</span>(<span class="variable">$enStr</span>,<span class="variable">$key</span>);</span><br><span class="line">        <span class="title function_ invoke__">var_dump</span>(<span class="variable">$str</span>,<span class="variable">$enStr</span>,<span class="variable">$deStr</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-è®¿é—®http-127-0-0-1-web-demo-test-test-ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š"><a href="#3-è®¿é—®http-127-0-0-1-web-demo-test-test-ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š" class="headerlink" title="3. è®¿é—®http://127.0.0.1/web/demo/test/test ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š"></a>3. è®¿é—®<a href="http://127.0.0.1/web/demo/test/test">http://127.0.0.1/web/demo/test/test</a> ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</h3><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span>(<span class="number">11</span>) <span class="string">"18958019299"</span> </span><br><span class="line"><span class="keyword">string</span>(<span class="number">24</span>) <span class="string">"WiBZggO/DRaczJ3wSirvEw=="</span> </span><br><span class="line"><span class="keyword">string</span>(<span class="number">11</span>) <span class="string">"18958019299"</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ è§£å¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JQueryé¢å‘å¯¹è±¡å†™æ³•</title>
      <link href="/posts/jquery-obj.html"/>
      <url>/posts/jquery-obj.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¹¦å†™Jqueryä»£ç æ—¶ï¼Œæ™®é€šçš„é¢å‘è¿‡ç¨‹çš„å†™æ³•å¯ä»¥å®ç°åŠŸèƒ½ï¼Œä½†ä¸åˆ©äºåæœŸç»´æŠ¤ã€‚ç°ä»‹ç»é¢å‘å¯¹è±¡çš„å†™æ³•ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-event</span>=<span class="string">"list"</span>&gt;</span>åˆ—è¡¨<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-event</span>=<span class="string">"search"</span> <span class="attr">data-name</span>=<span class="string">"å¤§ç­"</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-event</span>=<span class="string">"add"</span>&gt;</span>æ·»åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-event</span>=<span class="string">"update"</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-event</span>=<span class="string">"del"</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> clickAct = {</span></span><br><span class="line"><span class="language-javascript"><span class="attr">btn</span>: $(<span class="string">'button'</span>),</span></span><br><span class="line"><span class="language-javascript"><span class="attr">init</span>: <span class="keyword">function</span>(<span class="params"></span>){</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> that = <span class="variable language_">this</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">btn</span>.<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>){</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> func = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">'data-event'</span>);</span></span><br><span class="line"><span class="language-javascript">that[func]($(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">'data-name'</span>));</span></span><br><span class="line"><span class="language-javascript">})</span></span><br><span class="line"><span class="language-javascript">},</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">list</span>: <span class="keyword">function</span>(<span class="params">param</span>){</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="language-javascript">},</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">search</span>: <span class="keyword">function</span>(<span class="params">param</span>){</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(param);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">},</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">add</span>: <span class="keyword">function</span>(<span class="params">param</span>){</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'3'</span>);</span></span><br><span class="line"><span class="language-javascript">},</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">update</span>: <span class="keyword">function</span>(<span class="params">param</span>){</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'4'</span>);</span></span><br><span class="line"><span class="language-javascript">},</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">del</span>: <span class="keyword">function</span>(<span class="params">param</span>){</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'5'</span>);</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">clickAct.<span class="title function_">init</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLå‡½æ•°</title>
      <link href="/posts/mysql-functions.html"/>
      <url>/posts/mysql-functions.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è®°å½•å‡ ä¸ªå¸¸ç”¨çš„MySQLå‡½æ•°ï¼š</p><h4 id="LAST-INSERT-ID-expr"><a href="#LAST-INSERT-ID-expr" class="headerlink" title="LAST_INSERT_ID([expr])"></a>LAST_INSERT_ID([expr])</h4><p>è‡ªåŠ¨è¿”å›æœ€åä¸€ä¸ªINSERTæˆ– UPDATE é—®è¯¢ä¸º AUTO_INCREMENTåˆ—è®¾ç½®çš„ç¬¬ä¸€ä¸ªå‘ç”Ÿçš„å€¼ã€‚<br>å¦‚æœä¸€æ¬¡æ€§insertå¤šæ¡æ•°æ®ï¼Œåªè¿”å›ç¬¬ä¸€ä¸ªæ•°æ®çš„ä¸»é”®ã€‚<br></p><figure class="highlight gherkin"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT <span class="symbol">*</span> FROM t;</span><br><span class="line">+----+------+</span><br><span class="line">|<span class="string"> id </span>|<span class="string"> name </span>|</span><br><span class="line">|<span class="string">  1 </span>|<span class="string"> Bob  </span>|</span><br><span class="line">+----+------+</span><br><span class="line"></span><br><span class="line">mysql&gt; INSERT INTO t VALUES  (NULL, 'Mary'), (NULL, 'Jane'), (NULL, 'Lisa');</span><br><span class="line">mysql&gt; SELECT <span class="symbol">*</span> FROM t;</span><br><span class="line">+----+------+</span><br><span class="line">|<span class="string"> id </span>|<span class="string"> name </span>|</span><br><span class="line">|<span class="string">  1 </span>|<span class="string"> Bob  </span>|</span><br><span class="line">|<span class="string">  2 </span>|<span class="string"> Mary </span>|</span><br><span class="line">|<span class="string">  3 </span>|<span class="string"> Jane </span>|</span><br><span class="line">|<span class="string">  4 </span>|<span class="string"> Lisa </span>|</span><br><span class="line">+----+------+</span><br><span class="line">mysql&gt; SELECT LAST_INSERT_ID();</span><br><span class="line">-&gt;2;</span><br></pre></td></tr></tbody></table></figure><br>æ³¨ï¼šå‡å¦‚ä½ ä½¿ç”¨ INSERT IGNOREè€Œè®°å½•è¢«å¿½ç•¥ï¼Œåˆ™AUTO_INCREMENT è®¡æ•°å™¨ä¸ä¼šå¢é‡ï¼Œè€Œ LAST_INSERT_ID() è¿”å›0,è¿™åæ˜ å‡ºæ²¡æœ‰æ’å…¥ä»»ä½•è®°å½•ã€‚<p></p><p>è‹¥ç»™å‡ºä½œä¸ºåˆ°LAST_INSERT_ID()çš„å‚æ•°expr ï¼Œåˆ™å‚æ•°çš„å€¼è¢«å‡½æ•°è¿”å›ï¼Œå¹¶ä½œä¸ºè¢«LAST_INSERT_ID()è¿”å›çš„ä¸‹ä¸€ä¸ªå€¼è€Œè¢«è®°å¿†ã€‚è¿™å¯ç”¨äºæ¨¡æ‹Ÿåºåˆ—ï¼š</p><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">sequence</span> (id <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br><span class="line">mysql&gt; <span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">sequence</span> <span class="keyword">VALUES</span> (<span class="number">0</span>);</span><br><span class="line">mysql&gt; <span class="keyword">UPDATE</span> <span class="keyword">sequence</span> <span class="keyword">SET</span> id=LAST_INSERT_ID(id+<span class="number">1</span>);</span><br><span class="line">mysql&gt; <span class="keyword">SELECT</span> LAST_INSERT_ID();</span><br><span class="line">     -&gt;<span class="number">1</span>;</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-03-29æ‚è°ˆ</title>
      <link href="/posts/some-others.html"/>
      <url>/posts/some-others.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å“ˆå“ˆï¼Œç§‘ç›®ä¸€96ï¼</p><p><img src="/images/happy.jpg" alt="I'm very happy."></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‚è°ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨å·¥å…·æ¨è</title>
      <link href="/posts/normal-tools.html"/>
      <url>/posts/normal-tools.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1ã€windowsæ–‡ä»¶æœç´¢å·¥å…·"><a href="#1ã€windowsæ–‡ä»¶æœç´¢å·¥å…·" class="headerlink" title="1ã€windowsæ–‡ä»¶æœç´¢å·¥å…·"></a>1ã€windowsæ–‡ä»¶æœç´¢å·¥å…·</h3><p>ç»™å¤§å®¶æ¨èä¸€æ¬¾windowsä¸‹çš„æ–‡ä»¶æœç´¢å·¥å…·â€”â€”Everythingï¼Œä¸‹è½½åœ°å€ï¼š<a href="http://www.voidtools.com/">http://www.voidtools.com/</a></p><h3 id="2ã€æ–‡æ¡£æœç´¢å·¥å…·"><a href="#2ã€æ–‡æ¡£æœç´¢å·¥å…·" class="headerlink" title="2ã€æ–‡æ¡£æœç´¢å·¥å…·"></a>2ã€æ–‡æ¡£æœç´¢å·¥å…·</h3><p>å®‰åˆ©ä¸€ä¸ªæ–‡æ¡£æœç´¢å·¥å…·â€”â€”é¸ æ‘©æœç´¢ï¼Œå„ç§æ ¼å¼çš„ç”µå­ä¹¦ã€æ–‡æ¡£éƒ½å¯ä»¥ä¸‹è½½ï¼Œæ¯”å¦‚PDFã€TXTã€MOBIã€DOCç­‰ï¼Œåœ°å€ï¼š<a href="https://www.jiumodiary.com/">é¸ æ‘©æœç´¢</a></p><h3 id="3ã€APIæ¥å£æ–‡æ¡£ç®¡ç†å·¥å…·â€”â€”å°å¹ºé¸¡"><a href="#3ã€APIæ¥å£æ–‡æ¡£ç®¡ç†å·¥å…·â€”â€”å°å¹ºé¸¡" class="headerlink" title="3ã€APIæ¥å£æ–‡æ¡£ç®¡ç†å·¥å…·â€”â€”å°å¹ºé¸¡"></a>3ã€APIæ¥å£æ–‡æ¡£ç®¡ç†å·¥å…·â€”â€”<a href="http://www.xiaoyaoji.cn">å°å¹ºé¸¡</a></h3><h3 id="4ã€Gité¡¹ç›®æœç´¢å·¥å…·â€”â€”BitHubLab"><a href="#4ã€Gité¡¹ç›®æœç´¢å·¥å…·â€”â€”BitHubLab" class="headerlink" title="4ã€Gité¡¹ç›®æœç´¢å·¥å…·â€”â€”BitHubLab"></a>4ã€Gité¡¹ç›®æœç´¢å·¥å…·â€”â€”BitHubLab</h3><p><a href="https://bithublab.org/">BitHubLab</a>ï¼Œå¯ä»¥æœç´¢æ‰€æœ‰Gitå¹³å°ä¸Šçš„å…¬å¼€é¡¹ç›®ï¼ŒåŒ…æ‹¬GitHubã€GitLabå’ŒBitBucketç­‰çš„é¡¹ç›®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨JQueryè¿›è¡Œmd5åŠ å¯†</title>
      <link href="/posts/jquery-md5.html"/>
      <url>/posts/jquery-md5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦å‰ç«¯å°†æ•°æ®åŠ å¯†åä¼ ç»™åç«¯ï¼Œä¸‹é¢ä»‹ç»ä¸‹jquery md5åŠ å¯†ï¼š</p><p>å…ˆå¼•å…¥<a href="/codes/md5.min.js">md5.min.js</a>ï¼Œå†è°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š<br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"md5.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> str = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'input'</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">md5</span>(str));</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Jquery </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
