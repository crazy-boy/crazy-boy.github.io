---
title: Linux tee 命令详解
tags: [Linux,tee]
categories: [运维]
abbrlink: 'linux-tee'
date: 2023-10-06 13:52:43
updated: 2023-10-06 13:52:43
---

### tee 命令是什么？
tee 命令是一个非常有用的 Linux 命令行工具，它可以将标准输入的数据同时输出到标准输出（通常是终端）和一个或多个文件中。换句话说，tee 命令可以将数据“分流”，一边显示在屏幕上，一边保存到文件中。

### 基本语法
```bash
tee [选项] [文件...]
```

### 常用选项
* **-a** 或 **--append**：将数据追加到文件末尾，而不是覆盖原有内容。
* **-i** 或 **--ignore-interrupts**：忽略中断信号，即使收到中断信号，也会继续运行。
* **-p** 或 **--pipeline**：优化管道性能，减少缓冲。

### 示例
* **将命令输出同时显示在终端并保存到文件：**
  ```bash
  ls -l | tee file.txt
  ```
  这会列出当前目录下的文件，同时将结果保存到 `file.txt` 文件中。
* **将多条命令的输出合并到一个文件中：**
  ```bash
  cat file1.txt file2.txt | tee combined.txt
  ```
  这会将 `file1.txt` 和 `file2.txt` 的内容合并，并输出到 `combined.txt` 文件中。
* **将命令输出追加到已有文件中：**
  ```bash
  date >> log.txt | tee -a log.txt
  ```
  这会将当前日期和时间追加到 `log.txt` 文件的末尾，同时显示在终端。
* **过滤输出并保存：**
  ```bash
  grep error log.txt | tee errors.txt
  ```
  这会从 `log.txt` 文件中提取包含 "error" 的行，并将结果显示在终端并保存到 `errors.txt` 文件中。

### 使用场景
* **日志记录：** 将程序输出实时记录到文件中，方便查看和分析。
* **数据备份：** 将重要数据同时保存到多个地方，以防数据丢失。
* **调试：** 将程序输出保存到文件中，以便仔细检查。
* **管道操作：** 将一个命令的输出作为另一个命令的输入，同时保存中间结果。

### 总结
tee 命令在 Linux 系统中非常常见，它可以帮助我们更好地管理和处理数据流。通过灵活运用 tee 命令，我们可以实现很多有用的功能。