---
title: MySQL数据库优化
tags: [数据库优化]
categories: MySQL
abbrlink: 'mysql-optimization'
date: 2021-08-07 15:56:16
updated: 2021-08-07 15:56:16
---

<div class="note info">数据库优化无论实在面试还是工作中都非常重要，结合个人多年的从业经验，它主要从数据库设计、sql优化、服务器优化等方面来进行。</div>

### 数据库设计优化
 - 1）表的数据类型是否合理，要遵守选取数据类型越简单越小的原则
 - 2）表中碎片是否整理
 - 3）表的统计信息是否收集，只有统计信息准确，执行计划才能帮助优化SQL
 
### sql优化
   
   #### 索引优化
   - 1）通过explain，查看执行计划，检查索引使用情况，没有用到索引，考虑创建
   - 2）创建索引前，查看索引的选择性distinct，判断该字段是否适创建索引
      索引选择性指不重复的索引值和数据记录总数的比值，越接近1越好；主键索引和唯一索引选择性是1
   - 3）创建索引后，再查看执行计划，对比两次结果，查看效率是否提高
   #### 慢查询优化
   - 1）如果一个select语句中没有where条件，只有单纯的group by | order by，这是无法使用索引的。需要有where作为基础铺垫，遵从最左原则才能使用索引。
 
### 服务器优化
#### 读写分离

#### 分库分表