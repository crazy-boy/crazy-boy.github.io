---
title: 兔子繁殖问题
tags: [动态规划,兔子繁殖]
categories: [动态规划]
abbrlink: 'rabbit-reproduction-problem'
mathjax: true
date: 2024-12-26 13:39:12
updated: 2024-12-26 13:39:12
---

兔子繁殖问题是一个经典的递归问题，通常用于引导学习动态规划和递归。在这个问题中，假设有一对兔子，每个月这对兔子会生出一对新兔子，新兔子在第二个月开始也会生出新兔子。问题是：经过 $ n $ 个月后，会有多少对兔子？

### 状态转移方程
如果我们定义 $ F(n) $ 为第 $ n $ 个月的兔子对数，那么状态转移方程为：
$$ F(n) = F(n-1) + F(n-2) $$
其中：
- $ F(1) = 1 $
- $ F(2) = 1 $

这是因为第 $ n $ 个月的兔子对数等于前一个月的兔子对数加上再前一个月的兔子对数。

### 动态规划实现 (PHP)
我们可以使用动态规划来高效地解决这个问题。下面是用 PHP 实现的代码：

```php
<?php
function rabbitPairs($n) {
    // 如果 n 为 1 或 2，直接返回 1
    if ($n <= 2) {
        return 1;
    }

    // 初始化动态规划数组
    $dp = array_fill(0, $n + 1, 0);
    $dp[1] = 1;
    $dp[2] = 1;

    // 计算每个月的兔子对数
    for ($i = 3; $i <= $n; $i++) {
        $dp[$i] = $dp[$i - 1] + $dp[$i - 2];
    }

    // 返回第 n 个月的兔子对数
    return $dp[$n];
}

// 测试函数
$months = 10;
echo "经过 $months 个月后，会有 " . rabbitPairs($months) . " 对兔子。\n";
?>
```

### 解释
1. **初始条件**：当 $ n $ 为 1 或 2 时，兔子对数为 1。
2. **动态规划数组**：`$dp` 用于存储每个月的兔子对数，初始化为长度为 $ n+1 $ 的数组，所有元素初始为 0。
3. **状态转移**：通过循环，从第 3 个月开始计算，每个月的兔子对数等于前一个月的兔子对数加上再前一个月的兔子对数。
4. **返回结果**：最终返回第 $ n $ 个月的兔子对数。

通过这种方法，可以在 $ O(n) $ 的时间复杂度内计算出任意 $ n $ 个月后的兔子对数。