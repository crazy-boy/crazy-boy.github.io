<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/04/28/hello-world/"/>
      <url>/2022/04/28/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>代码规范建议</title>
      <link href="/2022/04/28/dai-ma-gui-fan-jian-yi/"/>
      <url>/2022/04/28/dai-ma-gui-fan-jian-yi/</url>
      
        <content type="html"><![CDATA[<ol><li><p>函数/方法里，未设置默认值的参数应放在设置默认值的参数前，如：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">        <span class="token keyword">function</span> test<span class="token punctuation">(</span><span class="token variable">$age</span> <span class="token operator">=</span> <span class="token number">21</span>, <span class="token variable">$id</span>, <span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>             print_r<span class="token punctuation">(</span>func_get_args<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    ``<span class="token variable"><span class="token variable">`</span> <span class="token operator">&lt;</span><span class="token operator">!</span>-- <span class="token function">more</span> --<span class="token operator">&gt;</span>上述代码在IDE中会对$age<span class="token operator">=</span><span class="token number">21</span>，提示“Optional parameter is provided before required”，应改为：    <span class="token variable">`</span></span>`` <span class="token function">bash</span>        <span class="token keyword">function</span> test<span class="token punctuation">(</span><span class="token variable">$id</span>, <span class="token variable">$age</span> <span class="token operator">=</span> <span class="token number">21</span>, <span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>             print_r<span class="token punctuation">(</span>func_get_args<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>常用的四种命名格式：驼峰、帕斯卡、蛇形、串形，主要是为了解决多个单词之间的空格问题。<br>驼峰命名（Camel Case），又叫小驼峰，除了第一个单词，其他单词首字母大写：<br>原始：last login time<br>驼峰：lastLoginTime<br>帕斯卡（Pascal Case），又叫大驼峰，跟驼峰命名很像，只不过所有单词首字母都需要大写：<br>原始：last login time<br>帕斯卡：LastLoginTime<br>蛇形（Snake Case），全由小写字母和下划线组成，是指用下划线(_)作用单词间的分隔符：<br>原始：last login time<br>蛇形：last_login_time<br>串行（Kebab Case），又叫脊柱命名法（spinal case），是指用短横线(-)作用单词间的分隔符：<br>原始：last login time<br>串行：last-login-time<br>一般而言，函数名或方法名采用小驼峰，类名采用大驼峰，数据库字段名采用蛇形。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> 代码规范 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS点击复制指定内容</title>
      <link href="/2019/07/02/js-dian-ji-fu-zhi-zhi-ding-nei-rong/"/>
      <url>/2019/07/02/js-dian-ji-fu-zhi-zhi-ding-nei-rong/</url>
      
        <content type="html"><![CDATA[<p>点击按钮，复制指定文本框内容，代码如下：</p><span id="more"></span><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">function</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> str <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"my-data"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    str<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 选择对象</span>    document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">"Copy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行浏览器复制命令</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"复制成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-data<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我的测试内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>复制<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 复制 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux中rz的使用</title>
      <link href="/2019/07/02/linux-zhong-rz-de-shi-yong/"/>
      <url>/2019/07/02/linux-zhong-rz-de-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>我们常常需要在客户端和服务器(windows和linux)之间互传文件，这就可以使用rz(sz)命令。<br><escape><span id="more"></span></escape></p><ol><li><p>如果服务器不支持rz命令，需安装：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum -y <span class="token function">install</span> lrzsz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>从客户端上传文件(可多选)到服务器：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> rz<span class="token function">sudo</span> rz -be<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>从服务端发送文件到客户端：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> sz filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>卸载rz：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum remove lrzsz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> rz </tag>
            
            <tag> sz </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web安全</title>
      <link href="/2019/05/29/web-an-quan/"/>
      <url>/2019/05/29/web-an-quan/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> 安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL常见报错问题</title>
      <link href="/2019/03/20/mysql-chang-jian-bao-cuo-wen-ti/"/>
      <url>/2019/03/20/mysql-chang-jian-bao-cuo-wen-ti/</url>
      
        <content type="html"><![CDATA[<ol><li>问题：<code>[Err] 1066 - Not unique table/alias: 's'</code><br> 原因：SQL语句中存在多个表的别名为’s’<br><escape><span id="more"></span></escape></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> 报错 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP运维笔记</title>
      <link href="/2019/03/20/php-yun-wei-bi-ji/"/>
      <url>/2019/03/20/php-yun-wei-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li>常见命令：<br> 查看PHP扩展：<code>php -m</code><br> 查看扩展的版本信息：<code>php -ri 扩展名</code>  如：<code>php -ri redis</code><br><escape><span id="more"></span></escape></li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> PHP </tag>
            
            <tag> 运维 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown笔记</title>
      <link href="/2019/01/31/markdown-bi-ji/"/>
      <url>/2019/01/31/markdown-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li>解决有序列表排序失败的问题，格式如下：<escape><span id="more"></span></escape> <pre class="line-numbers language-angular2html" data-language="angular2html"><code class="language-angular2html">1.[空格]测试文字1 [Tab]-[空格]测试文字1-1 [Tab]-[空格]测试文字1-2 2.[空格]测试文字2 [Tab]-[空格]测试文字2-1 [Tab][Tab]-[空格]测试文字2-1-1 [Tab][Tab]-[空格]测试文字2-1-2 [Tab]-[空格]测试文字2-2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> 代码段使用Tab退格</li></ol>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Prolog笔记</title>
      <link href="/2019/01/31/prolog-bi-ji/"/>
      <url>/2019/01/31/prolog-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li><p>加载脚本<br> <code>?- ['E:/SWI-Prolog/test/friend.pl'].       %true</code><br><escape><span id="more"></span></escape></p></li><li><p>教程： <a href="https://riptutorial.com/zh-CN/prolog">https://riptutorial.com/zh-CN/prolog</a></p></li><li><p>简单的计算求解：<br> <code>?- X is 3*7.       %X = 21</code></p></li><li><p>CLP（约束逻辑编程）库的使用：求解方程，CLP只能处理整数运算</p> <pre class="line-numbers language-none"><code class="language-none">?- use_module(library(clpfd)).?- Y #= 3+4.                    %Y = 7.?- 5 #= 4+W.                    %W = 1.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>单行注释使用”%”</p></li><li><p>事实 + 规则 = 知识库。       事实是我们对这个世界直接观察的结果。规则是关于现实世界的逻辑推论。</p></li><li><p>合一（unification）：找出那些使规则匹配的值。<br>合一有时候不是唯一的，可以通过“;”来进行追问，有时候我们可能不满足于一个答案。</p></li><li><p>程序 = 算法 + 数据结构。      列表是变长的容器，元组是定长的容器。</p> <pre class="line-numbers language-none"><code class="language-none">?- (1,2,3) = (1,2,3).               %元组yes?- [A,B,C] = [A,B,C].               %列表yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>内置谓词</p><ol><li><p>length：获取列表的长度   <code>?- length([1,2,3],L).      %L = 3.</code></p></li><li><p>append：可以用来合并两个列表   </p> <pre class="line-numbers language-none"><code class="language-none">?- append([1],[2],What).      %What = [1, 2].?- append([1],W,[1,2,3]).      %W = [2, 3].<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>member：检查某一个值是否在一个列表内  </p> <pre class="line-numbers language-none"><code class="language-none">?- member(1,[1,2]).      %true.?-  member(3,[1,2]).      %false.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Prolog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> Prolog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPExcel笔记</title>
      <link href="/2018/11/06/phpexcel-bi-ji/"/>
      <url>/2018/11/06/phpexcel-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li><p>设置字体和样式：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">        <span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>getActiveSheet<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getStyle<span class="token punctuation">(</span><span class="token string">'A1'</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>applyFromArray<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'font'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token string">'bold'</span><span class="token operator">=</span><span class="token operator">&gt;</span>true<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//设置单元格A1字体加粗        <span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>getActiveSheet<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getStyle<span class="token punctuation">(</span><span class="token string">'A1:GL1'</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>applyFromArray<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'font'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token string">'bold'</span><span class="token operator">=</span><span class="token operator">&gt;</span>true<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//设置单元格A1-GL1字体加粗        <span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>getActiveSheet<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getStyle<span class="token punctuation">(</span><span class="token string">'A1:B3'</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getFont<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>setBold<span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>//设置A1-B3之间的单元格字体加粗    ``<span class="token variable"><span class="token variable">`</span> <span class="token operator">&lt;</span><span class="token operator">!</span>-- <span class="token function">more</span> --<span class="token operator">&gt;</span><span class="token number">2</span>. 设置行高：    <span class="token variable">`</span></span>`` <span class="token function">bash</span>        <span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>getActiveSheet<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getDefaultRowDimension<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>setRowHeight<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//设置默认行高        <span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>getActiveSheet<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getRowDimension<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>setRowHeight<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//设置第一行行高<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>设置列宽：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>getActiveSheet<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getColumnDimension<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>setWidth<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//设置A列列宽<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>单元格内容特定位置换行：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>setActiveSheetIndex<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>setCellValue<span class="token punctuation">(</span><span class="token string">'A3'</span>, <span class="token string">"第三节<span class="token entity" title="\n">\n</span>11:00-12:00"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   //注意双引号<span class="token variable">$objPHPExcel</span>-<span class="token operator">&gt;</span>getActiveSheet<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getStyle<span class="token punctuation">(</span><span class="token string">'A3'</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>getAlignment<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token operator">&gt;</span>setWrapText<span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> Excel </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL自定义函数</title>
      <link href="/2018/09/05/mysql-zi-ding-yi-han-shu/"/>
      <url>/2018/09/05/mysql-zi-ding-yi-han-shu/</url>
      
        <content type="html"><![CDATA[<p>有时候要对MySQL数据进行批量处理，仅仅依靠已有的内置函数是不够的，这个时候就需要添加一些自定义的函数了，下面列举一些常用的自定义函数：</p><span id="more"></span><ol><li><p>批量处理字符串，将”FEEED305904B”转为”FE:EE:D3:05:90:4B”格式：</p> <pre class="line-numbers language-none"><code class="language-none">DROP FUNCTION IF EXISTS `SPLIT_STR`; delimiter $$CREATE FUNCTION SPLIT_STR(  x VARCHAR(255),  delim VARCHAR(12),  pos INT)RETURNS VARCHAR(255)    BEGIN    DECLARE i INT DEFAULT 0;    DECLARE s text DEFAULT '';    myloop: LOOP        SET i = i+pos;        SET s = CONCAT(s,delim,left(x,pos));        SET x = right(x,length(x)-pos);        if pos&gt;length(x) then            if length(x)&gt;0 then                SET s = CONCAT(s,delim,x);            end if;            leave myloop;        end if;    END LOOP myloop;RETURN right(s,length(s)-length(delim));END $$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>调用：<code>SELECT SPLIT_STR('FEEED305904B', ':', 2);</code></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> 自定义函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP生成数据字典</title>
      <link href="/2018/06/21/php-sheng-cheng-shu-ju-zi-dian/"/>
      <url>/2018/06/21/php-sheng-cheng-shu-ju-zi-dian/</url>
      
        <content type="html"><![CDATA[<p>通过php代码生成MySQL数据字典，代码如下：</p><span id="more"></span><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">/** * 生成mysql数据字典 */</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Content-type: text/html; charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//配置数据库</span><span class="token variable">$dbserver</span>   <span class="token operator">=</span> <span class="token string double-quoted-string">"127.0.0.1"</span><span class="token punctuation">;</span><span class="token variable">$dbusername</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"root"</span><span class="token punctuation">;</span><span class="token variable">$dbpassword</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"root"</span><span class="token punctuation">;</span><span class="token variable">$database</span>   <span class="token operator">=</span> <span class="token string double-quoted-string">"demodb"</span><span class="token punctuation">;</span><span class="token comment">//其他配置</span><span class="token variable">$mysql_conn</span> <span class="token operator">=</span> @<span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token variable">$dbserver</span><span class="token punctuation">,</span> <span class="token variable">$dbusername</span><span class="token punctuation">,</span> <span class="token variable">$dbpassword</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Mysql connect is error."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token variable">$database</span><span class="token punctuation">,</span> <span class="token variable">$mysql_conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'SET NAMES utf8'</span><span class="token punctuation">,</span> <span class="token variable">$mysql_conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$table_result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'show tables'</span><span class="token punctuation">,</span> <span class="token variable">$mysql_conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$no_show_table</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//不需要显示的表</span><span class="token variable">$no_show_field</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//不需要显示的字段</span><span class="token comment">//取得所有的表名</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$table_result</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token variable">$no_show_table</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$tables</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//替换所以表的表前缀</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'prefix'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'wxaj'</span><span class="token punctuation">;</span><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$tables</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=&gt;</span> <span class="token variable">$val</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$tableName</span> <span class="token operator">=</span> <span class="token variable">$val</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_'</span><span class="token punctuation">,</span><span class="token variable">$tableName</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token variable">$prefix</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token variable">$string</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$prefix</span><span class="token punctuation">;</span>  <span class="token variable">$newTableName</span> <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_'</span><span class="token punctuation">,</span> <span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'rename table '</span><span class="token operator">.</span><span class="token variable">$tableName</span><span class="token operator">.</span><span class="token string single-quoted-string">' TO '</span><span class="token operator">.</span><span class="token variable">$newTableName</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"替换成功！"</span><span class="token punctuation">;</span><span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//循环取得所有表的备注及表中列消息</span><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$tables</span> <span class="token keyword">as</span> <span class="token variable">$k</span><span class="token operator">=&gt;</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$sql</span>  <span class="token operator">=</span> <span class="token string single-quoted-string">'SELECT * FROM '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'INFORMATION_SCHEMA.TABLES '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'WHERE '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">"table_name = '<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>'  AND table_schema = '<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$database</span><span class="token punctuation">}</span></span>'"</span><span class="token punctuation">;</span>    <span class="token variable">$table_result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">,</span> <span class="token variable">$mysql_conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$t</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$table_result</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$tables</span><span class="token punctuation">[</span><span class="token variable">$k</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_COMMENT'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$t</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_COMMENT'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$sql</span>  <span class="token operator">=</span> <span class="token string single-quoted-string">'SELECT column_name FROM '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'INFORMATION_SCHEMA.`KEY_COLUMN_USAGE` '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'WHERE '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">"table_name = '<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>'  AND constraint_name = 'PRIMARY'"</span><span class="token punctuation">;</span>    <span class="token variable">$pk_result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">,</span> <span class="token variable">$mysql_conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$pks</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$t</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$pk_result</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$pks</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$t</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'column_name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$tables</span><span class="token punctuation">[</span><span class="token variable">$k</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'PRIMARY_KEY'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$pks</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span>  <span class="token operator">=</span> <span class="token string single-quoted-string">'SELECT * FROM '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'INFORMATION_SCHEMA.COLUMNS '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'WHERE '</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">"table_name = '<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>' AND table_schema = '<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$database</span><span class="token punctuation">}</span></span>'"</span><span class="token punctuation">;</span>    <span class="token variable">$fields</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$field_result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">,</span> <span class="token variable">$mysql_conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$t</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$field_result</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$fields</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$t</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$tables</span><span class="token punctuation">[</span><span class="token variable">$k</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$fields</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">mysql_close</span><span class="token punctuation">(</span><span class="token variable">$mysql_conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><span class="token comment">//循环所有表</span><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$tables</span> <span class="token keyword">as</span> <span class="token variable">$k</span><span class="token operator">=&gt;</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;h3&gt;'</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token variable">$k</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'、'</span> <span class="token operator">.</span> <span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_COMMENT'</span><span class="token punctuation">]</span> <span class="token operator">.</span><span class="token string single-quoted-string">'  （'</span><span class="token operator">.</span> <span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token operator">.</span> <span class="token string single-quoted-string">'）&lt;/h3&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>    <span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;table border="1" cellspacing="0" cellpadding="0" width="100%"&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>    <span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;tbody&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;tr&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;th&gt;字段名&lt;/th&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;th&gt;数据类型&lt;/th&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;th&gt;默认值&lt;/th&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;th&gt;允许非空&lt;/th&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;th&gt;自动递增&lt;/th&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;th&gt;是否主键&lt;/th&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;th&gt;备注&lt;/th&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;/tr&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN'</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token variable">$f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$no_show_field</span><span class="token punctuation">[</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">is_array</span><span class="token punctuation">(</span><span class="token variable">$no_show_field</span><span class="token punctuation">[</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token variable">$no_show_field</span><span class="token punctuation">[</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token variable">$no_show_field</span><span class="token punctuation">[</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'TABLE_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;tr&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;td class="c1"&gt;'</span> <span class="token operator">.</span> <span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN_NAME'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/td&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;td class="c2"&gt;'</span> <span class="token operator">.</span> <span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN_TYPE'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/td&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;td class="c3"&gt;'</span> <span class="token operator">.</span> <span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN_DEFAULT'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/td&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;td class="c4"&gt;'</span> <span class="token operator">.</span> <span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'IS_NULLABLE'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/td&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;td class="c5"&gt;'</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'EXTRA'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string single-quoted-string">'auto_increment'</span><span class="token operator">?</span><span class="token string single-quoted-string">'是'</span><span class="token punctuation">:</span><span class="token string single-quoted-string">'&amp;nbsp;'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/td&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;td class="c6"&gt;'</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN_NAME'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token variable">$v</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'PRIMARY_KEY'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string single-quoted-string">'是'</span><span class="token punctuation">:</span><span class="token string single-quoted-string">'&amp;nbsp;'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/td&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;td class="c7"&gt;'</span> <span class="token operator">.</span> <span class="token variable">$f</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'COLUMN_COMMENT'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/td&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;/tr&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;/tbody&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;/table&gt;'</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>数据字典<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>generator<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThinkDb V1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Crazy_boy<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>copyright<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2014-208 zotuo.com<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token selector">body, td, th</span> <span class="token punctuation">{</span> <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"微软雅黑"</span><span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token selector">.warp</span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span>900px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.warp h3</span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span>10px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">table</span> <span class="token punctuation">{</span> <span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span> <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #CCC<span class="token punctuation">;</span> <span class="token property">background</span><span class="token punctuation">:</span> #efefef<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token selector">table th</span> <span class="token punctuation">{</span> <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 26px<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span> 26px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span> <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span> <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #CCC<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">table td</span> <span class="token punctuation">{</span> <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span> <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #CCC<span class="token punctuation">;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.c1</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token selector">.c2</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token selector">.c3</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token selector">.c4</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span> <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.c5</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span> <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.c6</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span> <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.c7</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 270px<span class="token punctuation">;</span> <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warp<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>数据字典<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$html</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其中$dbserver、$dbusername、$dbpassword、$database需配置为相应的数据库IP地址、用户名、密码、数据库名。<br>代码下载：<a href="/codes/dictionary.php">dictionary.php</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> PHP </tag>
            
            <tag> 数据字典 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript笔记</title>
      <link href="/2018/06/19/javascript-bi-ji/"/>
      <url>/2018/06/19/javascript-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li><p>如果想获取ajax里的function返回值，可用同步ajax。<br><escape><span id="more"></span></escape></p></li><li><p>JavaScript不定参数</p> <pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>JavaScript不定参数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token special-attr"><span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span><span class="token string">'two'</span><span class="token punctuation">,</span><span class="token string">'three'</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> 前端 </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle笔记</title>
      <link href="/2018/06/19/oracle-bi-ji/"/>
      <url>/2018/06/19/oracle-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li><p>强制并行处理：<code>/*+ monitor parallel(8)*/</code></p></li><li><p>plsql查看sql性能：F5<br><escape><span id="more"></span></escape></p></li><li><p>在oracle中有时候需要进行MySQL中的find_in_set查询，故封装了如下函数：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">CREATE OR REPLACE FUNCTION FIND_IN_SET<span class="token punctuation">(</span>piv_str1 varchar2, piv_str2 varchar2, p_sep varchar2 :<span class="token operator">=</span> <span class="token string">','</span><span class="token punctuation">)</span>RETURN NUMBER IS  l_idx    number:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> -- 用于计算piv_str2中分隔符的位置  str      varchar2<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  -- 根据分隔符截取的子字符串  piv_str  varchar2<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span> :<span class="token operator">=</span> piv_str2<span class="token punctuation">;</span> -- 将piv_str2赋值给piv_str  res      number:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> -- 返回结果BEGIN-- 如果piv_str中没有分割符，直接判断piv_str1和piv_str是否相等，相等 <span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token number">1</span>IF instr<span class="token punctuation">(</span>piv_str, p_sep, <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span> THEN   IF piv_str <span class="token operator">=</span> piv_str1 THEN      res:<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   END IF<span class="token punctuation">;</span>ELSE-- 循环按分隔符截取piv_strLOOP    l_idx :<span class="token operator">=</span> instr<span class="token punctuation">(</span>piv_str,p_sep<span class="token punctuation">)</span><span class="token punctuation">;</span>-- 当piv_str中还有分隔符时      IF l_idx <span class="token operator">&gt;</span> <span class="token number">0</span> THEN   -- 截取第一个分隔符前的字段str         str:<span class="token operator">=</span> substr<span class="token punctuation">(</span>piv_str,1,l_idx-1<span class="token punctuation">)</span><span class="token punctuation">;</span>   -- 判断 str 和piv_str1 是否相等，相等 <span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token number">1</span> 并结束循环判断         IF str <span class="token operator">=</span> piv_str1 THEN           res:<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>           EXIT<span class="token punctuation">;</span>         END IF<span class="token punctuation">;</span>        piv_str :<span class="token operator">=</span> substr<span class="token punctuation">(</span>piv_str,l_idx+length<span class="token punctuation">(</span>p_sep<span class="token punctuation">))</span><span class="token punctuation">;</span>      ELSE   -- 当截取后的piv_str 中不存在分割符时，判断piv_str和piv_str1是否相等，相等 <span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token number">1</span>        IF piv_str <span class="token operator">=</span> piv_str1 THEN           res:<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        END IF<span class="token punctuation">;</span>        -- 无论最后是否相等，都跳出循环        EXIT<span class="token punctuation">;</span>      END IF<span class="token punctuation">;</span>END LOOP<span class="token punctuation">;</span>-- 结束循环END IF<span class="token punctuation">;</span>-- 返回resRETURN res<span class="token punctuation">;</span>END FIND_IN_SET<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>日期转时间戳函数</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">create or replace <span class="token keyword">function</span> oracle_to_unix<span class="token punctuation">(</span>in_date IN DATE<span class="token punctuation">)</span> <span class="token builtin class-name">return</span> number is    begin         return<span class="token punctuation">(</span> <span class="token punctuation">(</span>in_date -TO_DATE<span class="token punctuation">(</span><span class="token string">'19700101'</span>,<span class="token string">'yyyymmdd'</span><span class="token punctuation">))</span>*86400 - TO_NUMBER<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>TZ_OFFSET<span class="token punctuation">(</span>sessiontimezone<span class="token punctuation">)</span>,1,3<span class="token punctuation">))</span>*3600<span class="token punctuation">)</span><span class="token punctuation">;</span>    end oracle_to_unix<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>时间戳转日期函数</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">create or replace <span class="token keyword">function</span> unix_to_oracle<span class="token punctuation">(</span>in_number NUMBER<span class="token punctuation">)</span> <span class="token builtin class-name">return</span> <span class="token function">date</span> is    begin        return<span class="token punctuation">(</span>TO_DATE<span class="token punctuation">(</span><span class="token string">'19700101'</span>,<span class="token string">'yyyymmdd'</span><span class="token punctuation">)</span> + in_number/86400 +TO_NUMBER<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>TZ_OFFSET<span class="token punctuation">(</span>sessiontimezone<span class="token punctuation">)</span>,1,3<span class="token punctuation">))</span>/24<span class="token punctuation">)</span><span class="token punctuation">;</span>    end unix_to_oracle<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>心跳包机制</title>
      <link href="/2018/06/19/xin-tiao-bao-ji-zhi/"/>
      <url>/2018/06/19/xin-tiao-bao-ji-zhi/</url>
      
        <content type="html"><![CDATA[<ol><li>心跳包机制：主要也就是用于长连接的保活和断线处理。<span id="more"></span></li></ol><p></p>]]></content>
      
      
      <categories>
          
          <category> 心跳 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 心跳 </tag>
            
            <tag> 心跳包 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excel使用小技巧</title>
      <link href="/2018/06/19/excel-shi-yong-xiao-ji-qiao/"/>
      <url>/2018/06/19/excel-shi-yong-xiao-ji-qiao/</url>
      
        <content type="html"><![CDATA[<ol><li><p>excel固定第一行：选择第二行，点击视图里的冻结窗口即可。<span id="more"></span></p></li><li><p>excel分列：<br> 如将某一列的数据由C4159D5953D8转为C4:15:9D:59:53:D8格式：<br> <code>公式为：=left(A1,2) &amp; ":" &amp; mid(A1,3,2) &amp; ":" &amp; mid(A1,5,2) &amp; ":" &amp; mid(A1,7,2) &amp; ":" &amp; mid(A1,9,2) &amp; ":" &amp; right(A1,2)</code></p></li><li><p>删除重复项：<br> 选中数据区域-&gt;数据-&gt;删除重复项-&gt;确定</p></li><li><p>VLOOKUP函数的使用</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Excel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
            <tag> 使用技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>R语言学习</title>
      <link href="/2018/06/19/r-yu-yan-xue-xi/"/>
      <url>/2018/06/19/r-yu-yan-xue-xi/</url>
      
        <content type="html"><![CDATA[<p>** 之前断断续续看了一些R语言的视频，一直没什么效果，看来还得做笔记：**</p><ol><li>&lt;- 是赋值的意思</li><li>向量是下标以1开始的</li><li>区分大小写<br><escape><span id="more"></span></escape></li><li>路径：<code>C://a.txt</code></li><li>round：四舍五入</li></ol>]]></content>
      
      
      <categories>
          
          <category> R </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SEO——权重转移</title>
      <link href="/2018/06/09/seo-quan-chong-zhuan-yi/"/>
      <url>/2018/06/09/seo-quan-chong-zhuan-yi/</url>
      
        <content type="html"><![CDATA[<p>** 产品列表存在多页，或者文章内容过多存在多页时，为了SEO考虑，避免权重流失，内容重复，可以通过下面的方法优化：**</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canonical<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>主页url<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Google 等搜索引擎最终都会只收录 canonical 标签指定的这个网址，搜索引擎会将其它页面作为重复内容，这些重复的内容不再参与页面的权重分配(如 Google 的 PR 值)。</p><span id="more"></span><p>如：<br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=1">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=1</a><br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=2">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=2</a><br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=3">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=3</a><br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=4">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=4</a><br>……<br><a href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=45">https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html?beginPage=45</a></p><p>就可以在每个页面的head标签内添加代码：</p><link rel="canonical" href="https://s.1688.com/selloffer/-C6B7C5C6CDAFD0AC.html">]]></content>
      
      
      <categories>
          
          <category> SEO </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SEO </tag>
            
            <tag> 权重转移 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Go语言基础</title>
      <link href="/2018/06/09/go-yu-yan-ji-chu/"/>
      <url>/2018/06/09/go-yu-yan-ji-chu/</url>
      
        <content type="html"><![CDATA[<p>** 自学Go语言的过程漫长而坎坷，先记录一些基础知识：**</p><ol><li>执行go文件：<code>E:\Go_WorkSpace&gt;go run test.go</code></li><li>把go程序编译成exe文件：<code>E:\Go_WorkSpace&gt;go build test.go</code><br><escape><span id="more"></span></escape></li><li>打印内容：<code>fmt.Printf("Hello,World!")</code></li></ol>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
            <tag> 语言基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitBook使用笔记</title>
      <link href="/2018/06/09/gitbook-shi-yong-bi-ji/"/>
      <url>/2018/06/09/gitbook-shi-yong-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>使用GitBook来写书还是比较方便的，可以部署在github上的，总的来说，不太复杂。现记录一些常用的操作，方便大家参考。</p><span id="more"></span><h5 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h5><ol><li>编译文件生成网页<code>gitbook build</code></li><li>启动服务<code> gitbook serve</code></li><li>安装可以参考这个网页 <a href="https://www.jianshu.com/p/421cc442f06c">gitbook安装</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> GitBook </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitBook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo使用笔记</title>
      <link href="/2018/06/09/hexo-shi-yong-bi-ji/"/>
      <url>/2018/06/09/hexo-shi-yong-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>这个博客网站是使用hexo搭建，部署在github上的，总的来说，不太复杂。现记录一些常用的操作，方便大家参考。</p><span id="more"></span><h5 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h5><ol><li>清除当前缓存<code>$ hexo clean</code></li><li>重新生成并部署到github上<code>$ hexo g -d</code></li><li>启动服务<code> $ hexo s</code></li><li>新建页面<code>$ hexo new page categories</code></li></ol><h4 id="常用设置"><a href="#常用设置" class="headerlink" title="常用设置"></a>常用设置</h4><ol><li><p>如何在首页设置「阅读全文」?<br> 在首页显示一篇文章的部分内容(或者摘要)，并提供一个链接(「阅读全文」)跳转到文章详情页。 NexT 提供以下三种方式：</p><ol><li>在文章中使用 <!-- more --> 手动进行截断，Hexo 提供的方式(<font color="#FF0000">推荐</font> )</li><li>在文章的 <a href="https://hexo.io/docs/front-matter.html">front-matter</a> 中添加 description，并提供文章摘录</li><li>自动形成摘要，在 主题配置文件_config.yml 中添加： <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">auto_excerpt:  enable: <span class="token boolean">true</span>  length: <span class="token number">150</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ol></li></ol><p>默认截取的长度为 150 字符，可以根据需要自行设定。</p><p>建议使用 <!-- more -->方式，既可以精确控制需要显示的摘录内容， 还可以让 Hexo 中的插件更好的识别。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> NexT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker使用</title>
      <link href="/2018/06/05/docker-shi-yong/"/>
      <url>/2018/06/05/docker-shi-yong/</url>
      
        <content type="html"><![CDATA[<ol><li>windows7 安装docker，需要利用 docker toolbox 来安装。</li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>架构学习</title>
      <link href="/2018/06/05/jia-gou-xue-xi/"/>
      <url>/2018/06/05/jia-gou-xue-xi/</url>
      
        <content type="html"><![CDATA[<ol><li><p>架构设计的主要目的是为了解决软件系统复杂度带来的问题。</p></li><li><p>架构的复杂度来源：高性能、高可用、可扩展性、其它(低成本、安全、规模等)。</p></li><li><p>架构设计的三原则：合适优于业界领先、简单优于复杂、演化优于一步到位。</p></li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> 架构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件架构 </tag>
            
            <tag> 架构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高德地图API使用</title>
      <link href="/2018/06/05/gao-de-di-tu-api-shi-yong/"/>
      <url>/2018/06/05/gao-de-di-tu-api-shi-yong/</url>
      
        <content type="html"><![CDATA[<ol><li><p>高德地图的覆盖物label默认是蓝框白底的，className为amap-marker-label，可以通过css来修改样式。如：<span id="more"></span></p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>    .amap-marker-label<span class="token punctuation">{</span>        height:40px<span class="token punctuation">;</span>        width:120px<span class="token punctuation">;</span>        background-color: red<span class="token punctuation">;</span>        border: solid 1px black<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>高德地图，根据地址搜索经纬度，再次搜索时清除遮盖物：</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">var markers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>map.remove<span class="token punctuation">(</span>markers<span class="token punctuation">)</span><span class="token punctuation">;</span>markers.push<span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> 地图API </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高德地图 </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>富文本编辑器</title>
      <link href="/2018/06/04/fu-wen-ben-bian-ji-qi/"/>
      <url>/2018/06/04/fu-wen-ben-bian-ji-qi/</url>
      
        <content type="html"><![CDATA[<ol><li>解决umeditor富文本内容居中可能失效的问题：更改umeditor.config.js的xss过滤为false<br> 即：<code>,xssFilterRules: false,inputXssFilter: false,outputXssFilter: false</code></li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> 插件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 富文本编辑器 </tag>
            
            <tag> 插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS笔记</title>
      <link href="/2018/06/04/css-bi-ji/"/>
      <url>/2018/06/04/css-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li><p>如果希望css样式不被覆盖，可以在后面加上!important，如：<code>.cntck{ margin-right: 5px!important;}</code></p></li><li><p>如果css希望两个标签对齐，可以用position来处理，如：<code>.cntck{position: relative; bottom: -2px;}</code></p></li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jquery笔记</title>
      <link href="/2018/06/04/jquery-bi-ji/"/>
      <url>/2018/06/04/jquery-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li><p>jquery获取json的长度：</p><p> 1.1 一维：<code>var JsonTemp = {'id':5,'name':'lilei'};  length = JsonTemp.length;</code></p><p> 1.2 二维：<code>var JsonTemp = {["name":"张三","age":18],["name":"李四","age":19]};  length = Object.keys(JsonTemp).length;</code></p></li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> Jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> 前端 </tag>
            
            <tag> Jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL笔记</title>
      <link href="/2018/06/04/mysql-bi-ji/"/>
      <url>/2018/06/04/mysql-bi-ji/</url>
      
        <content type="html"><![CDATA[<ol><li><p>mysql根据汉字首字母排序的方法<br> utf8_general_ci编码：<code>select * from t_school order by convert(name using gbk);</code><br><escape><span id="more"></span></escape></p></li><li><p>删除表数据的时候，如果表使用了别名，应该这样写：<code>DELETE a FROM table a;</code></p></li><li><p>不使用缓存执行某个查询sql：<code>SELECT SQL_NO_CACHE xx, xx from tb;</code></p></li><li><p>MySql中Blob与Text的区别<br> BLOB列被视为二进制字符串，TEXT列被视为非二进制字符串。</p></li><li><p>MyISAM和InnoDB的区别<br> Innodb 支持事务处理与外键和行级锁；<br> MyISAM类型的表强调的是性能，其执行速度比InnoDB类型更快。</p></li><li><p>数据库恢复是指通过技术手段，将保存在数据库中丢失的电子数据进行抢救和恢复的技术。</p></li><li><p>mysql删除自定义函数：<br><code>DROP FUNCTION IF EXISTS `函数名`;</code></p></li><li><p>插入数据：</p> <pre class="line-numbers language-insert" data-language="insert"><div class="caption"><span>into tb (field1,field2,field3……) value (val1,val2,val3……);</span></div><code class="language-insert">insert into tb (field1,field2,field3……) values (val1,val2,val3……);insert into tb set field1=val1,field2=val2,field3=val3;insert into tb (field1,field2,field3……) values (val11,val12,val13……),(val21,val22,val23……),(val31,val32,val33……);insert ignore into tb (field1,field2,field3……) values (val1,val2,val3……);//使用ignore关键字忽略错误<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>查询数据库中每个表的记录数：</p> <pre class="line-numbers language-use" data-language="use"><div class="caption"><span>information_schema;</span></div><code class="language-use">select table_name,table_rows from tables where TABLE_SCHEMA = 'dataBase' order by table_rows desc;  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>mysql查询主键字段名：<br><code> SELECT column_name FROM INFORMATION_SCHEMA.`KEY_COLUMN_USAGE` WHERE table_name='表名' AND constraint_name='PRIMARY';</code></p></li><li><p>mysql查询所有字段名：<br><code> SELECT column_name FROM information_schema.columns WHERE table_name='表名';</code></p></li></ol><p>12、null的问题：<br><code>update t_classroom set building_name=null where build_id is not null;</code></p><p>13、获取指定字段的默认值：  DEFAULT(col_name)<br><code>select DEFAULT(sort) from t_node_school limit 1;</code></p><p>14、mysql重命名表名：<br><code>alter table tb1 rename to tb2;</code><br>或者<br><code>rename tb1 to tb2;</code></p><p>15、null字段排序问题：<br>    设排序字段为sort，使用order by sort desc实现降序时，sort为null的数据会排在最后面；<br>    但是使用order by sort升序时，sort为null的数据会排在最前面，如果想将sort为null的数据排在后面，就需要加is null。<br>    如：select * from t_grade order by sort is null, sort, create_time desc;</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用命令</title>
      <link href="/2018/06/04/linux-chang-yong-ming-ling/"/>
      <url>/2018/06/04/linux-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<p>** 编程多年，一直对Linux操作不熟练，主要原因是命令不熟悉，为方便记忆，现罗列一些常用的命令：**</p><ol><li>创建文件夹： <code> mkdir dir</code></li><li>删除文件夹(-r向下递归，-f强制删除)： <code> rm -rf dir</code><br><escape><span id="more"></span></escape></li><li>创建文件：<code> touch a.txt</code></li><li>删除文件：<code> rm -f /var/log/a.txt</code></li><li>追加内容到文件：<code> echo sssss &gt;&gt; a.txt</code></li><li>插入内容：vi text.txt =》按i =》插入内容 =》按Esc =》:wq</li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>书单心愿墙</title>
      <link href="/2018/06/01/shu-dan-xin-yuan-qiang/"/>
      <url>/2018/06/01/shu-dan-xin-yuan-qiang/</url>
      
        <content type="html"><![CDATA[<h3 id="罗列一些自己后续要读的书籍或者文章："><a href="#罗列一些自己后续要读的书籍或者文章：" class="headerlink" title="罗列一些自己后续要读的书籍或者文章："></a>罗列一些自己后续要读的书籍或者文章：</h3><ul><li>《黑客与画家》</li><li>《UNIX编程艺术》</li><li>《异类》</li><li>《羊皮卷》——《选择的力量》</li><li>《优秀到不能被忽视》<br><escape><span id="more"></span></escape></li><li>《无言的宇宙》</li><li>《数学女孩》</li></ul>]]></content>
      
      
      <categories>
          
          <category> 书籍 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书籍 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git忽略文件</title>
      <link href="/2018/04/25/git-hu-lue-wen-jian/"/>
      <url>/2018/04/25/git-hu-lue-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>软件项目使用git提交远程仓库时，如果需要忽略某些文件(如缓存文件、框架核心文件)的变更，可以在项目的根目录下创建.gitignore文件，并罗列需忽略的文件或者文件夹。</p><span id="more"></span><p>如下为PHP Yii2下的.gitignore文件内容：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">.idea/.project.settings/vendorassets//runtime/Runtime.idea/workspace.xml/upload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>但有时候忽略文件不起作用，其原因是：git设置本地忽略时，必须保证远程仓库分支上没有这个要忽略的文件；否则本地的ignore将不起作用。<br>解决方式：删除要忽略的文件并提交远程仓库，ignore该文件。</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> 文件忽略 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP实现AES加解密</title>
      <link href="/2018/04/20/php-shi-xian-aes-jia-jie-mi/"/>
      <url>/2018/04/20/php-shi-xian-aes-jia-jie-mi/</url>
      
        <content type="html"><![CDATA[<p>系统中的账号信息在进行存储的时候，需要做相应的加密处理；比如用户密码一般是以密文形式存储，而且是不可逆的，常用的就是md5加密；而对于某些账户信息(如：手机号码、银行卡号等)就需要进行可逆加密(如：AES)保存，这样既可以保证数据的安全性，又不影响正常的业务处理。</p><span id="more"></span><p>下面介绍一下以PHP实现AES加密解密：</p><p>1、AES加密解密类</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">namespace</span> <span class="token package">libs</span><span class="token punctuation">;</span><span class="token comment">/*** 利用mcrypt做AES加密解密* 支持密钥：64bit（字节长度8）* 支持算法：DES* 支持模式：ECB* 填充方式：PKCS5*/</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Aes</span><span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token constant">CIPHER</span> <span class="token operator">=</span> <span class="token constant">MCRYPT_DES</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token constant">MODE</span> <span class="token operator">=</span> <span class="token constant">MCRYPT_MODE_ECB</span><span class="token punctuation">;</span>    <span class="token comment">/**     * 加密     * @param string $str需加密的字符串     * @param string $key密钥(8位)     * @return string   密文     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">encode</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$size</span> <span class="token operator">=</span> <span class="token function">mcrypt_get_block_size</span> <span class="token punctuation">(</span> <span class="token constant">MCRYPT_DES</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ecb'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token function">pkcs5_pad</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span> <span class="token variable">$size</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$iv</span> <span class="token operator">=</span> <span class="token function">mcrypt_create_iv</span><span class="token punctuation">(</span><span class="token function">mcrypt_get_iv_size</span><span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">CIPHER</span><span class="token punctuation">,</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">MODE</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">MCRYPT_RAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mcrypt_encrypt</span><span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">CIPHER</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$str</span><span class="token punctuation">,</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">MODE</span><span class="token punctuation">,</span> <span class="token variable">$iv</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * 解密     * @param string $str   密文     * @param string $key   密钥(8位)     * @return string   明文     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">decode</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">base64_decode</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$iv</span> <span class="token operator">=</span> <span class="token function">mcrypt_create_iv</span><span class="token punctuation">(</span><span class="token function">mcrypt_get_iv_size</span><span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">CIPHER</span><span class="token punctuation">,</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">MODE</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">MCRYPT_RAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token function">mcrypt_decrypt</span><span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">CIPHER</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$str</span><span class="token punctuation">,</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">MODE</span><span class="token punctuation">,</span> <span class="token variable">$iv</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token function">pkcs5_unpad</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * PKCS5填充     * @param $text     * @param $blocksize     * @return string     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">pkcs5_pad</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span> <span class="token variable">$blocksize</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$pad</span> <span class="token operator">=</span> <span class="token variable">$blocksize</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token variable">$blocksize</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token variable">$text</span> <span class="token operator">.</span> <span class="token function">str_repeat</span><span class="token punctuation">(</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token variable">$pad</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$pad</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     *     * @param $text     * @return bool|string     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">pkcs5_unpad</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$pad</span> <span class="token operator">=</span> <span class="token function">ord</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">{</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$pad</span> <span class="token operator">&gt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strspn</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span> <span class="token function">chr</span><span class="token punctuation">(</span><span class="token variable">$pad</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token variable">$pad</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token variable">$pad</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">*</span> <span class="token variable">$pad</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2、调用</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>modules<span class="token punctuation">\</span>demo<span class="token punctuation">\</span>controllers</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>common<span class="token punctuation">\</span>components<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">libs<span class="token punctuation">\</span>Aes</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">TestController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">actionTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'WGiSP3UQ'</span><span class="token punctuation">;</span>        <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'18958019299'</span><span class="token punctuation">;</span>        <span class="token variable">$enStr</span> <span class="token operator">=</span> <span class="token class-name static-context">Aes</span><span class="token operator">::</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$deStr</span> <span class="token operator">=</span> <span class="token class-name static-context">Aes</span><span class="token operator">::</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token variable">$enStr</span><span class="token punctuation">,</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span><span class="token variable">$enStr</span><span class="token punctuation">,</span><span class="token variable">$deStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3、访问<a href="http://127.0.0.1/web/demo/test/test">http://127.0.0.1/web/demo/test/test</a> ，运行结果如下：</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">"18958019299"</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">"WiBZggO/DRaczJ3wSirvEw=="</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">"18958019299"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> AES </tag>
            
            <tag> 加解密 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JQuery面向对象写法</title>
      <link href="/2018/04/19/jquery-mian-xiang-dui-xiang-xie-fa/"/>
      <url>/2018/04/19/jquery-mian-xiang-dui-xiang-xie-fa/</url>
      
        <content type="html"><![CDATA[<p>书写Jquery代码时，普通的面向过程的写法可以实现功能，但不利于后期维护。现介绍面向对象的写法。</p><span id="more"></span><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>大班<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>搜索<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>添加<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>update<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token keyword">var</span> clickAct <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">btn</span><span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>btn<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> func <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'data-event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>that<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'data-name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">list</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">search</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">del</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>clickAct<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 面向对象 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL函数</title>
      <link href="/2018/03/29/mysql-han-shu/"/>
      <url>/2018/03/29/mysql-han-shu/</url>
      
        <content type="html"><![CDATA[<p>记录几个常用的MySQL函数：</p><h3 id="1、LAST-INSERT-ID-expr"><a href="#1、LAST-INSERT-ID-expr" class="headerlink" title="1、LAST_INSERT_ID([expr])"></a>1、LAST_INSERT_ID([expr])</h3><p>自动返回最后一个INSERT或 UPDATE 问询为 AUTO_INCREMENT列设置的第一个发生的值。</p><span id="more"></span><p>如果一次性insert多条数据，只返回第一个数据的主键。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mysql<span class="token operator">&gt;</span> SELECT * FROM t<span class="token punctuation">;</span>+----+------+<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Bob  <span class="token operator">|</span>+----+------+mysql<span class="token operator">&gt;</span> INSERT INTO t VALUES  <span class="token punctuation">(</span>NULL, <span class="token string">'Mary'</span><span class="token punctuation">)</span>, <span class="token punctuation">(</span>NULL, <span class="token string">'Jane'</span><span class="token punctuation">)</span>, <span class="token punctuation">(</span>NULL, <span class="token string">'Lisa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mysql<span class="token operator">&gt;</span> SELECT * FROM t<span class="token punctuation">;</span>+----+------+<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Bob  <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Mary <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> Jane <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> Lisa <span class="token operator">|</span>+----+------+mysql<span class="token operator">&gt;</span> SELECT LAST_INSERT_ID<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>-<span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注：假如你使用 INSERT IGNORE而记录被忽略，则AUTO_INCREMENT 计数器不会增量，而 LAST_INSERT_ID() 返回0,这反映出没有插入任何记录。</p><p>若给出作为到LAST_INSERT_ID()的参数expr ，则参数的值被函数返回，并作为被LAST_INSERT_ID()返回的下一个值而被记忆。这可用于模拟序列：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mysql<span class="token operator">&gt;</span> CREATE TABLE sequence <span class="token punctuation">(</span>id INT NOT NULL<span class="token punctuation">)</span><span class="token punctuation">;</span>mysql<span class="token operator">&gt;</span> INSERT INTO sequence VALUES <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mysql<span class="token operator">&gt;</span> UPDATE sequence SET <span class="token assign-left variable">id</span><span class="token operator">=</span>LAST_INSERT_ID<span class="token punctuation">(</span>id+1<span class="token punctuation">)</span><span class="token punctuation">;</span>mysql<span class="token operator">&gt;</span> SELECT LAST_INSERT_ID<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     -<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> 函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-03-29杂谈</title>
      <link href="/2018/03/29/2018-03-29-za-tan/"/>
      <url>/2018/03/29/2018-03-29-za-tan/</url>
      
        <content type="html"><![CDATA[<p>哈哈，木仓车神附体，科目一96！</p><span id="more"></span><p><img src="/images/happy.jpg" alt="I'm very happy."></p>]]></content>
      
      
      <categories>
          
          <category> 其他 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用工具推荐</title>
      <link href="/2018/03/28/chang-yong-gong-ju-tui-jian/"/>
      <url>/2018/03/28/chang-yong-gong-ju-tui-jian/</url>
      
        <content type="html"><![CDATA[<h3 id="1、windows文件搜索工具"><a href="#1、windows文件搜索工具" class="headerlink" title="1、windows文件搜索工具"></a>1、windows文件搜索工具</h3><p>给大家推荐一款windows下的文件搜索工具——Everything，下载地址：<a href="http://www.voidtools.com/">http://www.voidtools.com/</a></p><h3 id="2、文档搜索工具"><a href="#2、文档搜索工具" class="headerlink" title="2、文档搜索工具"></a>2、文档搜索工具</h3><p>安利一个文档搜索工具——鸠摩搜索，各种格式的电子书、文档都可以下载，比如PDF、TXT、MOBI、DOC等，地址：<a href="https://www.jiumodiary.com/">鸠摩搜索</a></p><span id="more"></span><h3 id="3、API接口文档管理工具——小幺鸡"><a href="#3、API接口文档管理工具——小幺鸡" class="headerlink" title="3、API接口文档管理工具——小幺鸡"></a>3、API接口文档管理工具——<a href="http://www.xiaoyaoji.cn/">小幺鸡</a></h3><h3 id="4、Git项目搜索工具——BitHubLab"><a href="#4、Git项目搜索工具——BitHubLab" class="headerlink" title="4、Git项目搜索工具——BitHubLab"></a>4、Git项目搜索工具——BitHubLab</h3><p><a href="https://bithublab.org/">BitHubLab</a>，可以搜索所有Git平台上的公开项目，包括GitHub、GitLab和BitBucket等的项目。</p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
